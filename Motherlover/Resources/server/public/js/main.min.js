var map = [{"line":829,"filename":"js/vendor/greensock/CSSPlugin.js"},{"line":2203,"filename":"js/vendor/greensock/TweenLite.js"},{"line":2210,"filename":"js/vendor/async.min.js"},{"line":6034,"filename":"js/vendor/socket.io.js"},{"line":6044,"filename":"js/vendor/jquery-1.7.2.min.js"},{"line":6092,"filename":"js/libs/jquery.tweenlite.js"},{"line":6249,"filename":"js/main.js"}]
/**
 * js/vendor/greensock/CSSPlugin.js
 */

/*    1 */  /*!
      2      * VERSION: beta 1.36
      3      * DATE: 2012-06-23
      4      * JavaScript
      5      * UPDATES AND DOCS AT: http://www.greensock.com
      6      *
      7      * Copyright (c) 2008-2012, GreenSock. All rights reserved.
      8      * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for
      9      * corporate Club GreenSock members, the software agreement that was issued with the corporate
     10      * membership.
     11      *
     12      * @author: Jack Doyle, jack@greensock.com
     13      */
/*   14 */  ;(window._gsQueue || (window._gsQueue = [])).push( function() {
/*   15 */  
/*   16 */  	_gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin","TweenLite"], function(TweenPlugin, TweenLite) {
/*   17 */  
/*   18 */  		"use strict";
/*   19 */  
/*   20 */  		var CSSPlugin = function() {
/*   21 */  				TweenPlugin.call(this, "css");
/*   22 */  				this._overwriteProps.pop();
/*   23 */  			},
/*   24 */  			p = CSSPlugin.prototype = new TweenPlugin("css");
/*   25 */  
/*   26 */  		p.constructor = CSSPlugin;
/*   27 */  		CSSPlugin.API = 2;
/*   28 */  		CSSPlugin.suffixMap = {top:"px", right:"px", bottom:"px", left:"px", width:"px", height:"px", fontSize:"px", padding:"px", margin:"px"};
/*   29 */  
/*   30 */  		//set up some local variables and functions that we can reuse for all tweens - we do this only once and cache things to improve performance
/*   31 */  		var _NaNExp = /[^\d\-\.]/g,
/*   32 */  			_suffixExp = /(\d|\-|\+|=|#|\.)*/g,
/*   33 */  			_numExp = /(\d|\.)+/g,
/*   34 */  			_opacityExp = /opacity=([^)]*)/,
/*   35 */  			_opacityValExp = /opacity:([^;]*)/,
/*   36 */  			_capsExp = /([A-Z])/g,
/*   37 */  			_camelExp = /-([a-z])/gi,
/*   38 */  			_camelFunc = function(s, g) { return g.toUpperCase() },
/*   39 */  			_horizExp = /(Left|Right|Width)/i,
/*   40 */  			_ieGetMatrixExp = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
/*   41 */  			_ieSetMatrixExp = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
/*   42 */  			_DEG2RAD = Math.PI / 180,
/*   43 */  			_RAD2DEG = 180 / Math.PI,
/*   44 */  			_tempDiv = document.createElement("div"),
/*   45 */  
/*   46 */  			//primarily for older versions of IE
/*   47 */  			_supportsOpacity = (function() {
/*   48 */  				var d = document.createElement("div"), a;
/*   49 */  				d.innerHTML = "<a style='top:1px;opacity:.55;'>a</a>";
/*   50 */  				if (!(a = d.getElementsByTagName("a")[0])) {
/*   51 */  					return false;
/*   52 */  				}
/*   53 */  				return /^0.55/.test(a.style.opacity);
/*   54 */  			})(),
/*   55 */  
/*   56 */  			_ieVers = (function() {
/*   57 */  				(/MSIE ([0-9]{1,}[\.0-9]{0,})/).exec(navigator.userAgent);
/*   58 */  				return parseFloat( RegExp.$1 );
/*   59 */  			})(),
/*   60 */  
/*   61 */  			//parses a color (like #9F0, #FF9900, or rgb(255,51,153)) into an array with 3 elements for red, green, and blue. Also handles rgba() values (splits into array of 4 elements of course)
/*   62 */  			_parseColor = function(color) {
/*   63 */  				if (!color || color === "") {
/*   64 */  					return _colorLookup.black;
/*   65 */  				} else if (_colorLookup[color]) {
/*   66 */  					return _colorLookup[color];
/*   67 */  				} else if (typeof(color) === "number") {
/*   68 */  					return [color >> 16, (color >> 8) & 255, color & 255];
/*   69 */  				} else if (color.charAt(0) === "#") {
/*   70 */  					if (color.length === 4) { //for shorthand like #9F0
/*   71 */  						color = "#" + color.charAt(1) + color.charAt(1) + color.charAt(2) + color.charAt(2) + color.charAt(3) + color.charAt(3);
/*   72 */  					}
/*   73 */  					color = parseInt(color.substr(1), 16);
/*   74 */  					return [color >> 16, (color >> 8) & 255, color & 255];
/*   75 */  				} else {
/*   76 */  					return color.match(_numExp) || _colorLookup.transparent;
/*   77 */  				}
/*   78 */  			},
/*   79 */  			_getIEOpacity = function(obj) {
/*   80 */  				return (_opacityExp.test( ((typeof(obj) === "string") ? obj : (obj.currentStyle ? obj.currentStyle.filter : obj.style.filter) || "") ) ? ( parseFloat( RegExp.$1 ) / 100 ) : 1);
/*   81 */  			},
/*   82 */  			_getComputedStyle = (document.defaultView) ? document.defaultView.getComputedStyle : function(o,s) {},
/*   83 */  
/*   84 */  			//gets an individual style property. cs is for computedStyle (a speed optimization - we don't want to run it more than once if we don't have to). calc forces the returned value to be based on the computedStyle, ignoring anything that's in the element's "style" property (computing normalizes certain things for us)
/*   85 */  			_getStyle = function(t, p, cs, calc) {
/*   86 */  				if (!_supportsOpacity && p === "opacity") { //several versions of IE don't use the standard "opacity" property - they use things like filter:alpha(opacity=50), so we parse that here.
/*   87 */  					return _getIEOpacity(t);
/*   88 */  				} else if (!calc && t.style[p]) {
/*   89 */  					return t.style[p];
/*   90 */  				} else if ((cs = cs || _getComputedStyle(t, null))) {
/*   91 */  					t = cs.getPropertyValue(p.replace(_capsExp, "-$1").toLowerCase());
/*   92 */  					return (t || cs.length) ? t : cs[p]; //Opera behaves VERY strangely - length is usually 0 and cs[p] is the only way to get accurate results EXCEPT when checking for -o-transform which only works with cs.getPropertyValue()!
/*   93 */  				} else if (t.currentStyle) {
/*   94 */  					return t.currentStyle[p];
/*   95 */  				}
/*   96 */  				return null;
/*   97 */  			},
/*   98 */  
/*   99 */  			//returns at object containing ALL of the style properties in camel-case and their associated values.
/*  100 */  			_getStyles = function(t, cs) {
/*  101 */  				var s = {}, i;
/*  102 */  				if ((cs = cs || _getComputedStyle(t, null))) {
/*  103 */  					if ((i = cs.length)) {
/*  104 */  						while (--i > -1) {
/*  105 */  							s[cs[i].replace(_camelExp, _camelFunc)] = cs.getPropertyValue(cs[i]);
/*  106 */  						}
/*  107 */  					} else { //Opera behaves differently - cs.length is always 0, so we must do a for...in loop.
/*  108 */  						for (i in cs) {
/*  109 */  							s[i] = cs[i];
/*  110 */  						}
/*  111 */  					}
/*  112 */  				} else if ((cs = t.currentStyle || t.style)) {
/*  113 */  					for (i in cs) {
/*  114 */  						s[i.replace(_camelExp, _camelFunc)] = cs[i];
/*  115 */  					}
/*  116 */  				}
/*  117 */  				if (!_supportsOpacity) {
/*  118 */  					s.opacity = _getIEOpacity(t);
/*  119 */  				}
/*  120 */  				var tr = _getTransform(t, cs, false);
/*  121 */  				s.rotation = tr.rotation * _RAD2DEG;
/*  122 */  				s.skewX = tr.skewX * _RAD2DEG;
/*  123 */  				s.scaleX = tr.scaleX;
/*  124 */  				s.scaleY = tr.scaleY;
/*  125 */  				s.x = tr.x;
/*  126 */  				s.y = tr.y;
/*  127 */  				if (s.filters != null) {
/*  128 */  					delete s.filters;
/*  129 */  				}
/*  130 */  				return s;
/*  131 */  			},
/*  132 */  
/*  133 */  			//analyzes two style objects (as returned by _getStyles()) and only looks for differences between them that contain tweenable values (like a number or color). It returns an object containing only those isolated properties and values for tweening, and optionally populates an array of those property names too (so that we can loop through them at the end of the tween and remove them for css tweens that apply a className - we don't want the cascading to get messed up)
/*  134 */  			_cssDif = function(s1, s2, v, d) {
/*  135 */  				var s = {}, val, p;
/*  136 */  				for (p in s2) {
/*  137 */  					if (p !== "cssText") if (p !== "length") if (isNaN(p)) if (s1[p] != (val = s2[p])) if (val !== _transformProp) if (typeof(val) === "number" || typeof(val) === "string") {
/*  138 */  						s[p] = val;
/*  139 */  						if (d) {
/*  140 */  							d.props.push(p);
/*  141 */  						}
/*  142 */  					}
/*  143 */  				}
/*  144 */  				if (v) {
/*  145 */  					for (p in v) { //copy properties (except className)
/*  146 */  						if (p !== "className") {
/*  147 */  							s[p] = v[p];
/*  148 */  						}
/*  149 */  					}
/*  150 */  				}
/*  151 */  				return s;
/*  152 */  			},
/*  153 */  			_transformMap = {scaleX:1, scaleY:1, x:1, y:1, rotation:1, shortRotation:1, skewX:1, skewY:1, scale:1},
/*  154 */  
/*  155 */  			_transformProp, //the Javascript (camelCase) transform property, like msTransform, WebkitTransform, MozTransform, or OTransform.
/*  156 */  			_prefix, //camelCase vendor prefix like "O", "ms", "Webkit", or "Moz".
/*  157 */  			_prefixCSS = (function() { //the non-camelCase vendor prefix like "-o-", "-moz-", "-ms-", or "-webkit-"
/*  158 */  				var d = document.body || document.documentElement,
/*  159 */  					cs = _getComputedStyle(d, ""),
/*  160 */  					a = ["O","-o-","Moz","-moz-","ms","-ms-","Webkit","-webkit-"],
/*  161 */  					i = 9;
/*  162 */  				while ((i-=2) > -1 && !_getStyle(d, a[i]+"transform", cs)) { }
/*  163 */  				if (i > 0) {
/*  164 */  					_transformProp = (_prefix = a[i-1]) + "Transform";
/*  165 */  					return a[i];
/*  166 */  				}
/*  167 */  				return null;
/*  168 */  			})(),
/*  169 */  			_agent = navigator.userAgent,
/*  170 */  			_reqTransformFix = (_agent.indexOf("Safari") !== -1 && _agent.indexOf("Chrome") === -1 && _agent.indexOf("Android") === -1), //non-Android versions of Safari have a bug that prevents changes to "top" and "left" properties from rendering properly if changed on the same frame as a transform UNLESS we set the element's transform-style to "preserve-3d" (VERY odd, I know).
/*  171 */  
/*  172 */  			//parses the transform values for an element, returning an object with x, y, scaleX, scaleY, rotation, skewX, and skewY properties. Note: by default (for performance reasons), all skewing is combined into skewX and rotation but skewY still has a place in the transform object so that we can record how much of the skew is attributed to skewX vs skewY. Remember, a skewY of 10 looks the same as a rotation of 10 and skewX of -10.
/*  173 */  			_getTransform = function(t, cs, rec) {
/*  174 */  				var tm = t._gsTransform, s;
/*  175 */  				if (_transformProp) {
/*  176 */  					s = _getStyle(t, _prefixCSS + "transform", cs, true);
/*  177 */  				} else if (t.currentStyle) {
/*  178 */  					//for older versions of IE, we need to interpret the filter portion that is in the format: progid:DXImageTransform.Microsoft.Matrix(M11=6.123233995736766e-17, M12=-1, M21=1, M22=6.123233995736766e-17, sizingMethod='auto expand') Notice that we need to swap b and c compared to a normal matrix.
/*  179 */  					s = t.currentStyle.filter.match(_ieGetMatrixExp);
/*  180 */  					s = (s && s.length === 4) ? s[0].substr(4) + "," + Number(s[2].substr(4)) + "," + Number(s[1].substr(4)) + "," + s[3].substr(4) + "," + (tm ? tm.x : 0) + "," + (tm ? tm.y : 0) : null;
/*  181 */  				}
/*  182 */  				var v = (s || "").replace(/[^\d\-\.e,]/g, "").split(","),
/*  183 */  					k = (v.length >= 6),
/*  184 */  					a = k ? Number(v[0]) : 1,
/*  185 */  					b = k ? Number(v[1]) : 0,
/*  186 */  					c = k ? Number(v[2]) : 0,
/*  187 */  					d = k ? Number(v[3]) : 1,
/*  188 */  					min = 0.000001,
/*  189 */  					m = rec ? tm || {skewY:0} : {skewY:0},
/*  190 */  					invX = (m.scaleX < 0); //in order to interpret things properly, we need to know if the user applied a negative scaleX previously so that we can adjust the rotation and skewX accordingly. Otherwise, if we always interpret a flipped matrix as affecting scaleY and the user only wants to tween the scaleX on multiple sequential tweens, it would keep the negative scaleY without that being the user's intent.
/*  191 */  
/*  192 */  				m.x = (k ? Number(v[4]) : 0);
/*  193 */  				m.y = (k ? Number(v[5]) : 0);
/*  194 */  				m.scaleX = Math.sqrt(a * a + b * b);
/*  195 */  				m.scaleY = Math.sqrt(d * d + c * c);
/*  196 */  				m.rotation = (a || b) ? Math.atan2(b, a) : m.rotation || 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).
/*  197 */  				m.skewX = (c || d) ? Math.atan2(c, d) + m.rotation : m.skewX || 0;
/*  198 */  				if (Math.abs(m.skewX) > Math.PI / 2) {
/*  199 */  					if (invX) {
/*  200 */  						m.scaleX *= -1;
/*  201 */  						m.skewX += (m.rotation <= 0) ? Math.PI : -Math.PI;
/*  202 */  						m.rotation += (m.rotation <= 0) ? Math.PI : -Math.PI;
/*  203 */  					} else {
/*  204 */  						m.scaleY *= -1;
/*  205 */  						m.skewX += (m.skewX <= 0) ? Math.PI : -Math.PI;
/*  206 */  					}
/*  207 */  				}
/*  208 */  				//some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the "e-" towards the end) and would render the object slightly off. So we round to 0 in these cases. The conditional logic here is faster than calling Math.abs().
/*  209 */  				if (m.rotation < min) if (m.rotation > -min) if (a || b) {
/*  210 */  					m.rotation = 0;
/*  211 */  				}
/*  212 */  				if (m.skewX < min) if (m.skewX > -min) if (b || c) {
/*  213 */  					m.skewX = 0;
/*  214 */  				}
/*  215 */  				if (rec) {
/*  216 */  					t._gsTransform = m; //record to the object's _gsTransform which we use so that tweens can control individual properties independently (we need all the properties to accurately recompose the matrix in the setRatio() method)
/*  217 */  				}
/*  218 */  				return m;
/*  219 */  			},
/*  220 */  
/*  221 */  			_dimensions = {width:["Left","Right"], height:["Top","Bottom"]},
/*  222 */  			_margins = ["marginLeft","marginRight","marginTop","marginBottom"],
/*  223 */  			_getDimension = function(n, t, cs) {
/*  224 */  				var v = parseFloat((n === "width") ? t.offsetWidth : t.offsetHeight),
/*  225 */  					a = _dimensions[n],
/*  226 */  					i = a.length,
/*  227 */  					cs = cs || _getComputedStyle(t, null);
/*  228 */  				while (--i > -1) {
/*  229 */  					v -= parseFloat( _getStyle(t, "padding" + a[i], cs, true) ) || 0;
/*  230 */  					v -= parseFloat( _getStyle(t, "border" + a[i] + "Width", cs, true) ) || 0;
/*  231 */  				}
/*  232 */  				return v;
/*  233 */  			},
/*  234 */  
/*  235 */  			//pass the target element, the property name, the numeric value, and the suffix (like "%", "em", "px", etc.) and it will spit back the equivalent pixel number
/*  236 */  			_convertToPixels = function(t, p, v, sfx, recurse) {
/*  237 */  				if (sfx === "px") { return v; }
/*  238 */  				if (sfx === "auto") { return 0; }
/*  239 */  				var horiz = _horizExp.test(p),
/*  240 */  					node = t,
/*  241 */  					neg = (v < 0);
/*  242 */  				if (neg) {
/*  243 */  					v = -v;
/*  244 */  				}
/*  245 */  				_tempDiv.style.cssText = "border-style:solid; border-width:0; position:absolute; line-height:0;";
/*  246 */  				if (sfx === "%" || sfx === "em") {
/*  247 */  					node = t.parentNode || document.body;
/*  248 */  					_tempDiv.style[(horiz ? "width" : "height")] = v + sfx;
/*  249 */  				} else {
/*  250 */  					_tempDiv.style[(horiz ? "borderLeftWidth" : "borderTopWidth")] = v + sfx;
/*  251 */  				}
/*  252 */  				node.appendChild(_tempDiv);
/*  253 */  				var pix = parseFloat(_tempDiv[(horiz ? "offsetWidth" : "offsetHeight")]);
/*  254 */  				node.removeChild(_tempDiv);
/*  255 */  				if (pix === 0 && !recurse) { //in some browsers (like IE7/8), occasionally the value isn't accurately reported initially, but if we run the function again it will take effect.
/*  256 */  					pix = _convertToPixels(t, p, v, sfx, true);
/*  257 */  				}
/*  258 */  				return neg ? -pix : pix;
/*  259 */  			},
/*  260 */  
/*  261 */  			//for parsing things like transformOrigin or backgroundPosition which must recognize keywords like top/left/right/bottom/center as well as percentages and pixel values. Decorates the supplied object with the following properties: "ox" (offsetX), "oy" (offsetY), "oxp" (if true, "ox" is a percentage not a pixel value), and "oxy" (if true, "oy" is a percentage not a pixel value)
/*  262 */  			_parsePosition = function(v, o) {
/*  263 */  				if (v == null || v === "" || v === "auto") {
/*  264 */  					v = "0 0";
/*  265 */  				}
/*  266 */  				o = o || {};
/*  267 */  				var x = (v.indexOf("left") !== -1) ? "0%" : (v.indexOf("right") !== -1) ? "100%" : v.split(" ")[0],
/*  268 */  					y = (v.indexOf("top") !== -1) ? "0%" : (v.indexOf("bottom") !== -1) ? "100%" : v.split(" ")[1];
/*  269 */  				if (y == null) {
/*  270 */  					y = "0";
/*  271 */  				} else if (y === "center") {
/*  272 */  					y = "50%";
/*  273 */  				}
/*  274 */  				if (x === "center") {
/*  275 */  					x = "50%";
/*  276 */  				}
/*  277 */  				o.oxp = (x.indexOf("%") !== -1);
/*  278 */  				o.oyp = (y.indexOf("%") !== -1);
/*  279 */  				o.oxr = (x.charAt(1) === "=");
/*  280 */  				o.oyr = (y.charAt(1) === "=");
/*  281 */  				o.ox = parseFloat(x.replace(_NaNExp, ""));
/*  282 */  				o.oy = parseFloat(y.replace(_NaNExp, ""));
/*  283 */  				return o;
/*  284 */  			},
/*  285 */  
/*  286 */  			//takes a value and a default number, checks if the value is relative, null, or numeric and spits back a normalized number accordingly. Primarily used in the _parseTransform() function.
/*  287 */  			_parseVal = function(v, d) {
/*  288 */  				return (v == null) ? d : (typeof(v) === "string" && v.indexOf("=") === 1) ? Number(v.split("=").join("")) + d : Number(v);
/*  289 */  			},
/*  290 */  
/*  291 */  			//translates strings like "40deg" or "40" or 40rad" or "+=40deg" to a numeric radian angle, optionally relative to a default value (if "+=" or "-=" prefix is found)
/*  292 */  			_parseAngle = function(v, d) {
/*  293 */  				var m = (v.indexOf("rad") === -1) ? _DEG2RAD : 1,
/*  294 */  					r = (v.indexOf("=") === 1);
/*  295 */  				v = Number(v.replace(_NaNExp, "")) * m;
/*  296 */  				return r ? v + d : v;
/*  297 */  			},
/*  298 */  			_colorLookup = {aqua:[0,255,255],
/*  299 */  							lime:[0,255,0],
/*  300 */  							silver:[192,192,192],
/*  301 */  							black:[0,0,0],
/*  302 */  							maroon:[128,0,0],
/*  303 */  							teal:[0,128,128],
/*  304 */  							blue:[0,0,255],
/*  305 */  							navy:[0,0,128],
/*  306 */  							white:[255,255,255],
/*  307 */  							fuchsia:[255,0,255],
/*  308 */  							olive:[128,128,0],
/*  309 */  							yellow:[255,255,0],
/*  310 */  							orange:[255,165,0],
/*  311 */  							gray:[128,128,128],
/*  312 */  							purple:[128,0,128],
/*  313 */  							green:[0,128,0],
/*  314 */  							red:[255,0,0],
/*  315 */  							pink:[255,192,203],
/*  316 */  							cyan:[0,255,255],
/*  317 */  							transparent:[255,255,255,0]};
/*  318 */  
/*  319 */  
/*  320 */  		//gets called when the tween renders for the first time. This kicks everything off, recording start/end values, etc.
/*  321 */  		p._onInitTween = function(target, value, tween) {
/*  322 */  			if (!target.nodeType) { //css is only for dom elements
/*  323 */  				return false;
/*  324 */  			}
/*  325 */  			this._target = target;
/*  326 */  			this._tween = tween;
/*  327 */  			this._classData = this._transform = null; //_transform is only used for scaleX/scaleY/x/y/rotation/skewX/skewY tweens and _classData is only used if className is defined - this will be an array of properties that we're tweening related to the class which should be removed from the target.style at the END of the tween when the className is populated so that cascading happens properly.
/*  328 */  			var s = this._style = target.style,
/*  329 */  				cs = _getComputedStyle(target, ""),
/*  330 */  				copy, start, v;
/*  331 */  
/*  332 */  			if (typeof(value) === "string") {
/*  333 */  				copy = s.cssText;
/*  334 */  				start = _getStyles(target, cs);
/*  335 */  				s.cssText = copy + ";" + value;
/*  336 */  				v = _cssDif(start, _getStyles(target));
/*  337 */  				if (!_supportsOpacity && _opacityValExp.test(value)) {
/*  338 */  					val.opacity = parseFloat( RegExp.$1 );
/*  339 */  				}
/*  340 */  				value = v;
/*  341 */  				s.cssText = copy;
/*  342 */  			} else if (value.className) {
/*  343 */  				copy = target.className;
/*  344 */  				start = _getStyles(target, cs);
/*  345 */  				target.className = (value.className.charAt(1) !== "=") ? value.className : (value.className.charAt(0) === "+") ? target.className + " " + value.className.substr(2) : target.className.split(value.className.substr(2)).join("");
/*  346 */  				value = _cssDif(start, _getStyles(target), value, (this._classData = {b:copy, e:target.className, props:[]}));
/*  347 */  				target.className = copy;
/*  348 */  			}
/*  349 */  			this._parseVars(value, target, cs, value.suffixMap || CSSPlugin.suffixMap);
/*  350 */  			return true;
/*  351 */  		}
/*  352 */  
/*  353 */  		//feed a vars object to this function and it will parse through its properties and add PropTweens as necessary. This is split out from the _onInitTween() so that we can recurse if necessary, like "margin" should affect "marginLeft", "marginRight", "marginTop", and "marginBottom".
/*  354 */  		p._parseVars = function(vars, t, cs, map) {
/*  355 */  			var s = this._style,
/*  356 */  				p, v, pt, beg, clr1, clr2, bsfx, esfx, rel, start, copy;
/*  357 */  
/*  358 */  			for (p in vars) {
/*  359 */  
/*  360 */  				v = vars[p];
/*  361 */  
/*  362 */  				if (p === "transform" || p === _transformProp) {
/*  363 */  					this._parseTransform(t, v, cs, map);
/*  364 */  					continue;
/*  365 */  				} else if (_transformMap[p] || p === "transformOrigin") {
/*  366 */  					this._parseTransform(t, vars, cs, map);
/*  367 */  					continue;
/*  368 */  				} else if (p === "alpha" || p === "autoAlpha") { //alpha tweens are opacity tweens
/*  369 */  					p = "opacity";
/*  370 */  				} else if (p === "margin" || p === "padding") {
/*  371 */  					copy = (v + "").split(" ");
/*  372 */  					rel = copy.length;
/*  373 */  					pt = {};
/*  374 */  					pt[p + "Top"] = copy[0];
/*  375 */  					pt[p + "Right"] = (rel > 1) ? copy[1] : copy[0];
/*  376 */  					pt[p + "Bottom"] = (rel === 4) ? copy[2] : copy[0];
/*  377 */  					pt[p + "Left"] = (rel === 4) ? copy[3] : (rel === 2) ? copy[1] : copy[0];
/*  378 */  					this._parseVars(pt, t, cs, map);
/*  379 */  					continue;
/*  380 */  				} else if (p === "backgroundPosition" || p === "backgroundSize") {
/*  381 */  					pt = _parsePosition(v); //end values
/*  382 */  					start = _parsePosition( (beg = _getStyle(t, p, cs)) ); //starting values
/*  383 */  					this._firstPT = pt = {_next:this._firstPT, t:s, p:p, b:beg, f:false, n:"css_" + p, type:3,
/*  384 */  							s:start.ox, //x start
/*  385 */  							c:pt.oxr ? pt.ox : pt.ox - start.ox, //change in x
/*  386 */  							ys:start.oy, //y start
/*  387 */  							yc:pt.oyr ? pt.oy : pt.oy - start.oy, //change in y
/*  388 */  							sfx:pt.oxp ? "%" : "px", //x suffix
/*  389 */  							ysfx:pt.oyp ? "%" : "px", //y suffix
/*  390 */  							r:(!pt.oxp && vars.autoRound !== false)};
/*  391 */  					pt.e = (pt.s + pt.c) + pt.sfx + " " + (pt.ys + pt.yc) + pt.ysfx; //we can't just use v because it could contain relative values, like +=50px which is an illegal final value.
/*  392 */  					continue;
/*  393 */  				} else if (p === "border") {
/*  394 */  					copy = (v + "").split(" ");
/*  395 */  					this._parseVars({borderWidth:copy[0], borderStyle:copy[1] || "none", borderColor:copy[2] || "#000000"}, t, cs, map);
/*  396 */  					continue;
/*  397 */  				} else if (p === "autoRound") {
/*  398 */  					continue;
/*  399 */  				}
/*  400 */  
/*  401 */  				beg = _getStyle(t, p, cs);
/*  402 */  				beg = (beg != null) ? beg + "" : ""; //make sure beginning value is a string. Don't do beg = _getStyle(...) || "" because if _getStyle() returns 0, it will make it "" since 0 is a "falsey" value.
/*  403 */  
/*  404 */  				//Some of these properties are in place in order to conform with the standard PropTweens in TweenPlugins so that overwriting and roundProps occur properly. For example, f and r may seem unnecessary here, but they enable other functionality.
/*  405 */  				//_next:*	next linked list node		[object]
/*  406 */  				//t: 	*	target 						[object]
/*  407 */  				//p:	*	property (camelCase)		[string]
/*  408 */  				//s: 	*	starting value				[number]
/*  409 */  				//c:	*	change value				[number]
/*  410 */  				//f:	* 	is function					[boolean]
/*  411 */  				//n:	*	name (for overwriting)		[string]
/*  412 */  				//sfx:		suffix						[string]
/*  413 */  				//b:		beginning value				[string]
/*  414 */  				//i:		intermediate value			[string]
/*  415 */  				//e: 		ending value				[string]
/*  416 */  				//r:	*	round						[boolean]
/*  417 */  				//type:		0=normal, 1=color, 2=rgba, 3=positional offset (like backgroundPosition or backgroundSize), 4=unsupported opacity (ie), -1=non-tweening prop	[number]
/*  418 */  				this._firstPT = pt = {_next:this._firstPT,
/*  419 */  					  t:s,
/*  420 */  					  p:p,
/*  421 */  					  b:beg,
/*  422 */  					  f:false,
/*  423 */  					  n:"css_" + p,
/*  424 */  					  sfx:"",
/*  425 */  					  r:false,
/*  426 */  					  type:0};
/*  427 */  
/*  428 */  				//if it's an autoAlpha, add a new PropTween for "visibility". We must make sure the "visibility" PropTween comes BEFORE the "opacity" one in order to work around a bug in old versions of IE tht would ignore "visibility" changes if made right after an alpha change. Remember, we add PropTweens in reverse order - that's why we do this here, after creating the original PropTween.
/*  429 */  				if (p === "opacity") if (vars.autoAlpha != null) {
/*  430 */  					if (beg === "1") if (_getStyle(t, "visibility", cs) === "hidden") { //if visibility is initially set to "hidden", we should interpret that as intent to make opacity 0.
/*  431 */  						beg = pt.b = "0";
/*  432 */  					}
/*  433 */  					this._firstPT = pt._prev = {_next:pt, t:s, p:"visibility", f:false, n:"css_visibility", r:false, type:-1, b:(Number(beg) !== 0) ? "visible" : "hidden", i:"visible", e:(Number(v) === 0) ? "hidden" : "visible"};
/*  434 */  					this._overwriteProps.push("css_visibility");
/*  435 */  				}
/*  436 */  
/*  437 */  				//color values must be split apart into their R, G, B (and sometimes alpha) values and tweened independently.
/*  438 */  				if (p === "color" || p === "fill" || p === "stroke" || p.indexOf("Color") !== -1 || (typeof(v) === "string" && !v.indexOf("rgb("))) { //Opera uses background: to define color sometimes in addition to backgroundColor:
/*  439 */  					clr1 = _parseColor(beg);
/*  440 */  					clr2 = _parseColor(v);
/*  441 */  					pt.e = ((clr2.length > 3) ? "rgba" : "rgb") + "(" + clr2.join(",") + ")"; //don't just do pt.e = v because that won't work if the destination color is numeric, like 0xFF0000. We need to parse it.
/*  442 */  					pt.s = Number(clr1[0]);				//red starting value
/*  443 */  					pt.c = Number(clr2[0]) - pt.s;		//red change
/*  444 */  					pt.gs = Number(clr1[1]);			//green starting value
/*  445 */  					pt.gc = Number(clr2[1]) - pt.gs;	//green change
/*  446 */  					pt.bs = Number(clr1[2]);			//blue starting value
/*  447 */  					pt.bc = Number(clr2[2]) - pt.bs;	//blue change
/*  448 */  					if (clr1.length > 3 || clr2.length > 3) { //detect an rgba() value
/*  449 */  						pt.as = (clr1.length < 4) ? 1 : Number(clr1[3]);
/*  450 */  						pt.ac = ((clr2.length < 4) ? 1 : Number(clr2[3])) - pt.as;
/*  451 */  						pt.type = (pt.c || pt.gc || pt.bc || pt.ac) ? 2 : -1; //2 = rgba() tween, -1 = no tween, just set the value at the end
/*  452 */  					} else {
/*  453 */  						pt.type = (pt.c || pt.gc || pt.bc) ? 1 : -1; //1 = color tween, -1 = no tween, just set the value at the end because there's no changes
/*  454 */  					}
/*  455 */  
/*  456 */  				} else {
/*  457 */  
/*  458 */  					bsfx = beg.replace(_suffixExp, ""); //beginning suffix
/*  459 */  
/*  460 */  					if (beg === "" || beg === "auto") {
/*  461 */  						if (p === "width" || p === "height") {
/*  462 */  							start = _getDimension(p, t, cs);
/*  463 */  							bsfx = "px";
/*  464 */  						} else {
/*  465 */  							start = (p !== "opacity") ? 0 : 1;
/*  466 */  							bsfx = "";
/*  467 */  						}
/*  468 */  					} else {
/*  469 */  						start = (beg.indexOf(" ") === -1) ? parseFloat(beg.replace(_NaNExp, "")) : NaN;
/*  470 */  					}
/*  471 */  
/*  472 */  					if (typeof(v) === "string") {
/*  473 */  						rel = (v.charAt(1) === "=");
/*  474 */  						esfx = v.replace(_suffixExp, "");
/*  475 */  						v = (v.indexOf(" ") === -1) ? parseFloat(v.replace(_NaNExp, "")) : NaN;
/*  476 */  					} else {
/*  477 */  						rel = false;
/*  478 */  						esfx = "";
/*  479 */  					}
/*  480 */  
/*  481 */  					if (esfx === "") {
/*  482 */  						esfx = map[p] || bsfx; //populate the end suffix, prioritizing the map, then if none is found, use the beginning suffix.
/*  483 */  					}
/*  484 */  
/*  485 */  					pt.e = (v || v === 0) ? (rel ? v + start : v) + esfx : vars[p]; //ensures that any += or -= prefixes are taken care of. Record the end value before normalizing the suffix because we always want to end the tween on exactly what they intended even if it doesn't match the beginning value's suffix.
/*  486 */  
/*  487 */  					//if the beginning/ending suffixes don't match, normalize them...
/*  488 */  					if (bsfx !== esfx) if (esfx !== "") if (v || v === 0) if (start || start === 0) {
/*  489 */  						start = _convertToPixels(t, p, start, bsfx);
/*  490 */  						if (esfx === "%") {
/*  491 */  							start /= _convertToPixels(t, p, 100, "%") / 100;
/*  492 */  							if (start > 100) { //extremely rare
/*  493 */  								start = 100;
/*  494 */  							}
/*  495 */  
/*  496 */  						} else if (esfx === "em") {
/*  497 */  							start /= _convertToPixels(t, p, 1, "em");
/*  498 */  
/*  499 */  						//otherwise convert to pixels.
/*  500 */  						} else {
/*  501 */  							v = _convertToPixels(t, p, v, esfx);
/*  502 */  							esfx = "px"; //we don't use bsfx after this, so we don't need to set it to px too.
/*  503 */  						}
/*  504 */  						if (rel) if (v || v === 0) {
/*  505 */  							pt.e = (v + start) + esfx; //the changes we made affect relative calculations, so adjust the end value here.
/*  506 */  						}
/*  507 */  					}
/*  508 */  
/*  509 */  					if ((start || start === 0) && (v || v === 0) && (pt.c = (rel ? v : v - start))) { //faster than isNaN(). Also, we set pt.c (change) here because if it's 0, we'll just treat it like a non-tweening value. can't do (v !== start) because if it's a relative value and the CHANGE is identical to the START, the condition will fail unnecessarily.
/*  510 */  						pt.s = start;
/*  511 */  						pt.sfx = esfx;
/*  512 */  						if (p === "opacity") {
/*  513 */  							if (!_supportsOpacity) {
/*  514 */  								pt.type = 4;
/*  515 */  								pt.p = "filter";
/*  516 */  								pt.b = "alpha(opacity=" + (pt.s * 100) + ")";
/*  517 */  								pt.e = "alpha(opacity=" + ((pt.s + pt.c) * 100) + ")";
/*  518 */  								pt.dup = (vars.autoAlpha != null); //dup = duplicate the setting of the alpha in order to work around a bug in IE7 and IE8 that prevents changes to "visibility" from taking effect if the filter is changed to a different alpha(opacity) at the same time. Setting it to the SAME value first, then the new value works around the IE7/8 bug.
/*  519 */  								this._style.zoom = 1; //helps correct an IE issue.
/*  520 */  							}
/*  521 */  						} else if (vars.autoRound !== false && (esfx === "px" || p === "zIndex")) { //always round zIndex, and as long as autoRound isn't false, round pixel values (that improves performance in browsers typically)
/*  522 */  							pt.r = true;
/*  523 */  						}
/*  524 */  					} else {
/*  525 */  						pt.type = -1;
/*  526 */  						pt.i = pt.e; //intermediate value is typically the same as the end value.
/*  527 */  						pt.s = pt.c = 0;
/*  528 */  					}
/*  529 */  
/*  530 */  				}
/*  531 */  
/*  532 */  				this._overwriteProps.push("css_" + p);
/*  533 */  				if (pt._next) {
/*  534 */  					pt._next._prev = pt;
/*  535 */  				}
/*  536 */  			}
/*  537 */  
/*  538 */  		}
/*  539 */  
/*  540 */  
/*  541 */  		//compares the beginning x, y, scaleX, scaleY, rotation, and skewX properties with the ending ones and adds PropTweens accordingly wherever necessary. We must tween them individually (rather than just tweening the matrix values) so that elgant overwriting can occur, like if one tween is controlling scaleX, scaleY, and rotation and then another one starts mid-tween that is trying to control the scaleX only - this tween should continue tweening scaleY and rotation.
/*  542 */  		p._parseTransform = function(t, v, cs, map) {
/*  543 */  			if (this._transform) { return; } //only need to parse the transform once, and only if the browser supports it.
/*  544 */  
/*  545 */  			var m1 = this._transform = _getTransform(t, cs, true),
/*  546 */  				s = this._style,
/*  547 */  				min = 0.000001,
/*  548 */  				m2, skewY, p, pt, copy, orig;
/*  549 */  
/*  550 */  			if (typeof(v) === "object") { //for values like scaleX, scaleY, rotation, x, y, skewX, and skewY or transform:{...} (object)
/*  551 */  
/*  552 */  				m2 = {scaleX:_parseVal((v.scaleX != null) ? v.scaleX : v.scale, m1.scaleX),
/*  553 */  					  scaleY:_parseVal((v.scaleY != null) ? v.scaleY : v.scale, m1.scaleY),
/*  554 */  					  x:_parseVal(v.x, m1.x),
/*  555 */  					  y:_parseVal(v.y, m1.y)};
/*  556 */  
/*  557 */  				if (v.shortRotation != null) {
/*  558 */  					m2.rotation = (typeof(v.shortRotation) === "number") ? v.shortRotation * _DEG2RAD : _parseAngle(v.shortRotation, m1.rotation);
/*  559 */  					var dif = (m2.rotation - m1.rotation) % (Math.PI * 2);
/*  560 */  					if (dif !== dif % Math.PI) {
/*  561 */  						dif += Math.PI * ((dif < 0) ? 2 : -2);
/*  562 */  					}
/*  563 */  					m2.rotation = m1.rotation + dif;
/*  564 */  
/*  565 */  				} else {
/*  566 */  					m2.rotation = (v.rotation == null) ? m1.rotation : (typeof(v.rotation) === "number") ? v.rotation * _DEG2RAD : _parseAngle(v.rotation, m1.rotation);
/*  567 */  				}
/*  568 */  				m2.skewX = (v.skewX == null) ? m1.skewX : (typeof(v.skewX) === "number") ? v.skewX * _DEG2RAD : _parseAngle(v.skewX, m1.skewX);
/*  569 */  
/*  570 */  				//note: for performance reasons, we combine all skewing into the skewX and rotation values, ignoring skewY but we must still record it so that we can discern how much of the overall skew is attributed to skewX vs. skewY. Otherwise, if the skewY would always act relative (tween skewY to 10deg, for example, multiple times and if we always combine things into skewX, we can't remember that skewY was 10 from last time). Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of -10 degrees.
/*  571 */  				m2.skewY = (v.skewY == null) ? m1.skewY : (typeof(v.skewY) === "number") ? v.skewY * _DEG2RAD : _parseAngle(v.skewY, m1.skewY);
/*  572 */  				if ((skewY = m2.skewY - m1.skewY)) {
/*  573 */  					m2.skewX += skewY
/*  574 */  					m2.rotation += skewY;
/*  575 */  				}
/*  576 */  				//don't allow rotation/skew values to be a SUPER small decimal because when they're translated back to strings for setting the css property, the browser reports them in a funky way, like 1-e7. Of course we could use toFixed() to resolve that issue but that hurts performance quite a bit with all those function calls on every frame, plus it is virtually impossible to discern values that small visually (nobody will notice changing a rotation of 0.0000001 to 0, so the performance improvement is well worth it).
/*  577 */  				if (m2.skewY < min) if (m2.skewY > -min) {
/*  578 */  					m2.skewY = 0;
/*  579 */  				}
/*  580 */  				if (m2.skewX < min) if (m2.skewX > -min) {
/*  581 */  					m2.skewX = 0;
/*  582 */  				}
/*  583 */  				if (m2.rotation < min) if (m2.rotation > -min) {
/*  584 */  					m2.rotation = 0;
/*  585 */  				}
/*  586 */  
/*  587 */  				//if a transformOrigin is defined, handle it here...
/*  588 */  				if ((orig = v.transformOrigin) != null) {
/*  589 */  					if (_transformProp) {
/*  590 */  						p = _transformProp + "Origin";
/*  591 */  						this._firstPT = pt = {_next:this._firstPT, t:s, p:p, s:0, c:0, n:p, f:false, r:false, b:s[p], e:orig, i:orig, type:-1, sfx:""};
/*  592 */  						if (pt._next) {
/*  593 */  							pt._next._prev = pt;
/*  594 */  						}
/*  595 */  
/*  596 */  					//for older versions of IE (6-8), we need to manually calculate things inside the setRatio() function. We record origin x and y (ox and oy) and whether or not the values are percentages (oxp and oyp).
/*  597 */  					} else {
/*  598 */  						_parsePosition(orig, m1);
/*  599 */  					}
/*  600 */  				}
/*  601 */  
/*  602 */  			} else if (typeof(v) === "string" && _transformProp) { //for values like transform:"rotate(60deg) scale(0.5, 0.8)"
/*  603 */  				copy = s[_transformProp];
/*  604 */  				s[_transformProp] = v;
/*  605 */  				m2 = _getTransform(t, null, false);
/*  606 */  				s[_transformProp] = copy;
/*  607 */  			} else {
/*  608 */  				return;
/*  609 */  			}
/*  610 */  
/*  611 */  			if (!_transformProp) {
/*  612 */  				s.zoom = 1; //helps correct an IE issue.
/*  613 */  			} else if (_reqTransformFix) {
/*  614 */  				s[_transformProp + "Style"] = "preserve-3d"; //corrects a bug in [non-Android] Safari that causes it to skip rendering changes to "top" and "left" that are made on the same frame/render as a transform update. We cannot just check for a Webkit browser because Android devices would evaluate as true, but applying this "fix" actually breaks things in a few Android devices like the Atrix (fun!)
/*  615 */  			}
/*  616 */  
/*  617 */  			for (p in _transformMap) {
/*  618 */  				if (m1[p] !== m2[p]) if (p !== "shortRotation") if (p !== "scale") {
/*  619 */  					this._firstPT = pt = {_next:this._firstPT, t:m1, p:p, s:m1[p], c:m2[p] - m1[p], n:p, f:false, r:false, b:m1[p], e:m2[p], type:0, sfx:0};
/*  620 */  					if (pt._next) {
/*  621 */  						pt._next._prev = pt;
/*  622 */  					}
/*  623 */  					this._overwriteProps.push("css_" + p);
/*  624 */  				}
/*  625 */  			}
/*  626 */  		};
/*  627 */  
/*  628 */  
/*  629 */  		//gets called every time the tween updates, passing the new ratio (typically a value between 0 and 1, but not always (for example, if an Elastic.easeOut is used, the value can jump above 1 mid-tween). It will always start and 0 and end at 1.
/*  630 */  		p.setRatio = function(v) {
/*  631 */  			var pt = this._firstPT,
/*  632 */  				min = 0.000001, val, y;
/*  633 */  
/*  634 */  			//at the end of the tween, we set the values to exactly what we received in order to make sure non-tweening values (like "position" or "float" or whatever) are set and so that if the beginning/ending suffixes (units) didn't match and we normalized to px, the value that the user passed in is used here. We check to see if the tween is at its beginning in case it's a from() tween in which case the ratio will actually go from 1 to 0 over the course of the tween (backwards).
/*  635 */  			if (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {
/*  636 */  				while (pt) {
/*  637 */  					pt.t[pt.p] = pt.e;
/*  638 */  					if (pt.type === 4) if (pt.s + pt.c === 1) { //for older versions of IE that need to use a filter to apply opacity, we should remove the filter if opacity hits 1 in order to improve performance.
/*  639 */  						this._style.removeAttribute("filter");
/*  640 */  						if (_getStyle(this._target, "filter")) { //if a class is applied that has an alpha filter, it will take effect (we don't want that), so re-apply our alpha filter in that case. We must first remove it and then check.
/*  641 */  							pt.t[pt.p] = pt.e;
/*  642 */  						}
/*  643 */  					}
/*  644 */  					pt = pt._next;
/*  645 */  				}
/*  646 */  
/*  647 */  			} else if (v || !(this._tween._time === this._tween._duration || this._tween._time === 0)) {
/*  648 */  
/*  649 */  				while (pt) {
/*  650 */  					val = pt.c * v + pt.s;
/*  651 */  					if (pt.r) {
/*  652 */  						val = (val > 0) ? (val + 0.5) >> 0 : (val - 0.5) >> 0;
/*  653 */  					} else if (val < min) if (val > -min) {
/*  654 */  						val = 0;
/*  655 */  					}
/*  656 */  					if (!pt.type) {
/*  657 */  						pt.t[pt.p] = val + pt.sfx;
/*  658 */  					} else if (pt.type === 1) { //rgb()
/*  659 */  						pt.t[pt.p] = "rgb(" + (val >> 0) + ", " + ((pt.gs + (v * pt.gc)) >> 0) + ", " + ((pt.bs + (v * pt.bc)) >> 0) + ")";
/*  660 */  					} else if (pt.type === 2) { //rgba()
/*  661 */  						pt.t[pt.p] = "rgba(" + (val >> 0) + ", " + ((pt.gs + (v * pt.gc)) >> 0) + ", " + ((pt.bs + (v * pt.bc)) >> 0) + ", " + (pt.as + (v * pt.ac)) + ")";
/*  662 */  					} else if (pt.type === -1) { //non-tweening
/*  663 */  						pt.t[pt.p] = pt.i;
/*  664 */  					} else if (pt.type === 3) { //positional property with an x and y, like backgroundPosition or backgroundSize
/*  665 */  						y = pt.ys + v * pt.yc;
/*  666 */  						if (pt.r) {
/*  667 */  							y = (y > 0) ? (y + 0.5) >> 0 : (y - 0.5) >> 0;
/*  668 */  						}
/*  669 */  						pt.t[pt.p] = val + pt.sfx + " " + y + pt.ysfx;
/*  670 */  					} else {
/*  671 */  						if (pt.dup) {
/*  672 */  							pt.t.filter = pt.t.filter || "alpha(opacity=100)"; //works around bug in IE7/8 that prevents changes to "visibility" from being applied propertly if the filter is changed to a different alpha on the same frame.
/*  673 */  						}
/*  674 */  						if (pt.t.filter.indexOf("opacity=") === -1) { //only used if browser doesn't support the standard opacity style property (IE 7 and 8)
/*  675 */  							pt.t.filter += " alpha(opacity=" + ((val * 100) >> 0) + ")"; //we round the value because otherwise, bugs in IE7/8 can prevent "visibility" changes from being applied properly.
/*  676 */  						} else {
/*  677 */  							pt.t.filter = pt.t.filter.replace(_opacityExp, "opacity=" + ((val * 100) >> 0)); //we round the value because otherwise, bugs in IE7/8 can prevent "visibility" changes from being applied properly.
/*  678 */  						}
/*  679 */  					}
/*  680 */  					pt = pt._next;
/*  681 */  				}
/*  682 */  
/*  683 */  			//if the tween is reversed all the way back to the beginning, we need to restore the original values which may have different units (like % instead of px or em or whatever).
/*  684 */  			} else {
/*  685 */  				while (pt) {
/*  686 */  					pt.t[pt.p] = pt.b;
/*  687 */  					if (pt.type === 4) if (pt.s === 1) { //for older versions of IE that need to use a filter to apply opacity, we should remove the filter if opacity hits 1 in order to improve performance.
/*  688 */  						this._style.removeAttribute("filter");
/*  689 */  						if (_getStyle(this._target, "filter")) { //if a class is applied that has an alpha filter, it will take effect (we don't want that), so re-apply our alpha filter in that case. We must first remove it and then check.
/*  690 */  							pt.t[pt.p] = pt.b;
/*  691 */  						}
/*  692 */  					}
/*  693 */  					pt = pt._next;
/*  694 */  				}
/*  695 */  			}
/*  696 */  
/*  697 */  			//apply transform values like x, y, scaleX, scaleY, rotation, skewX, or skewY. We do these after looping through all the PropTweens because those are where the changes are made to scaleX/scaleY/rotation/skewX/skewY/x/y.
/*  698 */  			if (this._transform) {
/*  699 */  				pt = this._transform; //to improve speed and reduce size, reuse the pt variable as an alias to the _transform property
/*  700 */  				//if there is no rotation or skew, browsers render the transform faster if we just feed it the list of transforms like translate() skewX() scale(), otherwise defining the matrix() values directly is fastest.
/*  701 */  				if (_transformProp && !pt.rotation && !pt.skewX) {
/*  702 */  					this._style[_transformProp] = ((pt.x || pt.y) ? "translate(" + pt.x + "px," + pt.y + "px) " : "") + ((pt.scaleX !== 1 || pt.scaleY !== 1) ? "scale(" + pt.scaleX + "," + (Math.cos(pt.skewX) * pt.scaleY) + ")" : "") || "translate(0px,0px)"; //we need to default to translate(0px,0px) to work around a Chrome bug that rears its ugly head when the transform is set to "".
/*  703 */  				} else {
/*  704 */  					var ang = _transformProp ? pt.rotation : -pt.rotation,
/*  705 */  						skew = _transformProp ? ang - pt.skewX : ang + pt.skewX,
/*  706 */  						a = Math.cos(ang) * pt.scaleX,
/*  707 */  						b = Math.sin(ang) * pt.scaleX,
/*  708 */  						c = Math.sin(skew) * -pt.scaleY,
/*  709 */  						d = Math.cos(skew) * pt.scaleY,
/*  710 */  						cs;
/*  711 */  					//some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the "e-" towards the end) and would render the object slightly off. So we round to 0 in these cases for both b and c. The conditional logic here is faster than calling Math.abs().
/*  712 */  					if (b < min) if (b > -min) {
/*  713 */  						b = 0;
/*  714 */  					}
/*  715 */  					if (c < min) if (c > -min) {
/*  716 */  						c = 0;
/*  717 */  					}
/*  718 */  					if (_transformProp) {
/*  719 */  						this._style[_transformProp] = "matrix(" + a + "," + b + "," + c + "," + d + "," + pt.x + "," + pt.y + ")";
/*  720 */  
/*  721 */  					//only for older versions of IE (6-8), we use a filter and marginLeft/marginTop to simulate the transform.
/*  722 */  					} else if ((cs = this._target.currentStyle)) {
/*  723 */  						min = b; //just for swapping the variables an inverting them (reused "min" to avoid creating another variable in memory). IE's filter matrix uses a non-standard matrix configuration (angle goes the opposite way, and b and c are reversed and inverted)
/*  724 */  						b = -c;
/*  725 */  						c = -min;
/*  726 */  						var filters = this._style.filter;
/*  727 */  						this._style.filter = ""; //remove filters so that we can accurately measure offsetWidth/offsetHeight
/*  728 */  						var w = this._target.offsetWidth,
/*  729 */  							h = this._target.offsetHeight,
/*  730 */  							clip = (cs.position !== "absolute"),
/*  731 */  							m = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + b + ", M21=" + c + ", M22=" + d,
/*  732 */  							ox = pt.x,
/*  733 */  							oy = pt.y,
/*  734 */  							dx, dy;
/*  735 */  
/*  736 */  						//if transformOrigin is being used, adjust the offset x and y
/*  737 */  						if (pt.ox != null) {
/*  738 */  							dx = ((pt.oxp) ? w * pt.ox * 0.01 : pt.ox) - w / 2;
/*  739 */  							dy = ((pt.oyp) ? h * pt.oy * 0.01 : pt.oy) - h / 2;
/*  740 */  							ox = dx - (dx * a + dy * b) + pt.x;
/*  741 */  							oy = dy - (dx * c + dy * d) + pt.y;
/*  742 */  						}
/*  743 */  
/*  744 */  						if (!clip) {
/*  745 */  							var mult = (_ieVers < 8) ? 1 : -1, //in Internet Explorer 7 and before, the box model is broken, causing the browser to treat the width/height of the actual rotated filtered image as the width/height of the box itself, but Microsoft corrected that in IE8. We must use a negative offset in IE8 on the right/bottom
/*  746 */  								i, marg, prop, dif;
/*  747 */  							dx = pt.ieOffsetX || 0;
/*  748 */  							dy = pt.ieOffsetY || 0;
/*  749 */  							pt.ieOffsetX = Math.round((w - ((a < 0 ? -a : a) * w + (b < 0 ? -b : b) * h)) / 2 + ox);
/*  750 */  							pt.ieOffsetY = Math.round((h - ((d < 0 ? -d : d) * h + (c < 0 ? -c : c) * w)) / 2 + oy);
/*  751 */  							for (i = 0; i < 4; i++) {
/*  752 */  								prop = _margins[i];
/*  753 */  								marg = cs[prop];
/*  754 */  								//we need to get the current margin in case it is being tweened separately (we want to respect that tween's changes)
/*  755 */  								val = (marg.indexOf("px") !== -1) ? parseFloat(marg) : _convertToPixels(this._target, prop, parseFloat(marg), marg.replace(_suffixExp, "")) || 0;
/*  756 */  								//PREVIOUS code: (didn't take into consideration negative right/bottom margins for broken box model in certain versions of IE or concurrent tweens of the margins): this._style[prop] = Math.round( (val - ((i < 2) ? dx - pt.ieOffsetX : dy - pt.ieOffsetY)) ) + "px";
/*  757 */  								if (val !== pt[prop]) {
/*  758 */  									dif = (i < 2) ? -pt.ieOffsetX : -pt.ieOffsetY; //if another tween is controlling a margin, we cannot only apply the difference in the ieOffsets, so we essentially zero-out the dx and dy here in that case. We record the margin(s) later so that we can keep comparing them, making this code very flexible.
/*  759 */  								} else {
/*  760 */  									dif = (i < 2) ? dx - pt.ieOffsetX : dy - pt.ieOffsetY;
/*  761 */  								}
/*  762 */  								this._style[prop] = (pt[prop] = Math.round( val - dif * ((i === 0 || i === 2) ? 1 : mult) )) + "px";
/*  763 */  							}
/*  764 */  							m += ", sizingMethod='auto expand')";
/*  765 */  						} else {
/*  766 */  							dx = (w / 2),
/*  767 */  							dy = (h / 2);
/*  768 */  							//translate to ensure that transformations occur around the correct origin (default is center).
/*  769 */  							m += ", Dx=" + (dx - (dx * a + dy * b) + ox) + ", Dy=" + (dy - (dx * c + dy * d) + oy) + ")";
/*  770 */  						}
/*  771 */  
/*  772 */  						if (filters.indexOf("progid:DXImageTransform.Microsoft.Matrix(") !== -1) {
/*  773 */  							this._style.filter = filters.replace(_ieSetMatrixExp, m);
/*  774 */  						} else {
/*  775 */  							this._style.filter = filters + " " + m;
/*  776 */  						}
/*  777 */  
/*  778 */  						//at the end or beginning of the tween, if the matrix is normal (1, 0, 0, 1) and opacity is 100 (or doesn't exist), remove the filter to improve browser performance.
/*  779 */  						if (v === 0 || v === 1) if (a === 1) if (b === 0) if (c === 0) if (d === 1) if (!clip || m.indexOf("Dx=0, Dy=0") !== -1) if (!_opacityExp.test(filters) || parseFloat(RegExp.$1) === 100) {
/*  780 */  							this._style.removeAttribute("filter");
/*  781 */  						}
/*  782 */  					}
/*  783 */  				}
/*  784 */  			}
/*  785 */  
/*  786 */  			//if we're adding/changing a class, we should do so at the END of the tween, and drop any of the associated properties that are in the target.style object in order to preserve proper cascading.
/*  787 */  			if (this._classData) {
/*  788 */  				pt = this._classData; //speeds things up slightly and helps minification
/*  789 */  				if (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {
/*  790 */  					var i = pt.props.length;
/*  791 */  					while (--i > -1) {
/*  792 */  						this._style[pt.props[i]] = "";
/*  793 */  					}
/*  794 */  					this._target.className = pt.e;
/*  795 */  				} else if (this._target.className !== pt.b) {
/*  796 */  					this._target.className = pt.b;
/*  797 */  				}
/*  798 */  			}
/*  799 */  		}
/*  800 */  
/*  801 */  		//we need to make sure that if alpha or autoAlpha is killed, opacity is too. And autoAlpha affects the "visibility" property.
/*  802 */  		p._kill = function(lookup) {
/*  803 */  			var copy = lookup, p;
/*  804 */  			if (lookup.autoAlpha || lookup.alpha) {
/*  805 */  				copy = {};
/*  806 */  				for (p in lookup) { //copy the lookup so that we're not changing the original which may be passed elsewhere.
/*  807 */  					copy[p] = lookup[p];
/*  808 */  				}
/*  809 */  				copy.opacity = 1;
/*  810 */  				if (copy.autoAlpha) {
/*  811 */  					copy.visibility = 1;
/*  812 */  				}
/*  813 */  			}
/*  814 */  			return TweenPlugin.prototype._kill.call(this, copy);
/*  815 */  		}
/*  816 */  
/*  817 */  
/*  818 */  		TweenPlugin.activate([CSSPlugin]);
/*  819 */  		return CSSPlugin;
/*  820 */  
/*  821 */  	}, true);
/*  822 */  
/*  823 */  }); if (window._gsDefine) { _gsQueue.pop()(); }

/**
 * js/vendor/greensock/TweenLite.js
 */

/*    1 */  /*!
      2      * VERSION: beta 1.28
      3      * DATE: 2012-06-19
      4      * JavaScript (ActionScript 3 and 2 also available)
      5      * UPDATES AND DOCS AT: http://www.greensock.com
      6      *
      7      * Copyright (c) 2008-2012, GreenSock. All rights reserved.
      8      * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for
      9      * corporate Club GreenSock members, the software agreement that was issued with the corporate
     10      * membership.
     11      *
     12      * @author: Jack Doyle, jack@greensock.com
     13      */
/*   14 */  ;(function(window) {
/*   15 */  
/*   16 */  		"use strict";
/*   17 */  		var _namespace = function(ns) {
/*   18 */  				var a = ns.split("."),
/*   19 */  					p = window, i;
/*   20 */  				for (i = 0; i < a.length; i++) {
/*   21 */  					p[a[i]] = p = p[a[i]] || {};
/*   22 */  				}
/*   23 */  				return p;
/*   24 */  			},
/*   25 */  			gs = _namespace("com.greensock"),
/*   26 */  			a, i, e, e2, p,
/*   27 */  			_classLookup = {},
/*   28 */  
/*   29 */  			//_DepClass is for defining a dependent class. ns = namespace (leaving off "com.greensock." as that's assumed), dep = an array of namespaces that are required, def = the function that will return the class definition (this function will be passed each dependency in order as soon as they arrive), global = if true, the class is added to the global scope (window) or if requirejs is being used, it will tap into that instead.
/*   30 */  			_DepClass = function(ns, dep, def, global) {
/*   31 */  				this.sc = (_classLookup[ns]) ? _classLookup[ns].sc : []; //subclasses
/*   32 */  				_classLookup[ns] = this;
/*   33 */  				this.gsClass = null;
/*   34 */  				this.def = def;
/*   35 */  				var _dep = dep || [],
/*   36 */  					_classes = [];
/*   37 */  				this.check = function(init) {
/*   38 */  					var i = _dep.length, cnt = 0, cur;
/*   39 */  					while (--i > -1) {
/*   40 */  						if ((cur = _classLookup[_dep[i]] || new _DepClass(_dep[i])).gsClass) {
/*   41 */  							_classes[i] = cur.gsClass;
/*   42 */  						} else {
/*   43 */  							cnt++;
/*   44 */  							if (init) {
/*   45 */  								cur.sc.push(this);
/*   46 */  							}
/*   47 */  						}
/*   48 */  					}
/*   49 */  					if (cnt === 0 && def) {
/*   50 */  						var a = ("com.greensock." + ns).split("."),
/*   51 */  							n = a.pop(),
/*   52 */  							cl = _namespace(a.join("."))[n] = this.gsClass = def.apply(def, _classes);
/*   53 */  
/*   54 */  						//exports to multiple environments
/*   55 */  						if (global) {
/*   56 */  							(window.GreenSockGlobals || window)[n] = cl; //provides a way to avoid global namespace pollution. By default, the main classes like TweenLite, Power1, Strong, etc. are added to window unless a GreenSockGlobals is defined. So if you want to have things added to a custom object instead, just do something like window.GreenSockGlobals = {} before loading any GreenSock files. You can even set up an alias like window.GreenSockGlobals = windows.gs = {} so that you can access everything like gs.TweenLite. Also remember that ALL classes are added to the window.com.greensock object (in their respective packages, like com.greensock.easing.Power1, com.greensock.TweenLite, etc.)
/*   57 */  							if (typeof(define) === "function" && define.amd){ //AMD
/*   58 */  								define((window.GreenSockAMDPath ? window.GreenSockAMDPath + "/" : "") + ns.split(".").join("/"), [], function() { return cl; });
/*   59 */  							} else if (typeof(module) !== "undefined" && module.exports){ //node
/*   60 */  								module.exports = cl;
/*   61 */  							}
/*   62 */  						}
/*   63 */  
/*   64 */  						for (i = 0; i < this.sc.length; i++) {
/*   65 */  							this.sc[i].check(false);
/*   66 */  						}
/*   67 */  
/*   68 */  					}
/*   69 */  				};
/*   70 */  				this.check(true);
/*   71 */  			},
/*   72 */  			//a quick way to create a class that doesn't have any dependencies. Returns the class, but first registers it in the GreenSock namespace so that other classes can grab it (other classes might be dependent on the class).
/*   73 */  			_class = gs._class = function(ns, f, g) {
/*   74 */  				new _DepClass(ns, [], function(){ return f; }, g);
/*   75 */  				return f;
/*   76 */  			};
/*   77 */  
/*   78 */  		//used to create _DepClass instances (which basically registers a class that has dependencies). ns = namespace, dep = dependencies (array), f = initialization function which should return the class, g = global (whether or not the class should be added to the global namespace (or if RequireJS is used, it will be defined as a named module instead)
/*   79 */  		window._gsDefine = function(ns, dep, f, g) {
/*   80 */  			return new _DepClass(ns, dep, f, g);
/*   81 */  		};
/*   82 */  
/*   83 */  
/*   84 */  
/*   85 */  /*
     86      * ----------------------------------------------------------------
     87      * Ease
     88      * ----------------------------------------------------------------
     89      */
/*   90 */  		var _baseParams = [0, 0, 1, 1],
/*   91 */  			_blankArray = [],
/*   92 */  			Ease = _class("easing.Ease", function(func, extraParams, type, power) {
/*   93 */  				this._func = func;
/*   94 */  				this._type = type || 0;
/*   95 */  				this._power = power || 0;
/*   96 */  				this._params = extraParams ? _baseParams.concat(extraParams) : _baseParams;
/*   97 */  			}, true);
/*   98 */  
/*   99 */  		p = Ease.prototype;
/*  100 */  		p._calcEnd = false;
/*  101 */  		p.getRatio = function(p) {
/*  102 */  			if (this._func) {
/*  103 */  				this._params[0] = p;
/*  104 */  				return this._func.apply(null, this._params);
/*  105 */  			} else {
/*  106 */  				var t = this._type,
/*  107 */  					pw = this._power,
/*  108 */  					r = (t === 1) ? 1 - p : (t === 2) ? p : (p < 0.5) ? p * 2 : (1 - p) * 2;
/*  109 */  				if (pw === 1) {
/*  110 */  					r *= r;
/*  111 */  				} else if (pw === 2) {
/*  112 */  					r *= r * r;
/*  113 */  				} else if (pw === 3) {
/*  114 */  					r *= r * r * r;
/*  115 */  				} else if (pw === 4) {
/*  116 */  					r *= r * r * r * r;
/*  117 */  				}
/*  118 */  				return (t === 1) ? 1 - r : (t === 2) ? r : (p < 0.5) ? r / 2 : 1 - (r / 2);
/*  119 */  			}
/*  120 */  		};
/*  121 */  
/*  122 */  		//create all the standard eases like Linear, Quad, Cubic, Quart, Quint, Strong, Power0, Power1, Power2, Power3, and Power4 (each with easeIn, easeOut, and easeInOut)
/*  123 */  		a = ["Linear","Quad","Cubic","Quart","Quint"];
/*  124 */  		i = a.length;
/*  125 */  		while(--i > -1) {
/*  126 */  			e = _class("easing." + a[i], function(){}, true);
/*  127 */  			e2 = _class("easing.Power" + i, function(){}, true);
/*  128 */  			e.easeOut = e2.easeOut = new Ease(null, null, 1, i);
/*  129 */  			e.easeIn = e2.easeIn = new Ease(null, null, 2, i);
/*  130 */  			e.easeInOut = e2.easeInOut = new Ease(null, null, 3, i);
/*  131 */  		}
/*  132 */  		_class("easing.Strong", gs.easing.Power4, true);
/*  133 */  		gs.easing.Linear.easeNone = gs.easing.Linear.easeIn;
/*  134 */  
/*  135 */  
/*  136 */  /*
    137      * ----------------------------------------------------------------
    138      * EventDispatcher
    139      * ----------------------------------------------------------------
    140      */
/*  141 */  		p = _class("events.EventDispatcher", function(target) {
/*  142 */  			this._listeners = {};
/*  143 */  			this._eventTarget = target || this;
/*  144 */  		}).prototype;
/*  145 */  
/*  146 */  		p.addEventListener = function(type, callback, scope, useParam, priority) {
/*  147 */  			priority = priority || 0;
/*  148 */  			var list = this._listeners[type],
/*  149 */  				index = 0,
/*  150 */  				listener, i;
/*  151 */  			if (list == null) {
/*  152 */  				this._listeners[type] = list = [];
/*  153 */  			}
/*  154 */  			i = list.length;
/*  155 */  			while (--i > -1) {
/*  156 */  				listener = list[i];
/*  157 */  				if (listener.c === callback) {
/*  158 */  					list.splice(i, 1);
/*  159 */  				} else if (index === 0 && listener.pr < priority) {
/*  160 */  					index = i + 1;
/*  161 */  				}
/*  162 */  			}
/*  163 */  			list.splice(index, 0, {c:callback, s:scope, up:useParam, pr:priority});
/*  164 */  		};
/*  165 */  
/*  166 */  		p.removeEventListener = function(type, callback) {
/*  167 */  			var list = this._listeners[type];
/*  168 */  			if (list) {
/*  169 */  				var i = list.length;
/*  170 */  				while (--i > -1) {
/*  171 */  					if (list[i].c === callback) {
/*  172 */  						list.splice(i, 1);
/*  173 */  						return;
/*  174 */  					}
/*  175 */  				}
/*  176 */  			}
/*  177 */  		};
/*  178 */  
/*  179 */  		p.dispatchEvent = function(type) {
/*  180 */  			var list = this._listeners[type];
/*  181 */  			if (list) {
/*  182 */  				var i = list.length, listener,
/*  183 */  					t = this._eventTarget;
/*  184 */  				while (--i > -1) {
/*  185 */  					listener = list[i];
/*  186 */  					if (listener.up) {
/*  187 */  						listener.c.call(listener.s || t, {type:type, target:t});
/*  188 */  					} else {
/*  189 */  						listener.c.call(listener.s || t);
/*  190 */  					}
/*  191 */  				}
/*  192 */  			}
/*  193 */  		};
/*  194 */  
/*  195 */  
/*  196 */  /*
    197      * ----------------------------------------------------------------
    198      * Ticker
    199      * ----------------------------------------------------------------
    200      */
/*  201 */   		var _reqAnimFrame = window.requestAnimationFrame,
/*  202 */  			_cancelAnimFrame = window.cancelAnimationFrame,
/*  203 */  			_getTime = Date.now || function() {return new Date().getTime();};
/*  204 */  
/*  205 */  		//now try to determine the requestAnimationFrame and cancelAnimationFrame functions and if none are found, we'll use a setTimeout()/clearTimeout() polyfill.
/*  206 */  		a = ["ms","moz","webkit","o"];
/*  207 */  		i = a.length;
/*  208 */  		while (--i > -1 && !_reqAnimFrame) {
/*  209 */  			_reqAnimFrame = window[a[i] + "RequestAnimationFrame"];
/*  210 */  			_cancelAnimFrame = window[a[i] + "CancelAnimationFrame"] || window[a[i] + "CancelRequestAnimationFrame"];
/*  211 */  		}
/*  212 */  		if (!_cancelAnimFrame) {
/*  213 */  			_cancelAnimFrame = function(id) {
/*  214 */  				window.clearTimeout(id);
/*  215 */  			}
/*  216 */  		}
/*  217 */  
/*  218 */  		_class("Ticker", function(fps, useRAF) {
/*  219 */  			this.time = 0;
/*  220 */  			this.frame = 0;
/*  221 */  			var _self = this,
/*  222 */  				_startTime = _getTime(),
/*  223 */  				_useRAF = (useRAF !== false),
/*  224 */  				_fps, _req, _id, _gap, _nextTime;
/*  225 */  
/*  226 */  			this.tick = function() {
/*  227 */  				_self.time = (_getTime() - _startTime) / 1000;
/*  228 */  				if (!_fps || _self.time >= _nextTime) {
/*  229 */  					_self.frame++;
/*  230 */  					_nextTime = _self.time + _gap - (_self.time - _nextTime) - 0.0005;
/*  231 */  					if (_nextTime <= _self.time) {
/*  232 */  						_nextTime = _self.time + 0.001;
/*  233 */  					}
/*  234 */  					_self.dispatchEvent("tick");
/*  235 */  				}
/*  236 */  				_id = _req( _self.tick );
/*  237 */  			};
/*  238 */  
/*  239 */  			this.fps = function(value) {
/*  240 */  				if (!arguments.length) {
/*  241 */  					return _fps;
/*  242 */  				}
/*  243 */  				_fps = value;
/*  244 */  				_gap = 1 / (_fps || 60);
/*  245 */  				_nextTime = this.time + _gap;
/*  246 */  				_req = (_fps === 0) ? function(f){} : (!_useRAF || !_reqAnimFrame) ? function(f) { return window.setTimeout( f, (((_nextTime - _self.time) * 1000 + 1) >> 0) || 1);	} : _reqAnimFrame;
/*  247 */  				_cancelAnimFrame(_id);
/*  248 */  				_id = _req( _self.tick );
/*  249 */  			};
/*  250 */  
/*  251 */  			this.useRAF = function(value) {
/*  252 */  				if (!arguments.length) {
/*  253 */  					return _useRAF
/*  254 */  				}
/*  255 */  				_useRAF = value;
/*  256 */  				this.fps(_fps);
/*  257 */  			};
/*  258 */  
/*  259 */  			this.fps(fps);
/*  260 */  		});
/*  261 */  
/*  262 */  		p = gs.Ticker.prototype = new gs.events.EventDispatcher();
/*  263 */  		p.constructor = gs.Ticker;
/*  264 */  
/*  265 */  
/*  266 */  /*
    267      * ----------------------------------------------------------------
    268      * Animation
    269      * ----------------------------------------------------------------
    270      */
/*  271 */  		var Animation = _class("core.Animation", function(duration, vars) {
/*  272 */  				this.vars = vars || {};
/*  273 */  				this._duration = this._totalDuration = duration || 0;
/*  274 */  				this._delay = Number(this.vars.delay) || 0;
/*  275 */  				this._timeScale = 1;
/*  276 */  				this._active = (this.vars.immediateRender == true);
/*  277 */  				this.data = this.vars.data;
/*  278 */  				this._reversed = (this.vars.reversed == true);
/*  279 */  
/*  280 */  				if (!_rootTimeline) {
/*  281 */  					return;
/*  282 */  				}
/*  283 */  
/*  284 */  				var tl = this.vars.useFrames ? _rootFramesTimeline : _rootTimeline;
/*  285 */  				tl.insert(this, tl._time);
/*  286 */  
/*  287 */  				if (this.vars.paused) {
/*  288 */  					this.paused(true);
/*  289 */  				}
/*  290 */  			}),
/*  291 */  			_ticker = Animation.ticker = new gs.Ticker();
/*  292 */  
/*  293 */  		p = Animation.prototype;
/*  294 */  		p._dirty = p._gc = p._initted = p._paused = false;
/*  295 */  		p._totalTime = p._time = 0;
/*  296 */  		p._rawPrevTime = -1;
/*  297 */  		p._next = p._last = p._onUpdate = p._timeline = p.timeline = null;
/*  298 */  		p._paused = false;
/*  299 */  
/*  300 */  		p.play = function(from, suppressEvents) {
/*  301 */  			if (arguments.length) {
/*  302 */  				this.seek(from, suppressEvents);
/*  303 */  			}
/*  304 */  			this.reversed(false);
/*  305 */  			return this.paused(false);
/*  306 */  		};
/*  307 */  
/*  308 */  		p.pause = function(atTime, suppressEvents) {
/*  309 */  			if (arguments.length) {
/*  310 */  				this.seek(atTime, suppressEvents);
/*  311 */  			}
/*  312 */  			return this.paused(true);
/*  313 */  		};
/*  314 */  
/*  315 */  		p.resume = function(from, suppressEvents) {
/*  316 */  			if (arguments.length) {
/*  317 */  				this.seek(from, suppressEvents);
/*  318 */  			}
/*  319 */  			return this.paused(false);
/*  320 */  		};
/*  321 */  
/*  322 */  		p.seek = function(time, suppressEvents) {
/*  323 */  			return this.totalTime(Number(time), (suppressEvents != false));
/*  324 */  		};
/*  325 */  
/*  326 */  		p.restart = function(includeDelay, suppressEvents) {
/*  327 */  			this.reversed(false);
/*  328 */  			this.paused(false);
/*  329 */  			return this.totalTime((includeDelay) ? -this._delay : 0, (suppressEvents != false));
/*  330 */  		};
/*  331 */  
/*  332 */  		p.reverse = function(from, suppressEvents) {
/*  333 */  			if (arguments.length) {
/*  334 */  				this.seek((from || this.totalDuration()), suppressEvents);
/*  335 */  			}
/*  336 */  			this.reversed(true);
/*  337 */  			return this.paused(false);
/*  338 */  		};
/*  339 */  
/*  340 */  		p.render = function() {
/*  341 */  
/*  342 */  		};
/*  343 */  
/*  344 */  		p.invalidate = function() {
/*  345 */  			return this;
/*  346 */  		};
/*  347 */  
/*  348 */  		p._enabled = function (enabled, ignoreTimeline) {
/*  349 */  			this._gc = !enabled;
/*  350 */  			this._active = (enabled && !this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration);
/*  351 */  			if (ignoreTimeline != true) {
/*  352 */  				if (enabled && this.timeline == null) {
/*  353 */  					this._timeline.insert(this, this._startTime - this._delay);
/*  354 */  				} else if (!enabled && this.timeline != null) {
/*  355 */  					this._timeline._remove(this, true);
/*  356 */  				}
/*  357 */  			}
/*  358 */  			return false;
/*  359 */  		};
/*  360 */  
/*  361 */  
/*  362 */  		p._kill = function(vars, target) {
/*  363 */  			return this._enabled(false, false);
/*  364 */  		};
/*  365 */  
/*  366 */  		p.kill = function(vars, target) {
/*  367 */  			this._kill(vars, target);
/*  368 */  			return this;
/*  369 */  		};
/*  370 */  
/*  371 */  		p._uncache = function(includeSelf) {
/*  372 */  			var tween = includeSelf ? this : this.timeline;
/*  373 */  			while (tween) {
/*  374 */  				tween._dirty = true;
/*  375 */  				tween = tween.timeline;
/*  376 */  			}
/*  377 */  			return this;
/*  378 */  		};
/*  379 */  
/*  380 */  //----Animation getters/setters --------------------------------------------------------
/*  381 */  
/*  382 */  		p.eventCallback = function(type, callback, params, scope) {
/*  383 */  			if (type == null) {
/*  384 */  				return null;
/*  385 */  			} else if (type.substr(0,2) === "on") {
/*  386 */  				if (arguments.length === 1) {
/*  387 */  					return this.vars[type];
/*  388 */  				}
/*  389 */  				if (callback == null) {
/*  390 */  					delete this.vars[type];
/*  391 */  				} else {
/*  392 */  					this.vars[type] = callback;
/*  393 */  					this.vars[type + "Params"] = params;
/*  394 */  					this.vars[type + "Scope"] = scope;
/*  395 */  					if (params) {
/*  396 */  						var i = params.length;
/*  397 */  						while (--i > -1) {
/*  398 */  							if (params[i] === "{self}") {
/*  399 */  								params = this.vars[type + "Params"] = params.concat(); //copying the array avoids situations where the same array is passed to multiple tweens/timelines and {self} doesn't correctly point to each individual instance.
/*  400 */  								params[i] = this;
/*  401 */  							}
/*  402 */  						}
/*  403 */  					}
/*  404 */  				}
/*  405 */  				if (type === "onUpdate") {
/*  406 */  					this._onUpdate = callback;
/*  407 */  				}
/*  408 */  			}
/*  409 */  			return this;
/*  410 */  		}
/*  411 */  
/*  412 */  		p.delay = function(value) {
/*  413 */  			if (!arguments.length) {
/*  414 */  				return this._delay;
/*  415 */  			}
/*  416 */  			if (this._timeline.smoothChildTiming) {
/*  417 */  				this.startTime( this._startTime + value - this._delay );
/*  418 */  			}
/*  419 */  			this._delay = value;
/*  420 */  			return this;
/*  421 */  		};
/*  422 */  
/*  423 */  		p.duration = function(value) {
/*  424 */  			if (!arguments.length) {
/*  425 */  				this._dirty = false;
/*  426 */  				return this._duration;
/*  427 */  			}
/*  428 */  			this._duration = this._totalDuration = value;
/*  429 */  			this._uncache(true); //true in case it's a TweenMax or TimelineMax that has a repeat - we'll need to refresh the totalDuration.
/*  430 */  			if (this._timeline.smoothChildTiming) if (this._active) if (value != 0) {
/*  431 */  				this.totalTime(this._totalTime * (value / this._duration), true);
/*  432 */  			}
/*  433 */  			return this;
/*  434 */  		};
/*  435 */  
/*  436 */  		p.totalDuration = function(value) {
/*  437 */  			this._dirty = false;
/*  438 */  			return (!arguments.length) ? this._totalDuration : this.duration(value);
/*  439 */  		};
/*  440 */  
/*  441 */  		p.time = function(value, suppressEvents) {
/*  442 */  			if (!arguments.length) {
/*  443 */  				return this._time;
/*  444 */  			}
/*  445 */  			if (this._dirty) {
/*  446 */  				this.totalDuration();
/*  447 */  			}
/*  448 */  			if (value > this._duration) {
/*  449 */  				value = this._duration;
/*  450 */  			}
/*  451 */  			return this.totalTime(value, suppressEvents);
/*  452 */  		};
/*  453 */  
/*  454 */  		p.totalTime = function(time, suppressEvents) {
/*  455 */  			if (!arguments.length) {
/*  456 */  				return this._totalTime;
/*  457 */  			}
/*  458 */  			if (this._timeline) {
/*  459 */  				if (time < 0) {
/*  460 */  					time += this.totalDuration();
/*  461 */  				}
/*  462 */  				if (this._timeline.smoothChildTiming) {
/*  463 */  					if (this._dirty) {
/*  464 */  						this.totalDuration();
/*  465 */  					}
/*  466 */  					if (time > this._totalDuration) {
/*  467 */  						time = this._totalDuration;
/*  468 */  					}
/*  469 */  					this._startTime = (this._paused ? this._pauseTime : this._timeline._time) - ((!this._reversed ? time : this._totalDuration - time) / this._timeScale);
/*  470 */  					if (!this._timeline._dirty) { //for performance improvement. If the parent's cache is already dirty, it already took care of marking the anscestors as dirty too, so skip the function call here.
/*  471 */  						this._uncache(false);
/*  472 */  					}
/*  473 */  					if (!this._timeline._active) {
/*  474 */  						//in case any of the anscestors had completed but should now be enabled...
/*  475 */  						var tl = this._timeline;
/*  476 */  						while (tl._timeline) {
/*  477 */  							tl.totalTime(tl._totalTime, true);
/*  478 */  							tl = tl._timeline;
/*  479 */  						}
/*  480 */  					}
/*  481 */  				}
/*  482 */  				if (this._gc) {
/*  483 */  					this._enabled(true, false);
/*  484 */  				}
/*  485 */  				if (this._totalTime != time) {
/*  486 */  					this.render(time, suppressEvents, false);
/*  487 */  				}
/*  488 */  			}
/*  489 */  			return this;
/*  490 */  		};
/*  491 */  
/*  492 */  		p.startTime = function(value) {
/*  493 */  			if (!arguments.length) {
/*  494 */  				return this._startTime;
/*  495 */  			}
/*  496 */  			if (value != this._startTime) {
/*  497 */  				this._startTime = value;
/*  498 */  				if (this.timeline) if (this.timeline._sortChildren) {
/*  499 */  					this.timeline.insert(this, value - this._delay); //ensures that any necessary re-sequencing of Animations in the timeline occurs to make sure the rendering order is correct.
/*  500 */  				}
/*  501 */  			}
/*  502 */  			return this;
/*  503 */  		};
/*  504 */  
/*  505 */  		p.timeScale = function(value) {
/*  506 */  			if (!arguments.length) {
/*  507 */  				return this._timeScale;
/*  508 */  			}
/*  509 */  			value = value || 0.000001; //can't allow zero because it'll throw the math off
/*  510 */  			if (this._timeline && this._timeline.smoothChildTiming) {
/*  511 */  				var t = (this._pauseTime || this._pauseTime == 0) ? this._pauseTime : this._timeline._totalTime;
/*  512 */  				this._startTime = t - ((t - this._startTime) * this._timeScale / value);
/*  513 */  			}
/*  514 */  			this._timeScale = value;
/*  515 */  			return this._uncache(false);
/*  516 */  		};
/*  517 */  
/*  518 */  		p.reversed = function(value) {
/*  519 */  			if (!arguments.length) {
/*  520 */  				return this._reversed;
/*  521 */  			}
/*  522 */  			if (value != this._reversed) {
/*  523 */  				this._reversed = value;
/*  524 */  				this.totalTime(this._totalTime, true);
/*  525 */  			}
/*  526 */  			return this;
/*  527 */  		};
/*  528 */  
/*  529 */  		p.paused = function(value) {
/*  530 */  			if (!arguments.length) {
/*  531 */  				return this._paused;
/*  532 */  			}
/*  533 */  			if (value != this._paused) if (this._timeline) {
/*  534 */  				if (!value && this._timeline.smoothChildTiming) {
/*  535 */  					this._startTime += this._timeline.rawTime() - this._pauseTime;
/*  536 */  					this._uncache(false);
/*  537 */  				}
/*  538 */  				this._pauseTime = (value) ? this._timeline.rawTime() : null;
/*  539 */  				this._paused = value;
/*  540 */  				this._active = (!this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration);
/*  541 */  			}
/*  542 */  			if (this._gc) if (!value) {
/*  543 */  				this._enabled(true, false);
/*  544 */  			}
/*  545 */  			return this;
/*  546 */  		};
/*  547 */  
/*  548 */  
/*  549 */  /*
    550      * ----------------------------------------------------------------
    551      * SimpleTimeline
    552      * ----------------------------------------------------------------
    553      */
/*  554 */  		var SimpleTimeline = _class("core.SimpleTimeline", function(vars) {
/*  555 */  			Animation.call(this, 0, vars);
/*  556 */  			this.autoRemoveChildren = this.smoothChildTiming = true;
/*  557 */  		});
/*  558 */  
/*  559 */  		p = SimpleTimeline.prototype = new Animation();
/*  560 */  		p.constructor = SimpleTimeline;
/*  561 */  		p.kill()._gc = false;
/*  562 */  		p._first = p._last = null;
/*  563 */  		p._sortChildren = false;
/*  564 */  
/*  565 */  		p.insert = function(tween, time) {
/*  566 */  			tween._startTime = Number(time || 0) + tween._delay;
/*  567 */  			if (tween._paused) if (this !== tween._timeline) { //we only adjust the _pauseTime if it wasn't in this timeline already. Remember, sometimes a tween will be inserted again into the same timeline when its startTime is changed so that the tweens in the TimelineLite/Max are re-ordered properly in the linked list (so everything renders in the proper order).
/*  568 */  				tween._pauseTime = tween._startTime + ((this.rawTime() - tween._startTime) / tween._timeScale);
/*  569 */  			}
/*  570 */  			if (tween.timeline) {
/*  571 */  				tween.timeline._remove(tween, true); //removes from existing timeline so that it can be properly added to this one.
/*  572 */  			}
/*  573 */  			tween.timeline = tween._timeline = this;
/*  574 */  			if (tween._gc) {
/*  575 */  				tween._enabled(true, true);
/*  576 */  			}
/*  577 */  
/*  578 */  			var prevTween = this._last;
/*  579 */  			if (this._sortChildren) {
/*  580 */  				var st = tween._startTime;
/*  581 */  				while (prevTween && prevTween._startTime > st) {
/*  582 */  					prevTween = prevTween._prev;
/*  583 */  				}
/*  584 */  			}
/*  585 */  			if (prevTween) {
/*  586 */  				tween._next = prevTween._next;
/*  587 */  				prevTween._next = tween;
/*  588 */  			} else {
/*  589 */  				tween._next = this._first;
/*  590 */  				this._first = tween;
/*  591 */  			}
/*  592 */  			if (tween._next) {
/*  593 */  				tween._next._prev = tween;
/*  594 */  			} else {
/*  595 */  				this._last = tween;
/*  596 */  			}
/*  597 */  			tween._prev = prevTween;
/*  598 */  
/*  599 */  			if (this._timeline) {
/*  600 */  				this._uncache(true);
/*  601 */  			}
/*  602 */  			return this;
/*  603 */  		};
/*  604 */  
/*  605 */  		p._remove = function(tween, skipDisable) {
/*  606 */  			if (tween.timeline === this) {
/*  607 */  				if (!skipDisable) {
/*  608 */  					tween._enabled(false, true);
/*  609 */  				}
/*  610 */  				tween.timeline = null;
/*  611 */  
/*  612 */  				if (tween._prev) {
/*  613 */  					tween._prev._next = tween._next;
/*  614 */  				} else if (this._first === tween) {
/*  615 */  					this._first = tween._next;
/*  616 */  				}
/*  617 */  				if (tween._next) {
/*  618 */  					tween._next._prev = tween._prev;
/*  619 */  				} else if (this._last === tween) {
/*  620 */  					this._last = tween._prev;
/*  621 */  				}
/*  622 */  
/*  623 */  				if (this._timeline) {
/*  624 */  					this._uncache(true);
/*  625 */  				}
/*  626 */  			}
/*  627 */  			return this;
/*  628 */  		};
/*  629 */  
/*  630 */  		p.render = function(time, suppressEvents, force) {
/*  631 */  			var tween = this._first,
/*  632 */  				next;
/*  633 */  			this._totalTime = this._time = this._rawPrevTime = time;
/*  634 */  			while (tween) {
/*  635 */  				next = tween._next; //record it here because the value could change after rendering...
/*  636 */  				if (tween._active || (time >= tween._startTime && !tween._paused)) {
/*  637 */  					if (!tween._reversed) {
/*  638 */  						tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, false);
/*  639 */  					} else {
/*  640 */  						tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, false);
/*  641 */  					}
/*  642 */  				}
/*  643 */  				tween = next;
/*  644 */  			}
/*  645 */  		};
/*  646 */  
/*  647 */  		p.rawTime = function() {
/*  648 */  			return this._totalTime;
/*  649 */  		};
/*  650 */  
/*  651 */  
/*  652 */  /*
    653      * ----------------------------------------------------------------
    654      * TweenLite
    655      * ----------------------------------------------------------------
    656      */
/*  657 */  		var TweenLite = _class("TweenLite", function(target, duration, vars) {
/*  658 */  				Animation.call(this, duration, vars);
/*  659 */  
/*  660 */  				if (target == null) {
/*  661 */  					throw "Cannot tween an undefined reference.";
/*  662 */  				}
/*  663 */  				this.target = target;
/*  664 */  
/*  665 */  				this._overwrite = (this.vars.overwrite == null) ? _overwriteLookup[TweenLite.defaultOverwrite] : (typeof(this.vars.overwrite) === "number") ? this.vars.overwrite >> 0 : _overwriteLookup[this.vars.overwrite];
/*  666 */  
/*  667 */  				var jq, i, targ;
/*  668 */  				if ((target instanceof Array || target.jquery) && typeof(target[0]) === "object") {
/*  669 */  					this._targets = target.slice(0); //works for both jQuery and Array instances
/*  670 */  					this._propLookup = [];
/*  671 */  					this._siblings = [];
/*  672 */  					for (i = 0; i < this._targets.length; i++) {
/*  673 */  						targ = this._targets[i];
/*  674 */  						//in case the user is passing in an array of jQuery objects, for example, we need to check one more level and pull things out if necessary...
/*  675 */  						if (targ.jquery) {
/*  676 */  							this._targets.splice(i--, 1);
/*  677 */  							this._targets = this._targets.concat(targ.constructor.makeArray(targ));
/*  678 */  							continue;
/*  679 */  						}
/*  680 */  						this._siblings[i] = _register(targ, this, false);
/*  681 */  						if (this._overwrite === 1) if (this._siblings[i].length > 1) {
/*  682 */  							_applyOverwrite(targ, this, null, 1, this._siblings[i]);
/*  683 */  						}
/*  684 */  					}
/*  685 */  
/*  686 */  				} else {
/*  687 */  					this._propLookup = {};
/*  688 */  					this._siblings = _register(target, this, false);
/*  689 */  					if (this._overwrite === 1) if (this._siblings.length > 1) {
/*  690 */  						_applyOverwrite(target, this, null, 1, this._siblings);
/*  691 */  					}
/*  692 */  				}
/*  693 */  
/*  694 */  				if (this.vars.immediateRender || (duration === 0 && this._delay === 0 && this.vars.immediateRender != false)) {
/*  695 */  					this.render(-this._delay, false, true);
/*  696 */  				}
/*  697 */  			}, true);
/*  698 */  
/*  699 */  		p = TweenLite.prototype = new Animation();
/*  700 */  		p.constructor = TweenLite;
/*  701 */  		p.kill()._gc = false;
/*  702 */  
/*  703 */  //----TweenLite defaults, overwrite management, and root updates ----------------------------------------------------
/*  704 */  
/*  705 */  		p.ratio = 0;
/*  706 */  		p._firstPT = p._targets = p._overwrittenProps = null;
/*  707 */  		p._notifyPluginsOfEnabled = false;
/*  708 */  
/*  709 */  		TweenLite.version = 12;
/*  710 */  		TweenLite.defaultEase = p._ease = new Ease(null, null, 1, 1);
/*  711 */  		TweenLite.defaultOverwrite = "auto";
/*  712 */  		TweenLite.ticker = _ticker;
/*  713 */  
/*  714 */  		var _plugins = TweenLite._plugins = {},
/*  715 */  			_tweenLookup = {},
/*  716 */  			_tweenLookupNum = 0,
/*  717 */  			_reservedProps = {ease:1, delay:1, overwrite:1, onComplete:1, onCompleteParams:1, onCompleteScope:1, useFrames:1, runBackwards:1, startAt:1, onUpdate:1, onUpdateParams:1, onUpdateScope:1, onStart:1, onStartParams:1, onStartScope:1, onReverseComplete:1, onReverseCompleteParams:1, onReverseCompleteScope:1, onRepeat:1, onRepeatParams:1, onRepeatScope:1, easeParams:1, yoyo:1, orientToBezier:1, immediateRender:1, repeat:1, repeatDelay:1, data:1, paused:1, reversed:1},
/*  718 */  			_overwriteLookup = {none:0, all:1, auto:2, concurrent:3, allOnStart:4, preexisting:5, "true":1, "false":0},
/*  719 */  			_rootFramesTimeline = Animation._rootFramesTimeline = new SimpleTimeline(),
/*  720 */  			_rootTimeline = Animation._rootTimeline = new SimpleTimeline();
/*  721 */  
/*  722 */  		_rootTimeline._startTime = _ticker.time;
/*  723 */  		_rootFramesTimeline._startTime = _ticker.frame;
/*  724 */  		_rootTimeline._active = _rootFramesTimeline._active = true;
/*  725 */  
/*  726 */  		Animation._updateRoot = function() {
/*  727 */  				_rootTimeline.render((_ticker.time - _rootTimeline._startTime) * _rootTimeline._timeScale, false, false);
/*  728 */  				_rootFramesTimeline.render((_ticker.frame - _rootFramesTimeline._startTime) * _rootFramesTimeline._timeScale, false, false);
/*  729 */  				if (!(_ticker.frame % 120)) { //dump garbage every 120 frames...
/*  730 */  					var i, a, p;
/*  731 */  					for (p in _tweenLookup) {
/*  732 */  						a = _tweenLookup[p].tweens;
/*  733 */  						i = a.length;
/*  734 */  						while (--i > -1) {
/*  735 */  							if (a[i]._gc) {
/*  736 */  								a.splice(i, 1);
/*  737 */  							}
/*  738 */  						}
/*  739 */  						if (a.length === 0) {
/*  740 */  							delete _tweenLookup[p];
/*  741 */  						}
/*  742 */  					}
/*  743 */  				}
/*  744 */  			};
/*  745 */  
/*  746 */  		_ticker.addEventListener("tick", Animation._updateRoot);
/*  747 */  
/*  748 */  		var _register = function(target, tween, scrub) {
/*  749 */  				var id = target._gsTweenID, a, i;
/*  750 */  				if (!_tweenLookup[id || (target._gsTweenID = id = "t" + (_tweenLookupNum++))]) {
/*  751 */  					_tweenLookup[id] = {target:target, tweens:[]};
/*  752 */  				}
/*  753 */  				if (tween) {
/*  754 */  					a = _tweenLookup[id].tweens;
/*  755 */  					a[(i = a.length)] = tween;
/*  756 */  					if (scrub) {
/*  757 */  						while (--i > -1) {
/*  758 */  							if (a[i] === tween) {
/*  759 */  								a.splice(i, 1);
/*  760 */  							}
/*  761 */  						}
/*  762 */  					}
/*  763 */  				}
/*  764 */  				return _tweenLookup[id].tweens;
/*  765 */  			},
/*  766 */  
/*  767 */  			_applyOverwrite = function(target, tween, props, mode, siblings) {
/*  768 */  				var i, changed, curTween;
/*  769 */  				if (mode === 1 || mode >= 4) {
/*  770 */  					var l = siblings.length;
/*  771 */  					for (i = 0; i < l; i++) {
/*  772 */  						if ((curTween = siblings[i]) !== tween) {
/*  773 */  							if (!curTween._gc) if (curTween._enabled(false, false)) {
/*  774 */  								changed = true;
/*  775 */  							}
/*  776 */  						} else if (mode === 5) {
/*  777 */  							break;
/*  778 */  						}
/*  779 */  					}
/*  780 */  					return changed;
/*  781 */  				}
/*  782 */  				//NOTE: Add 0.0000000001 to overcome floating point errors that can cause the startTime to be VERY slightly off (when a tween's time() is set for example)
/*  783 */  				var startTime = tween._startTime + 0.0000000001,
/*  784 */  					overlaps = [],
/*  785 */  					oCount = 0,
/*  786 */  					globalStart;
/*  787 */  				i = siblings.length;
/*  788 */  				while (--i > -1) {
/*  789 */  					if ((curTween = siblings[i]) === tween || curTween._gc || curTween._paused) {
/*  790 */  						//ignore
/*  791 */  					} else if (curTween._timeline !== tween._timeline) {
/*  792 */  						globalStart = globalStart || _checkOverlap(tween, 0);
/*  793 */  						if (_checkOverlap(curTween, globalStart) === 0) {
/*  794 */  							overlaps[oCount++] = curTween;
/*  795 */  						}
/*  796 */  					} else if (curTween._startTime <= startTime) if (curTween._startTime + curTween.totalDuration() / curTween._timeScale + 0.0000000001 > startTime) if (!((tween._duration === 0 || !curTween._initted) && startTime - curTween._startTime <= 0.0000000002)) {
/*  797 */  						overlaps[oCount++] = curTween;
/*  798 */  					}
/*  799 */  				}
/*  800 */  
/*  801 */  				i = oCount;
/*  802 */  				while (--i > -1) {
/*  803 */  					curTween = overlaps[i];
/*  804 */  					if (mode === 2) if (curTween._kill(props, target)) {
/*  805 */  						changed = true;
/*  806 */  					}
/*  807 */  					if (mode !== 2 || (!curTween._firstPT && curTween._initted)) {
/*  808 */  						if (curTween._enabled(false, false)) { //if all property tweens have been overwritten, kill the tween.
/*  809 */  							changed = true;
/*  810 */  						}
/*  811 */  					}
/*  812 */  				}
/*  813 */  				return changed;
/*  814 */  			},
/*  815 */  
/*  816 */  			_checkOverlap = function(tween, reference) {
/*  817 */  				var tl = tween._timeline,
/*  818 */  					ts = tl._timeScale,
/*  819 */  					t = tween._startTime;
/*  820 */  				while (tl._timeline) {
/*  821 */  					t += tl._startTime;
/*  822 */  					ts *= tl._timeScale;
/*  823 */  					if (tl._paused) {
/*  824 */  						return -100;
/*  825 */  					}
/*  826 */  					tl = tl._timeline;
/*  827 */  				}
/*  828 */  				t /= ts;
/*  829 */  				return (t > reference) ? t - reference : (!tween._initted && t - reference < 0.0000000002) ? 0.0000000001 : ((t = t + tween.totalDuration() / tween._timeScale / ts) > reference) ? 0 : t - reference - 0.0000000001;
/*  830 */  			};
/*  831 */  
/*  832 */  
/*  833 */  //---- TweenLite instance methods -----------------------------------------------------------------------------
/*  834 */  
/*  835 */  		p._init = function() {
/*  836 */  			if (this.vars.startAt) {
/*  837 */  				this.vars.startAt.overwrite = 0;
/*  838 */  				this.vars.startAt.immediateRender = true;
/*  839 */  				TweenLite.to(this.target, 0, this.vars.startAt);
/*  840 */  			}
/*  841 */  			var i, initPlugins, pt;
/*  842 */  			if (this.vars.ease instanceof Ease) {
/*  843 */  				this._ease = (this.vars.easeParams instanceof Array) ? this.vars.ease.config.apply(this.vars.ease, this.vars.easeParams) : this.vars.ease;
/*  844 */  			} else if (typeof(this.vars.ease) === "function") {
/*  845 */  				this._ease = new Ease(this.vars.ease, this.vars.easeParams);
/*  846 */  			} else {
/*  847 */  				this._ease = TweenLite.defaultEase;
/*  848 */  			}
/*  849 */  			this._easeType = this._ease._type;
/*  850 */  			this._easePower = this._ease._power;
/*  851 */  			this._firstPT = null;
/*  852 */  
/*  853 */  			if (this._targets) {
/*  854 */  				i = this._targets.length;
/*  855 */  				while (--i > -1) {
/*  856 */  					if ( this._initProps( this._targets[i], (this._propLookup[i] = {}), this._siblings[i], (this._overwrittenProps ? this._overwrittenProps[i] : null)) ) {
/*  857 */  						initPlugins = true;
/*  858 */  					}
/*  859 */  				}
/*  860 */  			} else {
/*  861 */  				initPlugins = this._initProps(this.target, this._propLookup, this._siblings, this._overwrittenProps);
/*  862 */  			}
/*  863 */  
/*  864 */  			if (initPlugins) {
/*  865 */  				TweenLite._onPluginEvent("_onInitAllProps", this); //reorders the array in order of priority. Uses a static TweenPlugin method in order to minimize file size in TweenLite
/*  866 */  			}
/*  867 */  			if (this._overwrittenProps) if (this._firstPT == null) if (typeof(this.target) !== "function") { //if all tweening properties have been overwritten, kill the tween. If the target is a function, it's probably a delayedCall so let it live.
/*  868 */  				this._enabled(false, false);
/*  869 */  			}
/*  870 */  			if (this.vars.runBackwards) {
/*  871 */  				pt = this._firstPT;
/*  872 */  				while (pt) {
/*  873 */  					pt.s += pt.c;
/*  874 */  					pt.c = -pt.c;
/*  875 */  					pt = pt._next;
/*  876 */  				}
/*  877 */  			}
/*  878 */  			this._onUpdate = this.vars.onUpdate;
/*  879 */  			this._initted = true;
/*  880 */  		};
/*  881 */  
/*  882 */  		p._initProps = function(target, propLookup, siblings, overwrittenProps) {
/*  883 */  			var p, i, initPlugins, plugin, a, pt;
/*  884 */  			if (target == null) {
/*  885 */  				return false;
/*  886 */  			}
/*  887 */  			for (p in this.vars) {
/*  888 */  				if (_reservedProps[p]) {
/*  889 */  					if (p === "onStartParams" || p === "onUpdateParams" || p === "onCompleteParams" || p === "onReverseCompleteParams" || p === "onRepeatParams") if ((a = this.vars[p])) {
/*  890 */  						i = a.length;
/*  891 */  						while (--i > -1) {
/*  892 */  							if (a[i] === "{self}") {
/*  893 */  								a = this.vars[p] = a.concat(); //copy the array in case the user referenced the same array in multiple tweens/timelines (each {self} should be unique)
/*  894 */  								a[i] = this;
/*  895 */  							}
/*  896 */  						}
/*  897 */  					}
/*  898 */  
/*  899 */  				} else if (_plugins[p] && (plugin = new _plugins[p]())._onInitTween(target, this.vars[p], this)) {
/*  900 */  
/*  901 */  					//t - target 		[object]
/*  902 */  					//p - property 		[string]
/*  903 */  					//s - start			[number]
/*  904 */  					//c - change		[number]
/*  905 */  					//f - isFunction	[boolean]
/*  906 */  					//n - name			[string]
/*  907 */  					//pg - isPlugin 	[boolean]
/*  908 */  					//pr - priority		[number]
/*  909 */  					this._firstPT = pt = {_next:this._firstPT, t:plugin, p:"setRatio", s:0, c:1, f:true, n:p, pg:true, pr:plugin._priority};
/*  910 */  					i = plugin._overwriteProps.length;
/*  911 */  					while (--i > -1) {
/*  912 */  						propLookup[plugin._overwriteProps[i]] = this._firstPT;
/*  913 */  					}
/*  914 */  					if (plugin._priority || plugin._onInitAllProps) {
/*  915 */  						initPlugins = true;
/*  916 */  					}
/*  917 */  					if (plugin._onDisable || plugin._onEnable) {
/*  918 */  						this._notifyPluginsOfEnabled = true;
/*  919 */  					}
/*  920 */  
/*  921 */  				} else {
/*  922 */  					this._firstPT = propLookup[p] = pt = {_next:this._firstPT, t:target, p:p, f:(typeof(target[p]) === "function"), n:p, pg:false, pr:0};
/*  923 */  					pt.s = (!pt.f) ? parseFloat(target[p]) : target[ ((p.indexOf("set") || typeof(target["get" + p.substr(3)]) !== "function") ? p : "get" + p.substr(3)) ]();
/*  924 */  					pt.c = (typeof(this.vars[p]) === "number") ? this.vars[p] - pt.s : (typeof(this.vars[p]) === "string") ? parseFloat(this.vars[p].split("=").join("")) : 0;
/*  925 */  				}
/*  926 */  				if (pt) if (pt._next) {
/*  927 */  					pt._next._prev = pt;
/*  928 */  				}
/*  929 */  			}
/*  930 */  
/*  931 */  			if (overwrittenProps) if (this._kill(overwrittenProps, target)) { //another tween may have tried to overwrite properties of this tween before init() was called (like if two tweens start at the same time, the one created second will run first)
/*  932 */  				return this._initProps(target, propLookup, siblings, overwrittenProps);
/*  933 */  			}
/*  934 */  			if (this._overwrite > 1) if (this._firstPT) if (siblings.length > 1) if (_applyOverwrite(target, this, propLookup, this._overwrite, siblings)) {
/*  935 */  				this._kill(propLookup, target);
/*  936 */  				return this._initProps(target, propLookup, siblings, overwrittenProps);
/*  937 */  			}
/*  938 */  			return initPlugins;
/*  939 */  		};
/*  940 */  
/*  941 */  		p.render = function(time, suppressEvents, force) {
/*  942 */  			var prevTime = this._time,
/*  943 */  				isComplete, callback, pt;
/*  944 */  			if (time >= this._duration) {
/*  945 */  				this._totalTime = this._time = this._duration;
/*  946 */  				this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1;
/*  947 */  				if (!this._reversed) {
/*  948 */  					isComplete = true;
/*  949 */  					callback = "onComplete";
/*  950 */  				}
/*  951 */  				if (this._duration === 0) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the "playhead" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's "playhead" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.
/*  952 */  					if (time === 0 || this._rawPrevTime < 0) if (this._rawPrevTime !== time) {
/*  953 */  						force = true;
/*  954 */  					}
/*  955 */  					this._rawPrevTime = time;
/*  956 */  				}
/*  957 */  
/*  958 */  			} else if (time <= 0) {
/*  959 */  				this._totalTime = this._time = 0;
/*  960 */  				this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
/*  961 */  				if (prevTime !== 0 || (this._duration === 0 && this._rawPrevTime > 0)) {
/*  962 */  					callback = "onReverseComplete";
/*  963 */  					isComplete = this._reversed;
/*  964 */  				}
/*  965 */  				if (time < 0) {
/*  966 */  					this._active = false;
/*  967 */  					if (this._duration === 0) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the "playhead" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's "playhead" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.
/*  968 */  						if (this._rawPrevTime >= 0) {
/*  969 */  							force = true;
/*  970 */  						}
/*  971 */  						this._rawPrevTime = time;
/*  972 */  					}
/*  973 */  				} else if (!this._initted) { //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.
/*  974 */  					force = true;
/*  975 */  				}
/*  976 */  
/*  977 */  			} else {
/*  978 */  				this._totalTime = this._time = time;
/*  979 */  
/*  980 */  				if (this._easeType) {
/*  981 */  					var r = time / this._duration, type = this._easeType, pow = this._easePower;
/*  982 */  					if (type === 1 || (type === 3 && r >= 0.5)) {
/*  983 */  						r = 1 - r;
/*  984 */  					}
/*  985 */  					if (type === 3) {
/*  986 */  						r *= 2;
/*  987 */  					}
/*  988 */  					if (pow === 1) {
/*  989 */  						r *= r;
/*  990 */  					} else if (pow === 2) {
/*  991 */  						r *= r * r;
/*  992 */  					} else if (pow === 3) {
/*  993 */  						r *= r * r * r;
/*  994 */  					} else if (pow === 4) {
/*  995 */  						r *= r * r * r * r;
/*  996 */  					}
/*  997 */  
/*  998 */  					if (type === 1) {
/*  999 */  						this.ratio = 1 - r;
/* 1000 */  					} else if (type === 2) {
/* 1001 */  						this.ratio = r;
/* 1002 */  					} else if (time / this._duration < 0.5) {
/* 1003 */  						this.ratio = r / 2;
/* 1004 */  					} else {
/* 1005 */  						this.ratio = 1 - (r / 2);
/* 1006 */  					}
/* 1007 */  
/* 1008 */  				} else {
/* 1009 */  					this.ratio = this._ease.getRatio(time / this._duration);
/* 1010 */  				}
/* 1011 */  
/* 1012 */  			}
/* 1013 */  
/* 1014 */  			if (this._time === prevTime && !force) {
/* 1015 */  				return;
/* 1016 */  			} else if (!this._initted) {
/* 1017 */  				this._init();
/* 1018 */  				if (!isComplete && this._time) { //_ease is initially set to defaultEase, so now that init() has run, _ease is set properly and we need to recalculate the ratio. Overall this is faster than using conditional logic earlier in the method to avoid having to set ratio twice because we only init() once but renderTime() gets called VERY frequently.
/* 1019 */  					this.ratio = this._ease.getRatio(this._time / this._duration);
/* 1020 */  				}
/* 1021 */  			}
/* 1022 */  
/* 1023 */  			if (!this._active) if (!this._paused) {
/* 1024 */  				this._active = true;  //so that if the user renders a tween (as opposed to the timeline rendering it), the timeline is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the tween already finished but the user manually re-renders it as halfway done.
/* 1025 */  			}
/* 1026 */  			if (prevTime === 0) if (this.vars.onStart) if (this._time !== 0 || this._duration === 0) if (!suppressEvents) {
/* 1027 */  				this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || _blankArray);
/* 1028 */  			}
/* 1029 */  
/* 1030 */  			pt = this._firstPT;
/* 1031 */  			while (pt) {
/* 1032 */  				if (pt.f) {
/* 1033 */  					pt.t[pt.p](pt.c * this.ratio + pt.s);
/* 1034 */  				} else {
/* 1035 */  					pt.t[pt.p] = pt.c * this.ratio + pt.s;
/* 1036 */  				}
/* 1037 */  				pt = pt._next;
/* 1038 */  			}
/* 1039 */  
/* 1040 */  
/* 1041 */  			if (this._onUpdate) if (!suppressEvents) {
/* 1042 */  				this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
/* 1043 */  			}
/* 1044 */  
/* 1045 */  			if (callback) if (!this._gc) { //check _gc because there's a chance that kill() could be called in an onUpdate
/* 1046 */  				if (isComplete) {
/* 1047 */  					if (this._timeline.autoRemoveChildren) {
/* 1048 */  						this._enabled(false, false);
/* 1049 */  					}
/* 1050 */  					this._active = false;
/* 1051 */  				}
/* 1052 */  				if (!suppressEvents) if (this.vars[callback]) {
/* 1053 */  					this.vars[callback].apply(this.vars[callback + "Scope"] || this, this.vars[callback + "Params"] || _blankArray);
/* 1054 */  				}
/* 1055 */  			}
/* 1056 */  
/* 1057 */  		};
/* 1058 */  
/* 1059 */  		p._kill = function(vars, target) {
/* 1060 */  			if (vars === "all") {
/* 1061 */  				vars = null;
/* 1062 */  			}
/* 1063 */  			if (vars == null) if (target == null || target == this.target) {
/* 1064 */  				return this._enabled(false, false);
/* 1065 */  			}
/* 1066 */  			target = target || this._targets || this.target;
/* 1067 */  			var i, overwrittenProps, p, pt, propLookup, changed, killProps, record;
/* 1068 */  			if ((target instanceof Array || target.jquery) && typeof(target[0]) === "object") {
/* 1069 */  				i = target.length;
/* 1070 */  				while (--i > -1) {
/* 1071 */  					if (this._kill(vars, target[i])) {
/* 1072 */  						changed = true;
/* 1073 */  					}
/* 1074 */  				}
/* 1075 */  			} else {
/* 1076 */  				if (this._targets) {
/* 1077 */  					i = this._targets.length;
/* 1078 */  					while (--i > -1) {
/* 1079 */  						if (target === this._targets[i]) {
/* 1080 */  							propLookup = this._propLookup[i] || {};
/* 1081 */  							this._overwrittenProps = this._overwrittenProps || [];
/* 1082 */  							overwrittenProps = this._overwrittenProps[i] = vars ? this._overwrittenProps[i] || {} : "all";
/* 1083 */  							break;
/* 1084 */  						}
/* 1085 */  					}
/* 1086 */  				} else if (target !== this.target) {
/* 1087 */  					return false;
/* 1088 */  				} else {
/* 1089 */  					propLookup = this._propLookup;
/* 1090 */  					overwrittenProps = this._overwrittenProps = vars ? this._overwrittenProps || {} : "all";
/* 1091 */  				}
/* 1092 */  
/* 1093 */  				if (propLookup) {
/* 1094 */  					killProps = vars || propLookup;
/* 1095 */  					record = (vars != overwrittenProps && overwrittenProps != "all" && vars != propLookup && (vars == null || vars._tempKill != true)); //_tempKill is a super-secret way to delete a particular tweening property but NOT have it remembered as an official overwritten property (like in BezierPlugin)
/* 1096 */  					for (p in killProps) {
/* 1097 */  						if ((pt = propLookup[p])) {
/* 1098 */  							if (pt.pg && pt.t._kill(killProps)) {
/* 1099 */  								changed = true; //some plugins need to be notified so they can perform cleanup tasks first
/* 1100 */  							}
/* 1101 */  							if (!pt.pg || pt.t._overwriteProps.length === 0) {
/* 1102 */  								if (pt._prev) {
/* 1103 */  									pt._prev._next = pt._next;
/* 1104 */  								} else if (pt === this._firstPT) {
/* 1105 */  									this._firstPT = pt._next;
/* 1106 */  								}
/* 1107 */  								if (pt._next) {
/* 1108 */  									pt._next._prev = pt._prev;
/* 1109 */  								}
/* 1110 */  								pt._next = pt._prev = null;
/* 1111 */  							}
/* 1112 */  							delete propLookup[p];
/* 1113 */  						}
/* 1114 */  						if (record) {
/* 1115 */  							overwrittenProps[p] = 1;
/* 1116 */  						}
/* 1117 */  					}
/* 1118 */  				}
/* 1119 */  			}
/* 1120 */  			return changed;
/* 1121 */  		};
/* 1122 */  
/* 1123 */  		p.invalidate = function() {
/* 1124 */  			if (this._notifyPluginsOfEnabled) {
/* 1125 */  				TweenLite._onPluginEvent("_onDisable", this);
/* 1126 */  			}
/* 1127 */  			this._firstPT = null;
/* 1128 */  			this._overwrittenProps = null;
/* 1129 */  			this._onUpdate = null;
/* 1130 */  			this._initted = this._active = this._notifyPluginsOfEnabled = false;
/* 1131 */  			this._propLookup = (this._targets) ? {} : [];
/* 1132 */  			return this;
/* 1133 */  		};
/* 1134 */  
/* 1135 */  		p._enabled = function(enabled, ignoreTimeline) {
/* 1136 */  			if (enabled && this._gc) {
/* 1137 */  				if (this._targets) {
/* 1138 */  					var i = this._targets.length;
/* 1139 */  					while (--i > -1) {
/* 1140 */  						this._siblings[i] = _register(this._targets[i], this, true);
/* 1141 */  					}
/* 1142 */  				} else {
/* 1143 */  					this._siblings = _register(this.target, this, true);
/* 1144 */  				}
/* 1145 */  			}
/* 1146 */  			Animation.prototype._enabled.call(this, enabled, ignoreTimeline);
/* 1147 */  			if (this._notifyPluginsOfEnabled) if (this._firstPT) {
/* 1148 */  				return TweenLite._onPluginEvent(((enabled) ? "_onEnable" : "_onDisable"), this);
/* 1149 */  			}
/* 1150 */  			return false;
/* 1151 */  		};
/* 1152 */  
/* 1153 */  
/* 1154 */  //----TweenLite static methods -----------------------------------------------------
/* 1155 */  
/* 1156 */  		TweenLite.to = function(target, duration, vars) {
/* 1157 */  			return new TweenLite(target, duration, vars);
/* 1158 */  		};
/* 1159 */  
/* 1160 */  		TweenLite.from = function(target, duration, vars) {
/* 1161 */  			vars.runBackwards = true;
/* 1162 */  			if (vars.immediateRender != false) {
/* 1163 */  				vars.immediateRender = true;
/* 1164 */  			}
/* 1165 */  			return new TweenLite(target, duration, vars);
/* 1166 */  		};
/* 1167 */  
/* 1168 */  		TweenLite.fromTo = function(target, duration, fromVars, toVars) {
/* 1169 */  			toVars.startAt = fromVars;
/* 1170 */  			if (fromVars.immediateRender) {
/* 1171 */  				toVars.immediateRender = true;
/* 1172 */  			}
/* 1173 */  			return new TweenLite(target, duration, toVars);
/* 1174 */  		};
/* 1175 */  
/* 1176 */  		TweenLite.delayedCall = function(delay, callback, params, scope, useFrames) {
/* 1177 */  			return new TweenLite(callback, 0, {delay:delay, onComplete:callback, onCompleteParams:params, onCompleteScope:scope, onReverseComplete:callback, onReverseCompleteParams:params, onReverseCompleteScope:scope, immediateRender:false, useFrames:useFrames, overwrite:0});
/* 1178 */  		};
/* 1179 */  
/* 1180 */  		TweenLite.set = function(target, vars) {
/* 1181 */  			return new TweenLite(target, 0, vars);
/* 1182 */  		};
/* 1183 */  
/* 1184 */  		TweenLite.killTweensOf = TweenLite.killDelayedCallsTo = function(target, vars) {
/* 1185 */  			var a = TweenLite.getTweensOf(target),
/* 1186 */  				i = a.length;
/* 1187 */  			while (--i > -1) {
/* 1188 */  				a[i]._kill(vars, target);
/* 1189 */  			}
/* 1190 */  		};
/* 1191 */  
/* 1192 */  		TweenLite.getTweensOf = function(target) {
/* 1193 */  			if (target == null) { return; }
/* 1194 */  			var i, a, j, t;
/* 1195 */  			if ((target instanceof Array || target.jquery) && typeof(target[0]) === "object") {
/* 1196 */  				i = target.length;
/* 1197 */  				a = [];
/* 1198 */  				while (--i > -1) {
/* 1199 */  					a = a.concat(TweenLite.getTweensOf(target[i]));
/* 1200 */  				}
/* 1201 */  				i = a.length;
/* 1202 */  				//now get rid of any duplicates (tweens of arrays of objects could cause duplicates)
/* 1203 */  				while (--i > -1) {
/* 1204 */  					t = a[i];
/* 1205 */  					j = i;
/* 1206 */  					while (--j > -1) {
/* 1207 */  						if (t === a[j]) {
/* 1208 */  							a.splice(i, 1);
/* 1209 */  						}
/* 1210 */  					}
/* 1211 */  				}
/* 1212 */  			} else {
/* 1213 */  				a = _register(target).concat();
/* 1214 */  				i = a.length;
/* 1215 */  				while (--i > -1) {
/* 1216 */  					if (a[i]._gc) {
/* 1217 */  						a.splice(i, 1);
/* 1218 */  					}
/* 1219 */  				}
/* 1220 */  			}
/* 1221 */  			return a;
/* 1222 */  		};
/* 1223 */  
/* 1224 */  
/* 1225 */  
/* 1226 */  /*
   1227      * ----------------------------------------------------------------
   1228      * TweenPlugin   (could easily be split out as a separate file/class, but included for ease of use (so that people don't need to include another <script> call before loading plugins which is easy to forget)
   1229      * ----------------------------------------------------------------
   1230      */
/* 1231 */  		var TweenPlugin = _class("plugins.TweenPlugin", function(props, priority) {
/* 1232 */  					this._overwriteProps = (props || "").split(",");
/* 1233 */  					this._propName = this._overwriteProps[0];
/* 1234 */  					this._priority = priority || 0;
/* 1235 */  				}, true);
/* 1236 */  
/* 1237 */  		p = TweenPlugin.prototype;
/* 1238 */  		TweenPlugin.version = 12;
/* 1239 */  		TweenPlugin.API = 2;
/* 1240 */  		p._firstPT = null;
/* 1241 */  
/* 1242 */  		p._addTween = function(target, prop, start, end, overwriteProp, round) {
/* 1243 */  			var c;
/* 1244 */  			if (end != null && (c = (typeof(end) === "number" || end.charAt(1) !== "=") ? Number(end) - start : Number(end.split("=").join("")))) {
/* 1245 */  				this._firstPT = {_next:this._firstPT, t:target, p:prop, s:start, c:c, f:(typeof(target[prop]) === "function"), n:overwriteProp || prop, r:round};
/* 1246 */  				if (this._firstPT._next) {
/* 1247 */  					this._firstPT._next._prev = this._firstPT;
/* 1248 */  				}
/* 1249 */  			}
/* 1250 */  		}
/* 1251 */  
/* 1252 */  		p.setRatio = function(v) {
/* 1253 */  			var pt = this._firstPT,
/* 1254 */  				val;
/* 1255 */  			while (pt) {
/* 1256 */  				val = pt.c * v + pt.s;
/* 1257 */  				if (pt.r) {
/* 1258 */  					val = (val + ((val > 0) ? 0.5 : -0.5)) >> 0; //about 4x faster than Math.round()
/* 1259 */  				}
/* 1260 */  				if (pt.f) {
/* 1261 */  					pt.t[pt.p](val);
/* 1262 */  				} else {
/* 1263 */  					pt.t[pt.p] = val;
/* 1264 */  				}
/* 1265 */  				pt = pt._next;
/* 1266 */  			}
/* 1267 */  		}
/* 1268 */  
/* 1269 */  		p._kill = function(lookup) {
/* 1270 */  			if (lookup[this._propName] != null) {
/* 1271 */  				this._overwriteProps = [];
/* 1272 */  			} else {
/* 1273 */  				var i = this._overwriteProps.length;
/* 1274 */  				while (--i > -1) {
/* 1275 */  					if (lookup[this._overwriteProps[i]] != null) {
/* 1276 */  						this._overwriteProps.splice(i, 1);
/* 1277 */  					}
/* 1278 */  				}
/* 1279 */  			}
/* 1280 */  			var pt = this._firstPT;
/* 1281 */  			while (pt) {
/* 1282 */  				if (lookup[pt.n] != null) {
/* 1283 */  					if (pt._next) {
/* 1284 */  						pt._next._prev = pt._prev;
/* 1285 */  					}
/* 1286 */  					if (pt._prev) {
/* 1287 */  						pt._prev._next = pt._next;
/* 1288 */  						pt._prev = null;
/* 1289 */  					} else if (this._firstPT === pt) {
/* 1290 */  						this._firstPT = pt._next;
/* 1291 */  					}
/* 1292 */  				}
/* 1293 */  				pt = pt._next;
/* 1294 */  			}
/* 1295 */  			return false;
/* 1296 */  		}
/* 1297 */  
/* 1298 */  		p._roundProps = function(lookup, value) {
/* 1299 */  			var pt = this._firstPT;
/* 1300 */  			while (pt) {
/* 1301 */  				if (lookup[this._propName] || (pt.n != null && lookup[ pt.n.split(this._propName + "_").join("") ])) { //some properties that are very plugin-specific add a prefix named after the _propName plus an underscore, so we need to ignore that extra stuff here.
/* 1302 */  					pt.r = value;
/* 1303 */  				}
/* 1304 */  				pt = pt._next;
/* 1305 */  			}
/* 1306 */  		}
/* 1307 */  
/* 1308 */  		TweenLite._onPluginEvent = function(type, tween) {
/* 1309 */  			var pt = tween._firstPT,
/* 1310 */  				changed;
/* 1311 */  			if (type === "_onInitAllProps") {
/* 1312 */  				//sorts the PropTween linked list in order of priority because some plugins need to render earlier/later than others, like MotionBlurPlugin applies its effects after all x/y/alpha tweens have rendered on each frame.
/* 1313 */  				var pt2, first, last, next;
/* 1314 */  				while (pt) {
/* 1315 */  					next = pt._next;
/* 1316 */  					pt2 = first;
/* 1317 */  					while (pt2 && pt2.pr > pt.pr) {
/* 1318 */  						pt2 = pt2._next;
/* 1319 */  					}
/* 1320 */  					if ((pt._prev = pt2 ? pt2._prev : last)) {
/* 1321 */  						pt._prev._next = pt;
/* 1322 */  					} else {
/* 1323 */  						first = pt;
/* 1324 */  					}
/* 1325 */  					if ((pt._next = pt2)) {
/* 1326 */  						pt2._prev = pt;
/* 1327 */  					} else {
/* 1328 */  						last = pt;
/* 1329 */  					}
/* 1330 */  					pt = next;
/* 1331 */  				}
/* 1332 */  				pt = tween._firstPT = first;
/* 1333 */  			}
/* 1334 */  			while (pt) {
/* 1335 */  				if (pt.pg) if (typeof(pt.t[type]) === "function") if (pt.t[type]()) {
/* 1336 */  					changed = true;
/* 1337 */  				}
/* 1338 */  				pt = pt._next;
/* 1339 */  			}
/* 1340 */  			return changed;
/* 1341 */  		}
/* 1342 */  
/* 1343 */  		TweenPlugin.activate = function(plugins) {
/* 1344 */  			var i = plugins.length;
/* 1345 */  			while (--i > -1) {
/* 1346 */  				if (plugins[i].API === TweenPlugin.API) {
/* 1347 */  					TweenLite._plugins[(new plugins[i]())._propName] = plugins[i];
/* 1348 */  				}
/* 1349 */  			}
/* 1350 */  			return true;
/* 1351 */  		}
/* 1352 */  
/* 1353 */  
/* 1354 */  
/* 1355 */  		//now run through all the dependencies discovered and if any are missing, log that to the console as a warning. This is why it's best to have TweenLite load last - it can check all the dependencies for you.
/* 1356 */  		if ((a = window._gsQueue)) {
/* 1357 */  			for (i = 0; i < a.length; i++) {
/* 1358 */  				a[i]();
/* 1359 */  			}
/* 1360 */  			for (p in _classLookup) {
/* 1361 */  				if (!_classLookup[p].def) {
/* 1362 */  					console.log("Warning: TweenLite encountered missing dependency: com.greensock."+p);
/* 1363 */  				}
/* 1364 */  			}
/* 1365 */  		}
/* 1366 */  
/* 1367 */  
/* 1368 */  })(window);

/**
 * js/vendor/async.min.js
 */

/*    1 */  /*global setTimeout: false, console: false */(function(){var a={},b=this,c=b.async;typeof module!="undefined"&&module.exports?module.exports=a:b.async=a,a.noConflict=function(){return b.async=c,a};var d=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},e=function(a,b){if(a.map)return a.map(b);var c=[];return d(a,function(a,d,e){c.push(b(a,d,e))}),c},f=function(a,b,c){return a.reduce?a.reduce(b,c):(d(a,function(a,d,e){c=b(c,a,d,e)}),c)},g=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};typeof process=="undefined"||!process.nextTick?a.nextTick=function(a){setTimeout(a,0)}:a.nextTick=process.nextTick,a.forEach=function(a,b,c){c=c||function(){};if(!a.length)return c();var e=0;d(a,function(d){b(d,function(b){b?(c(b),c=function(){}):(e+=1,e===a.length&&c(null))})})},a.forEachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d===a.length?c(null):e())})};e()},a.forEachLimit=function(a,b,c,d){d=d||function(){};if(!a.length||b<=0)return d();var e=0,f=0,g=0;(function h(){if(e===a.length)return d();while(g<b&&f<a.length)f+=1,g+=1,c(a[f-1],function(b){b?(d(b),d=function(){}):(e+=1,g-=1,e===a.length?d():h())})})()};var h=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.forEach].concat(c))}},i=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.forEachSeries].concat(c))}},j=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){f[a.index]=d,b(c)})},function(a){d(a,f)})};a.map=h(j),a.mapSeries=i(j),a.reduce=function(b,c,d,e){a.forEachSeries(b,function(a,b){d(c,a,function(a,d){c=d,b(a)})},function(a){e(a,c)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(b,c,d,f){var g=e(b,function(a){return a}).reverse();a.reduce(g,c,d,f)},a.foldr=a.reduceRight;var k=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&f.push(a),b()})},function(a){d(e(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.filter=h(k),a.filterSeries=i(k),a.select=a.filter,a.selectSeries=a.filterSeries;var l=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||f.push(a),b()})},function(a){d(e(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.reject=h(l),a.rejectSeries=i(l);var m=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};a.detect=h(m),a.detectSeries=i(m),a.some=function(b,c,d){a.forEach(b,function(a,b){c(a,function(a){a&&(d(!0),d=function(){}),b()})},function(a){d(!1)})},a.any=a.some,a.every=function(b,c,d){a.forEach(b,function(a,b){c(a,function(a){a||(d(!1),d=function(){}),b()})},function(a){d(!0)})},a.all=a.every,a.sortBy=function(b,c,d){a.map(b,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);var c=function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0};d(null,e(b.sort(c),function(a){return a.value}))})},a.auto=function(a,b){b=b||function(){};var c=g(a);if(!c.length)return b(null);var e={},h=[],i=function(a){h.unshift(a)},j=function(a){for(var b=0;b<h.length;b+=1)if(h[b]===a){h.splice(b,1);return}},k=function(){d(h.slice(0),function(a){a()})};i(function(){g(e).length===c.length&&(b(null,e),b=function(){})}),d(c,function(c){var d=a[c]instanceof Function?[a[c]]:a[c],g=function(a){if(a)b(a),b=function(){};else{var d=Array.prototype.slice.call(arguments,1);d.length<=1&&(d=d[0]),e[c]=d,k()}},h=d.slice(0,Math.abs(d.length-1))||[],l=function(){return f(h,function(a,b){return a&&e.hasOwnProperty(b)},!0)&&!e.hasOwnProperty(c)};if(l())d[d.length-1](g,e);else{var m=function(){l()&&(j(m),d[d.length-1](g,e))};i(m)}})},a.waterfall=function(b,c){c=c||function(){};if(!b.length)return c();var d=function(b){return function(e){if(e)c(e),c=function(){};else{var f=Array.prototype.slice.call(arguments,1),g=b.next();g?f.push(d(g)):f.push(c),a.nextTick(function(){b.apply(null,f)})}}};d(a.iterator(b))()},a.parallel=function(b,c){c=c||function(){};if(b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.forEach(g(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}},a.series=function(b,c){c=c||function(){};if(b.constructor===Array)a.mapSeries(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.forEachSeries(g(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}},a.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},a.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var n=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};a.concat=h(n),a.concatSeries=i(n),a.whilst=function(b,c,d){b()?c(function(e){if(e)return d(e);a.whilst(b,c,d)}):d()},a.until=function(b,c,d){b()?d():c(function(e){if(e)return d(e);a.until(b,c,d)})},a.queue=function(b,c){var e=0,f={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(b,e){b.constructor!==Array&&(b=[b]),d(b,function(b){f.tasks.push({data:b,callback:typeof e=="function"?e:null}),f.saturated&&f.tasks.length==c&&f.saturated(),a.nextTick(f.process)})},process:function(){if(e<f.concurrency&&f.tasks.length){var a=f.tasks.shift();f.empty&&f.tasks.length==0&&f.empty(),e+=1,b(a.data,function(){e-=1,a.callback&&a.callback.apply(a,arguments),f.drain&&f.tasks.length+e==0&&f.drain(),f.process()})}},length:function(){return f.tasks.length},running:function(){return e}};return f};var o=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);typeof console!="undefined"&&(b?console.error&&console.error(b):console[a]&&d(c,function(b){console[a](b)}))}]))}};a.log=o("log"),a.dir=o("dir"),a.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;b<e;b++)a[b].apply(null,arguments)}])))};return e.unmemoized=a,e},a.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}}})();

/**
 * js/vendor/socket.io.js
 */

/*    1 */  /*! Socket.IO.js build:0.9.6, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */
/*    2 */  
/*    3 */  var io = ('undefined' === typeof module ? {} : module.exports);
/*    4 */  (function() {
/*    5 */  
/*    6 */  /**
      7      * socket.io
      8      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
      9      * MIT Licensed
     10      */
/*   11 */  
/*   12 */  (function (exports, global) {
/*   13 */  
/*   14 */    /**
     15        * IO namespace.
     16        *
     17        * @namespace
     18        */
/*   19 */  
/*   20 */    var io = exports;
/*   21 */  
/*   22 */    /**
     23        * Socket.IO version
     24        *
     25        * @api public
     26        */
/*   27 */  
/*   28 */    io.version = '0.9.6';
/*   29 */  
/*   30 */    /**
     31        * Protocol implemented.
     32        *
     33        * @api public
     34        */
/*   35 */  
/*   36 */    io.protocol = 1;
/*   37 */  
/*   38 */    /**
     39        * Available transports, these will be populated with the available transports
     40        *
     41        * @api public
     42        */
/*   43 */  
/*   44 */    io.transports = [];
/*   45 */  
/*   46 */    /**
     47        * Keep track of jsonp callbacks.
     48        *
     49        * @api private
     50        */
/*   51 */  
/*   52 */    io.j = [];
/*   53 */  
/*   54 */    /**
     55        * Keep track of our io.Sockets
     56        *
     57        * @api private
     58        */
/*   59 */    io.sockets = {};
/*   60 */  
/*   61 */  
/*   62 */    /**
     63        * Manages connections to hosts.
     64        *
     65        * @param {String} uri
     66        * @Param {Boolean} force creation of new socket (defaults to false)
     67        * @api public
     68        */
/*   69 */  
/*   70 */    io.connect = function (host, details) {
/*   71 */      var uri = io.util.parseUri(host)
/*   72 */        , uuri
/*   73 */        , socket;
/*   74 */  
/*   75 */      if (global && global.location) {
/*   76 */        uri.protocol = uri.protocol || global.location.protocol.slice(0, -1);
/*   77 */        uri.host = uri.host || (global.document
/*   78 */          ? global.document.domain : global.location.hostname);
/*   79 */        uri.port = uri.port || global.location.port;
/*   80 */      }
/*   81 */  
/*   82 */      uuri = io.util.uniqueUri(uri);
/*   83 */  
/*   84 */      var options = {
/*   85 */          host: uri.host
/*   86 */        , secure: 'https' == uri.protocol
/*   87 */        , port: uri.port || ('https' == uri.protocol ? 443 : 80)
/*   88 */        , query: uri.query || ''
/*   89 */      };
/*   90 */  
/*   91 */      io.util.merge(options, details);
/*   92 */  
/*   93 */      if (options['force new connection'] || !io.sockets[uuri]) {
/*   94 */        socket = new io.Socket(options);
/*   95 */      }
/*   96 */  
/*   97 */      if (!options['force new connection'] && socket) {
/*   98 */        io.sockets[uuri] = socket;
/*   99 */      }
/*  100 */  
/*  101 */      socket = socket || io.sockets[uuri];
/*  102 */  
/*  103 */      // if path is different from '' or /
/*  104 */      return socket.of(uri.path.length > 1 ? uri.path : '');
/*  105 */    };
/*  106 */  
/*  107 */  })('object' === typeof module ? module.exports : (this.io = {}), this);
/*  108 */  /**
    109      * socket.io
    110      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    111      * MIT Licensed
    112      */
/*  113 */  
/*  114 */  (function (exports, global) {
/*  115 */  
/*  116 */    /**
    117        * Utilities namespace.
    118        *
    119        * @namespace
    120        */
/*  121 */  
/*  122 */    var util = exports.util = {};
/*  123 */  
/*  124 */    /**
    125        * Parses an URI
    126        *
    127        * @author Steven Levithan <stevenlevithan.com> (MIT license)
    128        * @api public
    129        */
/*  130 */  
/*  131 */    var re = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
/*  132 */  
/*  133 */    var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password',
/*  134 */                 'host', 'port', 'relative', 'path', 'directory', 'file', 'query',
/*  135 */                 'anchor'];
/*  136 */  
/*  137 */    util.parseUri = function (str) {
/*  138 */      var m = re.exec(str || '')
/*  139 */        , uri = {}
/*  140 */        , i = 14;
/*  141 */  
/*  142 */      while (i--) {
/*  143 */        uri[parts[i]] = m[i] || '';
/*  144 */      }
/*  145 */  
/*  146 */      return uri;
/*  147 */    };
/*  148 */  
/*  149 */    /**
    150        * Produces a unique url that identifies a Socket.IO connection.
    151        *
    152        * @param {Object} uri
    153        * @api public
    154        */
/*  155 */  
/*  156 */    util.uniqueUri = function (uri) {
/*  157 */      var protocol = uri.protocol
/*  158 */        , host = uri.host
/*  159 */        , port = uri.port;
/*  160 */  
/*  161 */      if ('document' in global) {
/*  162 */        host = host || document.domain;
/*  163 */        port = port || (protocol == 'https'
/*  164 */          && document.location.protocol !== 'https:' ? 443 : document.location.port);
/*  165 */      } else {
/*  166 */        host = host || 'localhost';
/*  167 */  
/*  168 */        if (!port && protocol == 'https') {
/*  169 */          port = 443;
/*  170 */        }
/*  171 */      }
/*  172 */  
/*  173 */      return (protocol || 'http') + '://' + host + ':' + (port || 80);
/*  174 */    };
/*  175 */  
/*  176 */    /**
    177        * Mergest 2 query strings in to once unique query string
    178        *
    179        * @param {String} base
    180        * @param {String} addition
    181        * @api public
    182        */
/*  183 */  
/*  184 */    util.query = function (base, addition) {
/*  185 */      var query = util.chunkQuery(base || '')
/*  186 */        , components = [];
/*  187 */  
/*  188 */      util.merge(query, util.chunkQuery(addition || ''));
/*  189 */      for (var part in query) {
/*  190 */        if (query.hasOwnProperty(part)) {
/*  191 */          components.push(part + '=' + query[part]);
/*  192 */        }
/*  193 */      }
/*  194 */  
/*  195 */      return components.length ? '?' + components.join('&') : '';
/*  196 */    };
/*  197 */  
/*  198 */    /**
    199        * Transforms a querystring in to an object
    200        *
    201        * @param {String} qs
    202        * @api public
    203        */
/*  204 */  
/*  205 */    util.chunkQuery = function (qs) {
/*  206 */      var query = {}
/*  207 */        , params = qs.split('&')
/*  208 */        , i = 0
/*  209 */        , l = params.length
/*  210 */        , kv;
/*  211 */  
/*  212 */      for (; i < l; ++i) {
/*  213 */        kv = params[i].split('=');
/*  214 */        if (kv[0]) {
/*  215 */          query[kv[0]] = kv[1];
/*  216 */        }
/*  217 */      }
/*  218 */  
/*  219 */      return query;
/*  220 */    };
/*  221 */  
/*  222 */    /**
    223        * Executes the given function when the page is loaded.
    224        *
    225        *     io.util.load(function () { console.log('page loaded'); });
    226        *
    227        * @param {Function} fn
    228        * @api public
    229        */
/*  230 */  
/*  231 */    var pageLoaded = false;
/*  232 */  
/*  233 */    util.load = function (fn) {
/*  234 */      if ('document' in global && document.readyState === 'complete' || pageLoaded) {
/*  235 */        return fn();
/*  236 */      }
/*  237 */  
/*  238 */      util.on(global, 'load', fn, false);
/*  239 */    };
/*  240 */  
/*  241 */    /**
    242        * Adds an event.
    243        *
    244        * @api private
    245        */
/*  246 */  
/*  247 */    util.on = function (element, event, fn, capture) {
/*  248 */      if (element.attachEvent) {
/*  249 */        element.attachEvent('on' + event, fn);
/*  250 */      } else if (element.addEventListener) {
/*  251 */        element.addEventListener(event, fn, capture);
/*  252 */      }
/*  253 */    };
/*  254 */  
/*  255 */    /**
    256        * Generates the correct `XMLHttpRequest` for regular and cross domain requests.
    257        *
    258        * @param {Boolean} [xdomain] Create a request that can be used cross domain.
    259        * @returns {XMLHttpRequest|false} If we can create a XMLHttpRequest.
    260        * @api private
    261        */
/*  262 */  
/*  263 */    util.request = function (xdomain) {
/*  264 */  
/*  265 */      if (xdomain && 'undefined' != typeof XDomainRequest) {
/*  266 */        return new XDomainRequest();
/*  267 */      }
/*  268 */  
/*  269 */      if ('undefined' != typeof XMLHttpRequest && (!xdomain || util.ua.hasCORS)) {
/*  270 */        return new XMLHttpRequest();
/*  271 */      }
/*  272 */  
/*  273 */      if (!xdomain) {
/*  274 */        try {
/*  275 */          return new window[(['Active'].concat('Object').join('X'))]('Microsoft.XMLHTTP');
/*  276 */        } catch(e) { }
/*  277 */      }
/*  278 */  
/*  279 */      return null;
/*  280 */    };
/*  281 */  
/*  282 */    /**
    283        * XHR based transport constructor.
    284        *
    285        * @constructor
    286        * @api public
    287        */
/*  288 */  
/*  289 */    /**
    290        * Change the internal pageLoaded value.
    291        */
/*  292 */  
/*  293 */    if ('undefined' != typeof window) {
/*  294 */      util.load(function () {
/*  295 */        pageLoaded = true;
/*  296 */      });
/*  297 */    }
/*  298 */  
/*  299 */    /**
    300        * Defers a function to ensure a spinner is not displayed by the browser
    301        *
    302        * @param {Function} fn
    303        * @api public
    304        */
/*  305 */  
/*  306 */    util.defer = function (fn) {
/*  307 */      if (!util.ua.webkit || 'undefined' != typeof importScripts) {
/*  308 */        return fn();
/*  309 */      }
/*  310 */  
/*  311 */      util.load(function () {
/*  312 */        setTimeout(fn, 100);
/*  313 */      });
/*  314 */    };
/*  315 */  
/*  316 */    /**
    317        * Merges two objects.
    318        *
    319        * @api public
    320        */
/*  321 */    
/*  322 */    util.merge = function merge (target, additional, deep, lastseen) {
/*  323 */      var seen = lastseen || []
/*  324 */        , depth = typeof deep == 'undefined' ? 2 : deep
/*  325 */        , prop;
/*  326 */  
/*  327 */      for (prop in additional) {
/*  328 */        if (additional.hasOwnProperty(prop) && util.indexOf(seen, prop) < 0) {
/*  329 */          if (typeof target[prop] !== 'object' || !depth) {
/*  330 */            target[prop] = additional[prop];
/*  331 */            seen.push(additional[prop]);
/*  332 */          } else {
/*  333 */            util.merge(target[prop], additional[prop], depth - 1, seen);
/*  334 */          }
/*  335 */        }
/*  336 */      }
/*  337 */  
/*  338 */      return target;
/*  339 */    };
/*  340 */  
/*  341 */    /**
    342        * Merges prototypes from objects
    343        *
    344        * @api public
    345        */
/*  346 */    
/*  347 */    util.mixin = function (ctor, ctor2) {
/*  348 */      util.merge(ctor.prototype, ctor2.prototype);
/*  349 */    };
/*  350 */  
/*  351 */    /**
    352        * Shortcut for prototypical and static inheritance.
    353        *
    354        * @api private
    355        */
/*  356 */  
/*  357 */    util.inherit = function (ctor, ctor2) {
/*  358 */      function f() {};
/*  359 */      f.prototype = ctor2.prototype;
/*  360 */      ctor.prototype = new f;
/*  361 */    };
/*  362 */  
/*  363 */    /**
    364        * Checks if the given object is an Array.
    365        *
    366        *     io.util.isArray([]); // true
    367        *     io.util.isArray({}); // false
    368        *
    369        * @param Object obj
    370        * @api public
    371        */
/*  372 */  
/*  373 */    util.isArray = Array.isArray || function (obj) {
/*  374 */      return Object.prototype.toString.call(obj) === '[object Array]';
/*  375 */    };
/*  376 */  
/*  377 */    /**
    378        * Intersects values of two arrays into a third
    379        *
    380        * @api public
    381        */
/*  382 */  
/*  383 */    util.intersect = function (arr, arr2) {
/*  384 */      var ret = []
/*  385 */        , longest = arr.length > arr2.length ? arr : arr2
/*  386 */        , shortest = arr.length > arr2.length ? arr2 : arr;
/*  387 */  
/*  388 */      for (var i = 0, l = shortest.length; i < l; i++) {
/*  389 */        if (~util.indexOf(longest, shortest[i]))
/*  390 */          ret.push(shortest[i]);
/*  391 */      }
/*  392 */  
/*  393 */      return ret;
/*  394 */    }
/*  395 */  
/*  396 */    /**
    397        * Array indexOf compatibility.
    398        *
    399        * @see bit.ly/a5Dxa2
    400        * @api public
    401        */
/*  402 */  
/*  403 */    util.indexOf = function (arr, o, i) {
/*  404 */      
/*  405 */      for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0; 
/*  406 */           i < j && arr[i] !== o; i++) {}
/*  407 */  
/*  408 */      return j <= i ? -1 : i;
/*  409 */    };
/*  410 */  
/*  411 */    /**
    412        * Converts enumerables to array.
    413        *
    414        * @api public
    415        */
/*  416 */  
/*  417 */    util.toArray = function (enu) {
/*  418 */      var arr = [];
/*  419 */  
/*  420 */      for (var i = 0, l = enu.length; i < l; i++)
/*  421 */        arr.push(enu[i]);
/*  422 */  
/*  423 */      return arr;
/*  424 */    };
/*  425 */  
/*  426 */    /**
    427        * UA / engines detection namespace.
    428        *
    429        * @namespace
    430        */
/*  431 */  
/*  432 */    util.ua = {};
/*  433 */  
/*  434 */    /**
    435        * Whether the UA supports CORS for XHR.
    436        *
    437        * @api public
    438        */
/*  439 */  
/*  440 */    util.ua.hasCORS = 'undefined' != typeof XMLHttpRequest && (function () {
/*  441 */      try {
/*  442 */        var a = new XMLHttpRequest();
/*  443 */      } catch (e) {
/*  444 */        return false;
/*  445 */      }
/*  446 */  
/*  447 */      return a.withCredentials != undefined;
/*  448 */    })();
/*  449 */  
/*  450 */    /**
    451        * Detect webkit.
    452        *
    453        * @api public
    454        */
/*  455 */  
/*  456 */    util.ua.webkit = 'undefined' != typeof navigator
/*  457 */      && /webkit/i.test(navigator.userAgent);
/*  458 */  
/*  459 */     /**
    460        * Detect iPad/iPhone/iPod.
    461        *
    462        * @api public
    463        */
/*  464 */  
/*  465 */    util.ua.iDevice = 'undefined' != typeof navigator
/*  466 */        && /iPad|iPhone|iPod/i.test(navigator.userAgent);
/*  467 */  
/*  468 */  })('undefined' != typeof io ? io : module.exports, this);
/*  469 */  
/*  470 */  /**
    471      * socket.io
    472      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    473      * MIT Licensed
    474      */
/*  475 */  
/*  476 */  (function (exports, io) {
/*  477 */  
/*  478 */    /**
    479        * Expose constructor.
    480        */
/*  481 */  
/*  482 */    exports.EventEmitter = EventEmitter;
/*  483 */  
/*  484 */    /**
    485        * Event emitter constructor.
    486        *
    487        * @api public.
    488        */
/*  489 */  
/*  490 */    function EventEmitter () {};
/*  491 */  
/*  492 */    /**
    493        * Adds a listener
    494        *
    495        * @api public
    496        */
/*  497 */  
/*  498 */    EventEmitter.prototype.on = function (name, fn) {
/*  499 */      if (!this.$events) {
/*  500 */        this.$events = {};
/*  501 */      }
/*  502 */  
/*  503 */      if (!this.$events[name]) {
/*  504 */        this.$events[name] = fn;
/*  505 */      } else if (io.util.isArray(this.$events[name])) {
/*  506 */        this.$events[name].push(fn);
/*  507 */      } else {
/*  508 */        this.$events[name] = [this.$events[name], fn];
/*  509 */      }
/*  510 */  
/*  511 */      return this;
/*  512 */    };
/*  513 */  
/*  514 */    EventEmitter.prototype.addListener = EventEmitter.prototype.on;
/*  515 */  
/*  516 */    /**
    517        * Adds a volatile listener.
    518        *
    519        * @api public
    520        */
/*  521 */  
/*  522 */    EventEmitter.prototype.once = function (name, fn) {
/*  523 */      var self = this;
/*  524 */  
/*  525 */      function on () {
/*  526 */        self.removeListener(name, on);
/*  527 */        fn.apply(this, arguments);
/*  528 */      };
/*  529 */  
/*  530 */      on.listener = fn;
/*  531 */      this.on(name, on);
/*  532 */  
/*  533 */      return this;
/*  534 */    };
/*  535 */  
/*  536 */    /**
    537        * Removes a listener.
    538        *
    539        * @api public
    540        */
/*  541 */  
/*  542 */    EventEmitter.prototype.removeListener = function (name, fn) {
/*  543 */      if (this.$events && this.$events[name]) {
/*  544 */        var list = this.$events[name];
/*  545 */  
/*  546 */        if (io.util.isArray(list)) {
/*  547 */          var pos = -1;
/*  548 */  
/*  549 */          for (var i = 0, l = list.length; i < l; i++) {
/*  550 */            if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {
/*  551 */              pos = i;
/*  552 */              break;
/*  553 */            }
/*  554 */          }
/*  555 */  
/*  556 */          if (pos < 0) {
/*  557 */            return this;
/*  558 */          }
/*  559 */  
/*  560 */          list.splice(pos, 1);
/*  561 */  
/*  562 */          if (!list.length) {
/*  563 */            delete this.$events[name];
/*  564 */          }
/*  565 */        } else if (list === fn || (list.listener && list.listener === fn)) {
/*  566 */          delete this.$events[name];
/*  567 */        }
/*  568 */      }
/*  569 */  
/*  570 */      return this;
/*  571 */    };
/*  572 */  
/*  573 */    /**
    574        * Removes all listeners for an event.
    575        *
    576        * @api public
    577        */
/*  578 */  
/*  579 */    EventEmitter.prototype.removeAllListeners = function (name) {
/*  580 */      // TODO: enable this when node 0.5 is stable
/*  581 */      //if (name === undefined) {
/*  582 */        //this.$events = {};
/*  583 */        //return this;
/*  584 */      //}
/*  585 */  
/*  586 */      if (this.$events && this.$events[name]) {
/*  587 */        this.$events[name] = null;
/*  588 */      }
/*  589 */  
/*  590 */      return this;
/*  591 */    };
/*  592 */  
/*  593 */    /**
    594        * Gets all listeners for a certain event.
    595        *
    596        * @api publci
    597        */
/*  598 */  
/*  599 */    EventEmitter.prototype.listeners = function (name) {
/*  600 */      if (!this.$events) {
/*  601 */        this.$events = {};
/*  602 */      }
/*  603 */  
/*  604 */      if (!this.$events[name]) {
/*  605 */        this.$events[name] = [];
/*  606 */      }
/*  607 */  
/*  608 */      if (!io.util.isArray(this.$events[name])) {
/*  609 */        this.$events[name] = [this.$events[name]];
/*  610 */      }
/*  611 */  
/*  612 */      return this.$events[name];
/*  613 */    };
/*  614 */  
/*  615 */    /**
    616        * Emits an event.
    617        *
    618        * @api public
    619        */
/*  620 */  
/*  621 */    EventEmitter.prototype.emit = function (name) {
/*  622 */      if (!this.$events) {
/*  623 */        return false;
/*  624 */      }
/*  625 */  
/*  626 */      var handler = this.$events[name];
/*  627 */  
/*  628 */      if (!handler) {
/*  629 */        return false;
/*  630 */      }
/*  631 */  
/*  632 */      var args = Array.prototype.slice.call(arguments, 1);
/*  633 */  
/*  634 */      if ('function' == typeof handler) {
/*  635 */        handler.apply(this, args);
/*  636 */      } else if (io.util.isArray(handler)) {
/*  637 */        var listeners = handler.slice();
/*  638 */  
/*  639 */        for (var i = 0, l = listeners.length; i < l; i++) {
/*  640 */          listeners[i].apply(this, args);
/*  641 */        }
/*  642 */      } else {
/*  643 */        return false;
/*  644 */      }
/*  645 */  
/*  646 */      return true;
/*  647 */    };
/*  648 */  
/*  649 */  })(
/*  650 */      'undefined' != typeof io ? io : module.exports
/*  651 */    , 'undefined' != typeof io ? io : module.parent.exports
/*  652 */  );
/*  653 */  
/*  654 */  /**
    655      * socket.io
    656      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    657      * MIT Licensed
    658      */
/*  659 */  
/*  660 */  /**
    661      * Based on JSON2 (http://www.JSON.org/js.html).
    662      */
/*  663 */  
/*  664 */  (function (exports, nativeJSON) {
/*  665 */    "use strict";
/*  666 */  
/*  667 */    // use native JSON if it's available
/*  668 */    if (nativeJSON && nativeJSON.parse){
/*  669 */      return exports.JSON = {
/*  670 */        parse: nativeJSON.parse
/*  671 */      , stringify: nativeJSON.stringify
/*  672 */      }
/*  673 */    }
/*  674 */  
/*  675 */    var JSON = exports.JSON = {};
/*  676 */  
/*  677 */    function f(n) {
/*  678 */        // Format integers to have at least two digits.
/*  679 */        return n < 10 ? '0' + n : n;
/*  680 */    }
/*  681 */  
/*  682 */    function date(d, key) {
/*  683 */      return isFinite(d.valueOf()) ?
/*  684 */          d.getUTCFullYear()     + '-' +
/*  685 */          f(d.getUTCMonth() + 1) + '-' +
/*  686 */          f(d.getUTCDate())      + 'T' +
/*  687 */          f(d.getUTCHours())     + ':' +
/*  688 */          f(d.getUTCMinutes())   + ':' +
/*  689 */          f(d.getUTCSeconds())   + 'Z' : null;
/*  690 */    };
/*  691 */  
/*  692 */    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
/*  693 */        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
/*  694 */        gap,
/*  695 */        indent,
/*  696 */        meta = {    // table of character substitutions
/*  697 */            '\b': '\\b',
/*  698 */            '\t': '\\t',
/*  699 */            '\n': '\\n',
/*  700 */            '\f': '\\f',
/*  701 */            '\r': '\\r',
/*  702 */            '"' : '\\"',
/*  703 */            '\\': '\\\\'
/*  704 */        },
/*  705 */        rep;
/*  706 */  
/*  707 */  
/*  708 */    function quote(string) {
/*  709 */  
/*  710 */  // If the string contains no control characters, no quote characters, and no
/*  711 */  // backslash characters, then we can safely slap some quotes around it.
/*  712 */  // Otherwise we must also replace the offending characters with safe escape
/*  713 */  // sequences.
/*  714 */  
/*  715 */        escapable.lastIndex = 0;
/*  716 */        return escapable.test(string) ? '"' + string.replace(escapable, function (a) {
/*  717 */            var c = meta[a];
/*  718 */            return typeof c === 'string' ? c :
/*  719 */                '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
/*  720 */        }) + '"' : '"' + string + '"';
/*  721 */    }
/*  722 */  
/*  723 */  
/*  724 */    function str(key, holder) {
/*  725 */  
/*  726 */  // Produce a string from holder[key].
/*  727 */  
/*  728 */        var i,          // The loop counter.
/*  729 */            k,          // The member key.
/*  730 */            v,          // The member value.
/*  731 */            length,
/*  732 */            mind = gap,
/*  733 */            partial,
/*  734 */            value = holder[key];
/*  735 */  
/*  736 */  // If the value has a toJSON method, call it to obtain a replacement value.
/*  737 */  
/*  738 */        if (value instanceof Date) {
/*  739 */            value = date(key);
/*  740 */        }
/*  741 */  
/*  742 */  // If we were called with a replacer function, then call the replacer to
/*  743 */  // obtain a replacement value.
/*  744 */  
/*  745 */        if (typeof rep === 'function') {
/*  746 */            value = rep.call(holder, key, value);
/*  747 */        }
/*  748 */  
/*  749 */  // What happens next depends on the value's type.
/*  750 */  
/*  751 */        switch (typeof value) {
/*  752 */        case 'string':
/*  753 */            return quote(value);
/*  754 */  
/*  755 */        case 'number':
/*  756 */  
/*  757 */  // JSON numbers must be finite. Encode non-finite numbers as null.
/*  758 */  
/*  759 */            return isFinite(value) ? String(value) : 'null';
/*  760 */  
/*  761 */        case 'boolean':
/*  762 */        case 'null':
/*  763 */  
/*  764 */  // If the value is a boolean or null, convert it to a string. Note:
/*  765 */  // typeof null does not produce 'null'. The case is included here in
/*  766 */  // the remote chance that this gets fixed someday.
/*  767 */  
/*  768 */            return String(value);
/*  769 */  
/*  770 */  // If the type is 'object', we might be dealing with an object or an array or
/*  771 */  // null.
/*  772 */  
/*  773 */        case 'object':
/*  774 */  
/*  775 */  // Due to a specification blunder in ECMAScript, typeof null is 'object',
/*  776 */  // so watch out for that case.
/*  777 */  
/*  778 */            if (!value) {
/*  779 */                return 'null';
/*  780 */            }
/*  781 */  
/*  782 */  // Make an array to hold the partial results of stringifying this object value.
/*  783 */  
/*  784 */            gap += indent;
/*  785 */            partial = [];
/*  786 */  
/*  787 */  // Is the value an array?
/*  788 */  
/*  789 */            if (Object.prototype.toString.apply(value) === '[object Array]') {
/*  790 */  
/*  791 */  // The value is an array. Stringify every element. Use null as a placeholder
/*  792 */  // for non-JSON values.
/*  793 */  
/*  794 */                length = value.length;
/*  795 */                for (i = 0; i < length; i += 1) {
/*  796 */                    partial[i] = str(i, value) || 'null';
/*  797 */                }
/*  798 */  
/*  799 */  // Join all of the elements together, separated with commas, and wrap them in
/*  800 */  // brackets.
/*  801 */  
/*  802 */                v = partial.length === 0 ? '[]' : gap ?
/*  803 */                    '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']' :
/*  804 */                    '[' + partial.join(',') + ']';
/*  805 */                gap = mind;
/*  806 */                return v;
/*  807 */            }
/*  808 */  
/*  809 */  // If the replacer is an array, use it to select the members to be stringified.
/*  810 */  
/*  811 */            if (rep && typeof rep === 'object') {
/*  812 */                length = rep.length;
/*  813 */                for (i = 0; i < length; i += 1) {
/*  814 */                    if (typeof rep[i] === 'string') {
/*  815 */                        k = rep[i];
/*  816 */                        v = str(k, value);
/*  817 */                        if (v) {
/*  818 */                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
/*  819 */                        }
/*  820 */                    }
/*  821 */                }
/*  822 */            } else {
/*  823 */  
/*  824 */  // Otherwise, iterate through all of the keys in the object.
/*  825 */  
/*  826 */                for (k in value) {
/*  827 */                    if (Object.prototype.hasOwnProperty.call(value, k)) {
/*  828 */                        v = str(k, value);
/*  829 */                        if (v) {
/*  830 */                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
/*  831 */                        }
/*  832 */                    }
/*  833 */                }
/*  834 */            }
/*  835 */  
/*  836 */  // Join all of the member texts together, separated with commas,
/*  837 */  // and wrap them in braces.
/*  838 */  
/*  839 */            v = partial.length === 0 ? '{}' : gap ?
/*  840 */                '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}' :
/*  841 */                '{' + partial.join(',') + '}';
/*  842 */            gap = mind;
/*  843 */            return v;
/*  844 */        }
/*  845 */    }
/*  846 */  
/*  847 */  // If the JSON object does not yet have a stringify method, give it one.
/*  848 */  
/*  849 */    JSON.stringify = function (value, replacer, space) {
/*  850 */  
/*  851 */  // The stringify method takes a value and an optional replacer, and an optional
/*  852 */  // space parameter, and returns a JSON text. The replacer can be a function
/*  853 */  // that can replace values, or an array of strings that will select the keys.
/*  854 */  // A default replacer method can be provided. Use of the space parameter can
/*  855 */  // produce text that is more easily readable.
/*  856 */  
/*  857 */        var i;
/*  858 */        gap = '';
/*  859 */        indent = '';
/*  860 */  
/*  861 */  // If the space parameter is a number, make an indent string containing that
/*  862 */  // many spaces.
/*  863 */  
/*  864 */        if (typeof space === 'number') {
/*  865 */            for (i = 0; i < space; i += 1) {
/*  866 */                indent += ' ';
/*  867 */            }
/*  868 */  
/*  869 */  // If the space parameter is a string, it will be used as the indent string.
/*  870 */  
/*  871 */        } else if (typeof space === 'string') {
/*  872 */            indent = space;
/*  873 */        }
/*  874 */  
/*  875 */  // If there is a replacer, it must be a function or an array.
/*  876 */  // Otherwise, throw an error.
/*  877 */  
/*  878 */        rep = replacer;
/*  879 */        if (replacer && typeof replacer !== 'function' &&
/*  880 */                (typeof replacer !== 'object' ||
/*  881 */                typeof replacer.length !== 'number')) {
/*  882 */            throw new Error('JSON.stringify');
/*  883 */        }
/*  884 */  
/*  885 */  // Make a fake root object containing our value under the key of ''.
/*  886 */  // Return the result of stringifying the value.
/*  887 */  
/*  888 */        return str('', {'': value});
/*  889 */    };
/*  890 */  
/*  891 */  // If the JSON object does not yet have a parse method, give it one.
/*  892 */  
/*  893 */    JSON.parse = function (text, reviver) {
/*  894 */    // The parse method takes a text and an optional reviver function, and returns
/*  895 */    // a JavaScript value if the text is a valid JSON text.
/*  896 */  
/*  897 */        var j;
/*  898 */  
/*  899 */        function walk(holder, key) {
/*  900 */  
/*  901 */    // The walk method is used to recursively walk the resulting structure so
/*  902 */    // that modifications can be made.
/*  903 */  
/*  904 */            var k, v, value = holder[key];
/*  905 */            if (value && typeof value === 'object') {
/*  906 */                for (k in value) {
/*  907 */                    if (Object.prototype.hasOwnProperty.call(value, k)) {
/*  908 */                        v = walk(value, k);
/*  909 */                        if (v !== undefined) {
/*  910 */                            value[k] = v;
/*  911 */                        } else {
/*  912 */                            delete value[k];
/*  913 */                        }
/*  914 */                    }
/*  915 */                }
/*  916 */            }
/*  917 */            return reviver.call(holder, key, value);
/*  918 */        }
/*  919 */  
/*  920 */  
/*  921 */    // Parsing happens in four stages. In the first stage, we replace certain
/*  922 */    // Unicode characters with escape sequences. JavaScript handles many characters
/*  923 */    // incorrectly, either silently deleting them, or treating them as line endings.
/*  924 */  
/*  925 */        text = String(text);
/*  926 */        cx.lastIndex = 0;
/*  927 */        if (cx.test(text)) {
/*  928 */            text = text.replace(cx, function (a) {
/*  929 */                return '\\u' +
/*  930 */                    ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
/*  931 */            });
/*  932 */        }
/*  933 */  
/*  934 */    // In the second stage, we run the text against regular expressions that look
/*  935 */    // for non-JSON patterns. We are especially concerned with '()' and 'new'
/*  936 */    // because they can cause invocation, and '=' because it can cause mutation.
/*  937 */    // But just to be safe, we want to reject all unexpected forms.
/*  938 */  
/*  939 */    // We split the second stage into 4 regexp operations in order to work around
/*  940 */    // crippling inefficiencies in IE's and Safari's regexp engines. First we
/*  941 */    // replace the JSON backslash pairs with '@' (a non-JSON character). Second, we
/*  942 */    // replace all simple value tokens with ']' characters. Third, we delete all
/*  943 */    // open brackets that follow a colon or comma or that begin the text. Finally,
/*  944 */    // we look to see that the remaining characters are only whitespace or ']' or
/*  945 */    // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.
/*  946 */  
/*  947 */        if (/^[\],:{}\s]*$/
/*  948 */                .test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')
/*  949 */                    .replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']')
/*  950 */                    .replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
/*  951 */  
/*  952 */    // In the third stage we use the eval function to compile the text into a
/*  953 */    // JavaScript structure. The '{' operator is subject to a syntactic ambiguity
/*  954 */    // in JavaScript: it can begin a block or an object literal. We wrap the text
/*  955 */    // in parens to eliminate the ambiguity.
/*  956 */  
/*  957 */            j = eval('(' + text + ')');
/*  958 */  
/*  959 */    // In the optional fourth stage, we recursively walk the new structure, passing
/*  960 */    // each name/value pair to a reviver function for possible transformation.
/*  961 */  
/*  962 */            return typeof reviver === 'function' ?
/*  963 */                walk({'': j}, '') : j;
/*  964 */        }
/*  965 */  
/*  966 */    // If the text is not JSON parseable, then a SyntaxError is thrown.
/*  967 */  
/*  968 */        throw new SyntaxError('JSON.parse');
/*  969 */    };
/*  970 */  
/*  971 */  })(
/*  972 */      'undefined' != typeof io ? io : module.exports
/*  973 */    , typeof JSON !== 'undefined' ? JSON : undefined
/*  974 */  );
/*  975 */  
/*  976 */  /**
    977      * socket.io
    978      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    979      * MIT Licensed
    980      */
/*  981 */  
/*  982 */  (function (exports, io) {
/*  983 */  
/*  984 */    /**
    985        * Parser namespace.
    986        *
    987        * @namespace
    988        */
/*  989 */  
/*  990 */    var parser = exports.parser = {};
/*  991 */  
/*  992 */    /**
    993        * Packet types.
    994        */
/*  995 */  
/*  996 */    var packets = parser.packets = [
/*  997 */        'disconnect'
/*  998 */      , 'connect'
/*  999 */      , 'heartbeat'
/* 1000 */      , 'message'
/* 1001 */      , 'json'
/* 1002 */      , 'event'
/* 1003 */      , 'ack'
/* 1004 */      , 'error'
/* 1005 */      , 'noop'
/* 1006 */    ];
/* 1007 */  
/* 1008 */    /**
   1009        * Errors reasons.
   1010        */
/* 1011 */  
/* 1012 */    var reasons = parser.reasons = [
/* 1013 */        'transport not supported'
/* 1014 */      , 'client not handshaken'
/* 1015 */      , 'unauthorized'
/* 1016 */    ];
/* 1017 */  
/* 1018 */    /**
   1019        * Errors advice.
   1020        */
/* 1021 */  
/* 1022 */    var advice = parser.advice = [
/* 1023 */        'reconnect'
/* 1024 */    ];
/* 1025 */  
/* 1026 */    /**
   1027        * Shortcuts.
   1028        */
/* 1029 */  
/* 1030 */    var JSON = io.JSON
/* 1031 */      , indexOf = io.util.indexOf;
/* 1032 */  
/* 1033 */    /**
   1034        * Encodes a packet.
   1035        *
   1036        * @api private
   1037        */
/* 1038 */  
/* 1039 */    parser.encodePacket = function (packet) {
/* 1040 */      var type = indexOf(packets, packet.type)
/* 1041 */        , id = packet.id || ''
/* 1042 */        , endpoint = packet.endpoint || ''
/* 1043 */        , ack = packet.ack
/* 1044 */        , data = null;
/* 1045 */  
/* 1046 */      switch (packet.type) {
/* 1047 */        case 'error':
/* 1048 */          var reason = packet.reason ? indexOf(reasons, packet.reason) : ''
/* 1049 */            , adv = packet.advice ? indexOf(advice, packet.advice) : '';
/* 1050 */  
/* 1051 */          if (reason !== '' || adv !== '')
/* 1052 */            data = reason + (adv !== '' ? ('+' + adv) : '');
/* 1053 */  
/* 1054 */          break;
/* 1055 */  
/* 1056 */        case 'message':
/* 1057 */          if (packet.data !== '')
/* 1058 */            data = packet.data;
/* 1059 */          break;
/* 1060 */  
/* 1061 */        case 'event':
/* 1062 */          var ev = { name: packet.name };
/* 1063 */  
/* 1064 */          if (packet.args && packet.args.length) {
/* 1065 */            ev.args = packet.args;
/* 1066 */          }
/* 1067 */  
/* 1068 */          data = JSON.stringify(ev);
/* 1069 */          break;
/* 1070 */  
/* 1071 */        case 'json':
/* 1072 */          data = JSON.stringify(packet.data);
/* 1073 */          break;
/* 1074 */  
/* 1075 */        case 'connect':
/* 1076 */          if (packet.qs)
/* 1077 */            data = packet.qs;
/* 1078 */          break;
/* 1079 */  
/* 1080 */        case 'ack':
/* 1081 */          data = packet.ackId
/* 1082 */            + (packet.args && packet.args.length
/* 1083 */                ? '+' + JSON.stringify(packet.args) : '');
/* 1084 */          break;
/* 1085 */      }
/* 1086 */  
/* 1087 */      // construct packet with required fragments
/* 1088 */      var encoded = [
/* 1089 */          type
/* 1090 */        , id + (ack == 'data' ? '+' : '')
/* 1091 */        , endpoint
/* 1092 */      ];
/* 1093 */  
/* 1094 */      // data fragment is optional
/* 1095 */      if (data !== null && data !== undefined)
/* 1096 */        encoded.push(data);
/* 1097 */  
/* 1098 */      return encoded.join(':');
/* 1099 */    };
/* 1100 */  
/* 1101 */    /**
   1102        * Encodes multiple messages (payload).
   1103        *
   1104        * @param {Array} messages
   1105        * @api private
   1106        */
/* 1107 */  
/* 1108 */    parser.encodePayload = function (packets) {
/* 1109 */      var decoded = '';
/* 1110 */  
/* 1111 */      if (packets.length == 1)
/* 1112 */        return packets[0];
/* 1113 */  
/* 1114 */      for (var i = 0, l = packets.length; i < l; i++) {
/* 1115 */        var packet = packets[i];
/* 1116 */        decoded += '\ufffd' + packet.length + '\ufffd' + packets[i];
/* 1117 */      }
/* 1118 */  
/* 1119 */      return decoded;
/* 1120 */    };
/* 1121 */  
/* 1122 */    /**
   1123        * Decodes a packet
   1124        *
   1125        * @api private
   1126        */
/* 1127 */  
/* 1128 */    var regexp = /([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
/* 1129 */  
/* 1130 */    parser.decodePacket = function (data) {
/* 1131 */      var pieces = data.match(regexp);
/* 1132 */  
/* 1133 */      if (!pieces) return {};
/* 1134 */  
/* 1135 */      var id = pieces[2] || ''
/* 1136 */        , data = pieces[5] || ''
/* 1137 */        , packet = {
/* 1138 */              type: packets[pieces[1]]
/* 1139 */            , endpoint: pieces[4] || ''
/* 1140 */          };
/* 1141 */  
/* 1142 */      // whether we need to acknowledge the packet
/* 1143 */      if (id) {
/* 1144 */        packet.id = id;
/* 1145 */        if (pieces[3])
/* 1146 */          packet.ack = 'data';
/* 1147 */        else
/* 1148 */          packet.ack = true;
/* 1149 */      }
/* 1150 */  
/* 1151 */      // handle different packet types
/* 1152 */      switch (packet.type) {
/* 1153 */        case 'error':
/* 1154 */          var pieces = data.split('+');
/* 1155 */          packet.reason = reasons[pieces[0]] || '';
/* 1156 */          packet.advice = advice[pieces[1]] || '';
/* 1157 */          break;
/* 1158 */  
/* 1159 */        case 'message':
/* 1160 */          packet.data = data || '';
/* 1161 */          break;
/* 1162 */  
/* 1163 */        case 'event':
/* 1164 */          try {
/* 1165 */            var opts = JSON.parse(data);
/* 1166 */            packet.name = opts.name;
/* 1167 */            packet.args = opts.args;
/* 1168 */          } catch (e) { }
/* 1169 */  
/* 1170 */          packet.args = packet.args || [];
/* 1171 */          break;
/* 1172 */  
/* 1173 */        case 'json':
/* 1174 */          try {
/* 1175 */            packet.data = JSON.parse(data);
/* 1176 */          } catch (e) { }
/* 1177 */          break;
/* 1178 */  
/* 1179 */        case 'connect':
/* 1180 */          packet.qs = data || '';
/* 1181 */          break;
/* 1182 */  
/* 1183 */        case 'ack':
/* 1184 */          var pieces = data.match(/^([0-9]+)(\+)?(.*)/);
/* 1185 */          if (pieces) {
/* 1186 */            packet.ackId = pieces[1];
/* 1187 */            packet.args = [];
/* 1188 */  
/* 1189 */            if (pieces[3]) {
/* 1190 */              try {
/* 1191 */                packet.args = pieces[3] ? JSON.parse(pieces[3]) : [];
/* 1192 */              } catch (e) { }
/* 1193 */            }
/* 1194 */          }
/* 1195 */          break;
/* 1196 */  
/* 1197 */        case 'disconnect':
/* 1198 */        case 'heartbeat':
/* 1199 */          break;
/* 1200 */      };
/* 1201 */  
/* 1202 */      return packet;
/* 1203 */    };
/* 1204 */  
/* 1205 */    /**
   1206        * Decodes data payload. Detects multiple messages
   1207        *
   1208        * @return {Array} messages
   1209        * @api public
   1210        */
/* 1211 */  
/* 1212 */    parser.decodePayload = function (data) {
/* 1213 */      // IE doesn't like data[i] for unicode chars, charAt works fine
/* 1214 */      if (data.charAt(0) == '\ufffd') {
/* 1215 */        var ret = [];
/* 1216 */  
/* 1217 */        for (var i = 1, length = ''; i < data.length; i++) {
/* 1218 */          if (data.charAt(i) == '\ufffd') {
/* 1219 */            ret.push(parser.decodePacket(data.substr(i + 1).substr(0, length)));
/* 1220 */            i += Number(length) + 1;
/* 1221 */            length = '';
/* 1222 */          } else {
/* 1223 */            length += data.charAt(i);
/* 1224 */          }
/* 1225 */        }
/* 1226 */  
/* 1227 */        return ret;
/* 1228 */      } else {
/* 1229 */        return [parser.decodePacket(data)];
/* 1230 */      }
/* 1231 */    };
/* 1232 */  
/* 1233 */  })(
/* 1234 */      'undefined' != typeof io ? io : module.exports
/* 1235 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 1236 */  );
/* 1237 */  /**
   1238      * socket.io
   1239      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   1240      * MIT Licensed
   1241      */
/* 1242 */  
/* 1243 */  (function (exports, io) {
/* 1244 */  
/* 1245 */    /**
   1246        * Expose constructor.
   1247        */
/* 1248 */  
/* 1249 */    exports.Transport = Transport;
/* 1250 */  
/* 1251 */    /**
   1252        * This is the transport template for all supported transport methods.
   1253        *
   1254        * @constructor
   1255        * @api public
   1256        */
/* 1257 */  
/* 1258 */    function Transport (socket, sessid) {
/* 1259 */      this.socket = socket;
/* 1260 */      this.sessid = sessid;
/* 1261 */    };
/* 1262 */  
/* 1263 */    /**
   1264        * Apply EventEmitter mixin.
   1265        */
/* 1266 */  
/* 1267 */    io.util.mixin(Transport, io.EventEmitter);
/* 1268 */  
/* 1269 */    /**
   1270        * Handles the response from the server. When a new response is received
   1271        * it will automatically update the timeout, decode the message and
   1272        * forwards the response to the onMessage function for further processing.
   1273        *
   1274        * @param {String} data Response from the server.
   1275        * @api private
   1276        */
/* 1277 */  
/* 1278 */    Transport.prototype.onData = function (data) {
/* 1279 */      this.clearCloseTimeout();
/* 1280 */      
/* 1281 */      // If the connection in currently open (or in a reopening state) reset the close 
/* 1282 */      // timeout since we have just received data. This check is necessary so
/* 1283 */      // that we don't reset the timeout on an explicitly disconnected connection.
/* 1284 */      if (this.socket.connected || this.socket.connecting || this.socket.reconnecting) {
/* 1285 */        this.setCloseTimeout();
/* 1286 */      }
/* 1287 */  
/* 1288 */      if (data !== '') {
/* 1289 */        // todo: we should only do decodePayload for xhr transports
/* 1290 */        var msgs = io.parser.decodePayload(data);
/* 1291 */  
/* 1292 */        if (msgs && msgs.length) {
/* 1293 */          for (var i = 0, l = msgs.length; i < l; i++) {
/* 1294 */            this.onPacket(msgs[i]);
/* 1295 */          }
/* 1296 */        }
/* 1297 */      }
/* 1298 */  
/* 1299 */      return this;
/* 1300 */    };
/* 1301 */  
/* 1302 */    /**
   1303        * Handles packets.
   1304        *
   1305        * @api private
   1306        */
/* 1307 */  
/* 1308 */    Transport.prototype.onPacket = function (packet) {
/* 1309 */      this.socket.setHeartbeatTimeout();
/* 1310 */  
/* 1311 */      if (packet.type == 'heartbeat') {
/* 1312 */        return this.onHeartbeat();
/* 1313 */      }
/* 1314 */  
/* 1315 */      if (packet.type == 'connect' && packet.endpoint == '') {
/* 1316 */        this.onConnect();
/* 1317 */      }
/* 1318 */  
/* 1319 */      if (packet.type == 'error' && packet.advice == 'reconnect') {
/* 1320 */        this.open = false;
/* 1321 */      }
/* 1322 */  
/* 1323 */      this.socket.onPacket(packet);
/* 1324 */  
/* 1325 */      return this;
/* 1326 */    };
/* 1327 */  
/* 1328 */    /**
   1329        * Sets close timeout
   1330        *
   1331        * @api private
   1332        */
/* 1333 */    
/* 1334 */    Transport.prototype.setCloseTimeout = function () {
/* 1335 */      if (!this.closeTimeout) {
/* 1336 */        var self = this;
/* 1337 */  
/* 1338 */        this.closeTimeout = setTimeout(function () {
/* 1339 */          self.onDisconnect();
/* 1340 */        }, this.socket.closeTimeout);
/* 1341 */      }
/* 1342 */    };
/* 1343 */  
/* 1344 */    /**
   1345        * Called when transport disconnects.
   1346        *
   1347        * @api private
   1348        */
/* 1349 */  
/* 1350 */    Transport.prototype.onDisconnect = function () {
/* 1351 */      if (this.close && this.open) this.close();
/* 1352 */      this.clearTimeouts();
/* 1353 */      this.socket.onDisconnect();
/* 1354 */      return this;
/* 1355 */    };
/* 1356 */  
/* 1357 */    /**
   1358        * Called when transport connects
   1359        *
   1360        * @api private
   1361        */
/* 1362 */  
/* 1363 */    Transport.prototype.onConnect = function () {
/* 1364 */      this.socket.onConnect();
/* 1365 */      return this;
/* 1366 */    }
/* 1367 */  
/* 1368 */    /**
   1369        * Clears close timeout
   1370        *
   1371        * @api private
   1372        */
/* 1373 */  
/* 1374 */    Transport.prototype.clearCloseTimeout = function () {
/* 1375 */      if (this.closeTimeout) {
/* 1376 */        clearTimeout(this.closeTimeout);
/* 1377 */        this.closeTimeout = null;
/* 1378 */      }
/* 1379 */    };
/* 1380 */  
/* 1381 */    /**
   1382        * Clear timeouts
   1383        *
   1384        * @api private
   1385        */
/* 1386 */  
/* 1387 */    Transport.prototype.clearTimeouts = function () {
/* 1388 */      this.clearCloseTimeout();
/* 1389 */  
/* 1390 */      if (this.reopenTimeout) {
/* 1391 */        clearTimeout(this.reopenTimeout);
/* 1392 */      }
/* 1393 */    };
/* 1394 */  
/* 1395 */    /**
   1396        * Sends a packet
   1397        *
   1398        * @param {Object} packet object.
   1399        * @api private
   1400        */
/* 1401 */  
/* 1402 */    Transport.prototype.packet = function (packet) {
/* 1403 */      this.send(io.parser.encodePacket(packet));
/* 1404 */    };
/* 1405 */  
/* 1406 */    /**
   1407        * Send the received heartbeat message back to server. So the server
   1408        * knows we are still connected.
   1409        *
   1410        * @param {String} heartbeat Heartbeat response from the server.
   1411        * @api private
   1412        */
/* 1413 */  
/* 1414 */    Transport.prototype.onHeartbeat = function (heartbeat) {
/* 1415 */      this.packet({ type: 'heartbeat' });
/* 1416 */    };
/* 1417 */   
/* 1418 */    /**
   1419        * Called when the transport opens.
   1420        *
   1421        * @api private
   1422        */
/* 1423 */  
/* 1424 */    Transport.prototype.onOpen = function () {
/* 1425 */      this.open = true;
/* 1426 */      this.clearCloseTimeout();
/* 1427 */      this.socket.onOpen();
/* 1428 */    };
/* 1429 */  
/* 1430 */    /**
   1431        * Notifies the base when the connection with the Socket.IO server
   1432        * has been disconnected.
   1433        *
   1434        * @api private
   1435        */
/* 1436 */  
/* 1437 */    Transport.prototype.onClose = function () {
/* 1438 */      var self = this;
/* 1439 */  
/* 1440 */      /* FIXME: reopen delay causing a infinit loop
   1441         this.reopenTimeout = setTimeout(function () {
   1442           self.open();
   1443         }, this.socket.options['reopen delay']);*/
/* 1444 */  
/* 1445 */      this.open = false;
/* 1446 */      this.socket.onClose();
/* 1447 */      this.onDisconnect();
/* 1448 */    };
/* 1449 */  
/* 1450 */    /**
   1451        * Generates a connection url based on the Socket.IO URL Protocol.
   1452        * See <https://github.com/learnboost/socket.io-node/> for more details.
   1453        *
   1454        * @returns {String} Connection url
   1455        * @api private
   1456        */
/* 1457 */  
/* 1458 */    Transport.prototype.prepareUrl = function () {
/* 1459 */      var options = this.socket.options;
/* 1460 */  
/* 1461 */      return this.scheme() + '://'
/* 1462 */        + options.host + ':' + options.port + '/'
/* 1463 */        + options.resource + '/' + io.protocol
/* 1464 */        + '/' + this.name + '/' + this.sessid;
/* 1465 */    };
/* 1466 */  
/* 1467 */    /**
   1468        * Checks if the transport is ready to start a connection.
   1469        *
   1470        * @param {Socket} socket The socket instance that needs a transport
   1471        * @param {Function} fn The callback
   1472        * @api private
   1473        */
/* 1474 */  
/* 1475 */    Transport.prototype.ready = function (socket, fn) {
/* 1476 */      fn.call(this);
/* 1477 */    };
/* 1478 */  })(
/* 1479 */      'undefined' != typeof io ? io : module.exports
/* 1480 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 1481 */  );
/* 1482 */  /**
   1483      * socket.io
   1484      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   1485      * MIT Licensed
   1486      */
/* 1487 */  
/* 1488 */  (function (exports, io, global) {
/* 1489 */  
/* 1490 */    /**
   1491        * Expose constructor.
   1492        */
/* 1493 */  
/* 1494 */    exports.Socket = Socket;
/* 1495 */  
/* 1496 */    /**
   1497        * Create a new `Socket.IO client` which can establish a persistent
   1498        * connection with a Socket.IO enabled server.
   1499        *
   1500        * @api public
   1501        */
/* 1502 */  
/* 1503 */    function Socket (options) {
/* 1504 */      this.options = {
/* 1505 */          port: 80
/* 1506 */        , secure: false
/* 1507 */        , document: 'document' in global ? document : false
/* 1508 */        , resource: 'socket.io'
/* 1509 */        , transports: io.transports
/* 1510 */        , 'connect timeout': 10000
/* 1511 */        , 'try multiple transports': true
/* 1512 */        , 'reconnect': true
/* 1513 */        , 'reconnection delay': 500
/* 1514 */        , 'reconnection limit': Infinity
/* 1515 */        , 'reopen delay': 3000
/* 1516 */        , 'max reconnection attempts': 10
/* 1517 */        , 'sync disconnect on unload': true
/* 1518 */        , 'auto connect': true
/* 1519 */        , 'flash policy port': 10843
/* 1520 */      };
/* 1521 */  
/* 1522 */      io.util.merge(this.options, options);
/* 1523 */  
/* 1524 */      this.connected = false;
/* 1525 */      this.open = false;
/* 1526 */      this.connecting = false;
/* 1527 */      this.reconnecting = false;
/* 1528 */      this.namespaces = {};
/* 1529 */      this.buffer = [];
/* 1530 */      this.doBuffer = false;
/* 1531 */  
/* 1532 */      if (this.options['sync disconnect on unload'] &&
/* 1533 */          (!this.isXDomain() || io.util.ua.hasCORS)) {
/* 1534 */        var self = this;
/* 1535 */  
/* 1536 */        io.util.on(global, 'unload', function () {
/* 1537 */          self.disconnectSync();
/* 1538 */        }, false);
/* 1539 */      }
/* 1540 */  
/* 1541 */      if (this.options['auto connect']) {
/* 1542 */        this.connect();
/* 1543 */      }
/* 1544 */  };
/* 1545 */  
/* 1546 */    /**
   1547        * Apply EventEmitter mixin.
   1548        */
/* 1549 */  
/* 1550 */    io.util.mixin(Socket, io.EventEmitter);
/* 1551 */  
/* 1552 */    /**
   1553        * Returns a namespace listener/emitter for this socket
   1554        *
   1555        * @api public
   1556        */
/* 1557 */  
/* 1558 */    Socket.prototype.of = function (name) {
/* 1559 */      if (!this.namespaces[name]) {
/* 1560 */        this.namespaces[name] = new io.SocketNamespace(this, name);
/* 1561 */  
/* 1562 */        if (name !== '') {
/* 1563 */          this.namespaces[name].packet({ type: 'connect' });
/* 1564 */        }
/* 1565 */      }
/* 1566 */  
/* 1567 */      return this.namespaces[name];
/* 1568 */    };
/* 1569 */  
/* 1570 */    /**
   1571        * Emits the given event to the Socket and all namespaces
   1572        *
   1573        * @api private
   1574        */
/* 1575 */  
/* 1576 */    Socket.prototype.publish = function () {
/* 1577 */      this.emit.apply(this, arguments);
/* 1578 */  
/* 1579 */      var nsp;
/* 1580 */  
/* 1581 */      for (var i in this.namespaces) {
/* 1582 */        if (this.namespaces.hasOwnProperty(i)) {
/* 1583 */          nsp = this.of(i);
/* 1584 */          nsp.$emit.apply(nsp, arguments);
/* 1585 */        }
/* 1586 */      }
/* 1587 */    };
/* 1588 */  
/* 1589 */    /**
   1590        * Performs the handshake
   1591        *
   1592        * @api private
   1593        */
/* 1594 */  
/* 1595 */    function empty () { };
/* 1596 */  
/* 1597 */    Socket.prototype.handshake = function (fn) {
/* 1598 */      var self = this
/* 1599 */        , options = this.options;
/* 1600 */  
/* 1601 */      function complete (data) {
/* 1602 */        if (data instanceof Error) {
/* 1603 */          self.connecting = false;
/* 1604 */          self.onError(data.message);
/* 1605 */        } else {
/* 1606 */          fn.apply(null, data.split(':'));
/* 1607 */        }
/* 1608 */      };
/* 1609 */  
/* 1610 */      var url = [
/* 1611 */            'http' + (options.secure ? 's' : '') + ':/'
/* 1612 */          , options.host + ':' + options.port
/* 1613 */          , options.resource
/* 1614 */          , io.protocol
/* 1615 */          , io.util.query(this.options.query, 't=' + +new Date)
/* 1616 */        ].join('/');
/* 1617 */  
/* 1618 */      if (this.isXDomain() && !io.util.ua.hasCORS) {
/* 1619 */        var insertAt = document.getElementsByTagName('script')[0]
/* 1620 */          , script = document.createElement('script');
/* 1621 */  
/* 1622 */        script.src = url + '&jsonp=' + io.j.length;
/* 1623 */        insertAt.parentNode.insertBefore(script, insertAt);
/* 1624 */  
/* 1625 */        io.j.push(function (data) {
/* 1626 */          complete(data);
/* 1627 */          script.parentNode.removeChild(script);
/* 1628 */        });
/* 1629 */      } else {
/* 1630 */        var xhr = io.util.request();
/* 1631 */  
/* 1632 */        xhr.open('GET', url, true);
/* 1633 */        xhr.withCredentials = true;
/* 1634 */        xhr.onreadystatechange = function () {
/* 1635 */          if (xhr.readyState == 4) {
/* 1636 */            xhr.onreadystatechange = empty;
/* 1637 */  
/* 1638 */            if (xhr.status == 200) {
/* 1639 */              complete(xhr.responseText);
/* 1640 */            } else {
/* 1641 */              self.connecting = false;            
/* 1642 */              !self.reconnecting && self.onError(xhr.responseText);
/* 1643 */            }
/* 1644 */          }
/* 1645 */        };
/* 1646 */        xhr.send(null);
/* 1647 */      }
/* 1648 */    };
/* 1649 */  
/* 1650 */    /**
   1651        * Find an available transport based on the options supplied in the constructor.
   1652        *
   1653        * @api private
   1654        */
/* 1655 */  
/* 1656 */    Socket.prototype.getTransport = function (override) {
/* 1657 */      var transports = override || this.transports, match;
/* 1658 */  
/* 1659 */      for (var i = 0, transport; transport = transports[i]; i++) {
/* 1660 */        if (io.Transport[transport]
/* 1661 */          && io.Transport[transport].check(this)
/* 1662 */          && (!this.isXDomain() || io.Transport[transport].xdomainCheck())) {
/* 1663 */          return new io.Transport[transport](this, this.sessionid);
/* 1664 */        }
/* 1665 */      }
/* 1666 */  
/* 1667 */      return null;
/* 1668 */    };
/* 1669 */  
/* 1670 */    /**
   1671        * Connects to the server.
   1672        *
   1673        * @param {Function} [fn] Callback.
   1674        * @returns {io.Socket}
   1675        * @api public
   1676        */
/* 1677 */  
/* 1678 */    Socket.prototype.connect = function (fn) {
/* 1679 */      if (this.connecting) {
/* 1680 */        return this;
/* 1681 */      }
/* 1682 */  
/* 1683 */      var self = this;
/* 1684 */      self.connecting = true;
/* 1685 */      
/* 1686 */      this.handshake(function (sid, heartbeat, close, transports) {
/* 1687 */        self.sessionid = sid;
/* 1688 */        self.closeTimeout = close * 1000;
/* 1689 */        self.heartbeatTimeout = heartbeat * 1000;
/* 1690 */        self.transports = transports ? io.util.intersect(
/* 1691 */            transports.split(',')
/* 1692 */          , self.options.transports
/* 1693 */        ) : self.options.transports;
/* 1694 */  
/* 1695 */        self.setHeartbeatTimeout();
/* 1696 */  
/* 1697 */        function connect (transports){
/* 1698 */          if (self.transport) self.transport.clearTimeouts();
/* 1699 */  
/* 1700 */          self.transport = self.getTransport(transports);
/* 1701 */          if (!self.transport) return self.publish('connect_failed');
/* 1702 */  
/* 1703 */          // once the transport is ready
/* 1704 */          self.transport.ready(self, function () {
/* 1705 */            self.connecting = true;
/* 1706 */            self.publish('connecting', self.transport.name);
/* 1707 */            self.transport.open();
/* 1708 */  
/* 1709 */            if (self.options['connect timeout']) {
/* 1710 */              self.connectTimeoutTimer = setTimeout(function () {
/* 1711 */                if (!self.connected) {
/* 1712 */                  self.connecting = false;
/* 1713 */  
/* 1714 */                  if (self.options['try multiple transports']) {
/* 1715 */                    if (!self.remainingTransports) {
/* 1716 */                      self.remainingTransports = self.transports.slice(0);
/* 1717 */                    }
/* 1718 */  
/* 1719 */                    var remaining = self.remainingTransports;
/* 1720 */  
/* 1721 */                    while (remaining.length > 0 && remaining.splice(0,1)[0] !=
/* 1722 */                           self.transport.name) {}
/* 1723 */  
/* 1724 */                      if (remaining.length){
/* 1725 */                        connect(remaining);
/* 1726 */                      } else {
/* 1727 */                        self.publish('connect_failed');
/* 1728 */                      }
/* 1729 */                  }
/* 1730 */                }
/* 1731 */              }, self.options['connect timeout']);
/* 1732 */            }
/* 1733 */          });
/* 1734 */        }
/* 1735 */  
/* 1736 */        connect(self.transports);
/* 1737 */  
/* 1738 */        self.once('connect', function (){
/* 1739 */          clearTimeout(self.connectTimeoutTimer);
/* 1740 */  
/* 1741 */          fn && typeof fn == 'function' && fn();
/* 1742 */        });
/* 1743 */      });
/* 1744 */  
/* 1745 */      return this;
/* 1746 */    };
/* 1747 */  
/* 1748 */    /**
   1749        * Clears and sets a new heartbeat timeout using the value given by the
   1750        * server during the handshake.
   1751        *
   1752        * @api private
   1753        */
/* 1754 */  
/* 1755 */    Socket.prototype.setHeartbeatTimeout = function () {
/* 1756 */      clearTimeout(this.heartbeatTimeoutTimer);
/* 1757 */  
/* 1758 */      var self = this;
/* 1759 */      this.heartbeatTimeoutTimer = setTimeout(function () {
/* 1760 */        self.transport.onClose();
/* 1761 */      }, this.heartbeatTimeout);
/* 1762 */    };
/* 1763 */  
/* 1764 */    /**
   1765        * Sends a message.
   1766        *
   1767        * @param {Object} data packet.
   1768        * @returns {io.Socket}
   1769        * @api public
   1770        */
/* 1771 */  
/* 1772 */    Socket.prototype.packet = function (data) {
/* 1773 */      if (this.connected && !this.doBuffer) {
/* 1774 */        this.transport.packet(data);
/* 1775 */      } else {
/* 1776 */        this.buffer.push(data);
/* 1777 */      }
/* 1778 */  
/* 1779 */      return this;
/* 1780 */    };
/* 1781 */  
/* 1782 */    /**
   1783        * Sets buffer state
   1784        *
   1785        * @api private
   1786        */
/* 1787 */  
/* 1788 */    Socket.prototype.setBuffer = function (v) {
/* 1789 */      this.doBuffer = v;
/* 1790 */  
/* 1791 */      if (!v && this.connected && this.buffer.length) {
/* 1792 */        this.transport.payload(this.buffer);
/* 1793 */        this.buffer = [];
/* 1794 */      }
/* 1795 */    };
/* 1796 */  
/* 1797 */    /**
   1798        * Disconnect the established connect.
   1799        *
   1800        * @returns {io.Socket}
   1801        * @api public
   1802        */
/* 1803 */  
/* 1804 */    Socket.prototype.disconnect = function () {
/* 1805 */      if (this.connected || this.connecting) {
/* 1806 */        if (this.open) {
/* 1807 */          this.of('').packet({ type: 'disconnect' });
/* 1808 */        }
/* 1809 */  
/* 1810 */        // handle disconnection immediately
/* 1811 */        this.onDisconnect('booted');
/* 1812 */      }
/* 1813 */  
/* 1814 */      return this;
/* 1815 */    };
/* 1816 */  
/* 1817 */    /**
   1818        * Disconnects the socket with a sync XHR.
   1819        *
   1820        * @api private
   1821        */
/* 1822 */  
/* 1823 */    Socket.prototype.disconnectSync = function () {
/* 1824 */      // ensure disconnection
/* 1825 */      var xhr = io.util.request()
/* 1826 */        , uri = this.resource + '/' + io.protocol + '/' + this.sessionid;
/* 1827 */  
/* 1828 */      xhr.open('GET', uri, true);
/* 1829 */  
/* 1830 */      // handle disconnection immediately
/* 1831 */      this.onDisconnect('booted');
/* 1832 */    };
/* 1833 */  
/* 1834 */    /**
   1835        * Check if we need to use cross domain enabled transports. Cross domain would
   1836        * be a different port or different domain name.
   1837        *
   1838        * @returns {Boolean}
   1839        * @api private
   1840        */
/* 1841 */  
/* 1842 */    Socket.prototype.isXDomain = function () {
/* 1843 */  
/* 1844 */      var port = global.location.port ||
/* 1845 */        ('https:' == global.location.protocol ? 443 : 80);
/* 1846 */  
/* 1847 */      return this.options.host !== global.location.hostname 
/* 1848 */        || this.options.port != port;
/* 1849 */    };
/* 1850 */  
/* 1851 */    /**
   1852        * Called upon handshake.
   1853        *
   1854        * @api private
   1855        */
/* 1856 */  
/* 1857 */    Socket.prototype.onConnect = function () {
/* 1858 */      if (!this.connected) {
/* 1859 */        this.connected = true;
/* 1860 */        this.connecting = false;
/* 1861 */        if (!this.doBuffer) {
/* 1862 */          // make sure to flush the buffer
/* 1863 */          this.setBuffer(false);
/* 1864 */        }
/* 1865 */        this.emit('connect');
/* 1866 */      }
/* 1867 */    };
/* 1868 */  
/* 1869 */    /**
   1870        * Called when the transport opens
   1871        *
   1872        * @api private
   1873        */
/* 1874 */  
/* 1875 */    Socket.prototype.onOpen = function () {
/* 1876 */      this.open = true;
/* 1877 */    };
/* 1878 */  
/* 1879 */    /**
   1880        * Called when the transport closes.
   1881        *
   1882        * @api private
   1883        */
/* 1884 */  
/* 1885 */    Socket.prototype.onClose = function () {
/* 1886 */      this.open = false;
/* 1887 */      clearTimeout(this.heartbeatTimeoutTimer);
/* 1888 */    };
/* 1889 */  
/* 1890 */    /**
   1891        * Called when the transport first opens a connection
   1892        *
   1893        * @param text
   1894        */
/* 1895 */  
/* 1896 */    Socket.prototype.onPacket = function (packet) {
/* 1897 */      this.of(packet.endpoint).onPacket(packet);
/* 1898 */    };
/* 1899 */  
/* 1900 */    /**
   1901        * Handles an error.
   1902        *
   1903        * @api private
   1904        */
/* 1905 */  
/* 1906 */    Socket.prototype.onError = function (err) {
/* 1907 */      if (err && err.advice) {
/* 1908 */        if (err.advice === 'reconnect' && (this.connected || this.connecting)) {
/* 1909 */          this.disconnect();
/* 1910 */          if (this.options.reconnect) {
/* 1911 */            this.reconnect();
/* 1912 */          }
/* 1913 */        }
/* 1914 */      }
/* 1915 */  
/* 1916 */      this.publish('error', err && err.reason ? err.reason : err);
/* 1917 */    };
/* 1918 */  
/* 1919 */    /**
   1920        * Called when the transport disconnects.
   1921        *
   1922        * @api private
   1923        */
/* 1924 */  
/* 1925 */    Socket.prototype.onDisconnect = function (reason) {
/* 1926 */      var wasConnected = this.connected
/* 1927 */        , wasConnecting = this.connecting;
/* 1928 */  
/* 1929 */      this.connected = false;
/* 1930 */      this.connecting = false;
/* 1931 */      this.open = false;
/* 1932 */  
/* 1933 */      if (wasConnected || wasConnecting) {
/* 1934 */        this.transport.close();
/* 1935 */        this.transport.clearTimeouts();
/* 1936 */        if (wasConnected) {
/* 1937 */          this.publish('disconnect', reason);
/* 1938 */  
/* 1939 */          if ('booted' != reason && this.options.reconnect && !this.reconnecting) {
/* 1940 */            this.reconnect();
/* 1941 */          }
/* 1942 */        }
/* 1943 */      }
/* 1944 */    };
/* 1945 */  
/* 1946 */    /**
   1947        * Called upon reconnection.
   1948        *
   1949        * @api private
   1950        */
/* 1951 */  
/* 1952 */    Socket.prototype.reconnect = function () {
/* 1953 */      this.reconnecting = true;
/* 1954 */      this.reconnectionAttempts = 0;
/* 1955 */      this.reconnectionDelay = this.options['reconnection delay'];
/* 1956 */  
/* 1957 */      var self = this
/* 1958 */        , maxAttempts = this.options['max reconnection attempts']
/* 1959 */        , tryMultiple = this.options['try multiple transports']
/* 1960 */        , limit = this.options['reconnection limit'];
/* 1961 */  
/* 1962 */      function reset () {
/* 1963 */        if (self.connected) {
/* 1964 */          for (var i in self.namespaces) {
/* 1965 */            if (self.namespaces.hasOwnProperty(i) && '' !== i) {
/* 1966 */                self.namespaces[i].packet({ type: 'connect' });
/* 1967 */            }
/* 1968 */          }
/* 1969 */          self.publish('reconnect', self.transport.name, self.reconnectionAttempts);
/* 1970 */        }
/* 1971 */  
/* 1972 */        clearTimeout(self.reconnectionTimer);
/* 1973 */  
/* 1974 */        self.removeListener('connect_failed', maybeReconnect);
/* 1975 */        self.removeListener('connect', maybeReconnect);
/* 1976 */  
/* 1977 */        self.reconnecting = false;
/* 1978 */  
/* 1979 */        delete self.reconnectionAttempts;
/* 1980 */        delete self.reconnectionDelay;
/* 1981 */        delete self.reconnectionTimer;
/* 1982 */        delete self.redoTransports;
/* 1983 */  
/* 1984 */        self.options['try multiple transports'] = tryMultiple;
/* 1985 */      };
/* 1986 */  
/* 1987 */      function maybeReconnect () {
/* 1988 */        if (!self.reconnecting) {
/* 1989 */          return;
/* 1990 */        }
/* 1991 */  
/* 1992 */        if (self.connected) {
/* 1993 */          return reset();
/* 1994 */        };
/* 1995 */  
/* 1996 */        if (self.connecting && self.reconnecting) {
/* 1997 */          return self.reconnectionTimer = setTimeout(maybeReconnect, 1000);
/* 1998 */        }
/* 1999 */  
/* 2000 */        if (self.reconnectionAttempts++ >= maxAttempts) {
/* 2001 */          if (!self.redoTransports) {
/* 2002 */            self.on('connect_failed', maybeReconnect);
/* 2003 */            self.options['try multiple transports'] = true;
/* 2004 */            self.transport = self.getTransport();
/* 2005 */            self.redoTransports = true;
/* 2006 */            self.connect();
/* 2007 */          } else {
/* 2008 */            self.publish('reconnect_failed');
/* 2009 */            reset();
/* 2010 */          }
/* 2011 */        } else {
/* 2012 */          if (self.reconnectionDelay < limit) {
/* 2013 */            self.reconnectionDelay *= 2; // exponential back off
/* 2014 */          }
/* 2015 */  
/* 2016 */          self.connect();
/* 2017 */          self.publish('reconnecting', self.reconnectionDelay, self.reconnectionAttempts);
/* 2018 */          self.reconnectionTimer = setTimeout(maybeReconnect, self.reconnectionDelay);
/* 2019 */        }
/* 2020 */      };
/* 2021 */  
/* 2022 */      this.options['try multiple transports'] = false;
/* 2023 */      this.reconnectionTimer = setTimeout(maybeReconnect, this.reconnectionDelay);
/* 2024 */  
/* 2025 */      this.on('connect', maybeReconnect);
/* 2026 */    };
/* 2027 */  
/* 2028 */  })(
/* 2029 */      'undefined' != typeof io ? io : module.exports
/* 2030 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2031 */    , this
/* 2032 */  );
/* 2033 */  /**
   2034      * socket.io
   2035      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   2036      * MIT Licensed
   2037      */
/* 2038 */  
/* 2039 */  (function (exports, io) {
/* 2040 */  
/* 2041 */    /**
   2042        * Expose constructor.
   2043        */
/* 2044 */  
/* 2045 */    exports.SocketNamespace = SocketNamespace;
/* 2046 */  
/* 2047 */    /**
   2048        * Socket namespace constructor.
   2049        *
   2050        * @constructor
   2051        * @api public
   2052        */
/* 2053 */  
/* 2054 */    function SocketNamespace (socket, name) {
/* 2055 */      this.socket = socket;
/* 2056 */      this.name = name || '';
/* 2057 */      this.flags = {};
/* 2058 */      this.json = new Flag(this, 'json');
/* 2059 */      this.ackPackets = 0;
/* 2060 */      this.acks = {};
/* 2061 */    };
/* 2062 */  
/* 2063 */    /**
   2064        * Apply EventEmitter mixin.
   2065        */
/* 2066 */  
/* 2067 */    io.util.mixin(SocketNamespace, io.EventEmitter);
/* 2068 */  
/* 2069 */    /**
   2070        * Copies emit since we override it
   2071        *
   2072        * @api private
   2073        */
/* 2074 */  
/* 2075 */    SocketNamespace.prototype.$emit = io.EventEmitter.prototype.emit;
/* 2076 */  
/* 2077 */    /**
   2078        * Creates a new namespace, by proxying the request to the socket. This
   2079        * allows us to use the synax as we do on the server.
   2080        *
   2081        * @api public
   2082        */
/* 2083 */  
/* 2084 */    SocketNamespace.prototype.of = function () {
/* 2085 */      return this.socket.of.apply(this.socket, arguments);
/* 2086 */    };
/* 2087 */  
/* 2088 */    /**
   2089        * Sends a packet.
   2090        *
   2091        * @api private
   2092        */
/* 2093 */  
/* 2094 */    SocketNamespace.prototype.packet = function (packet) {
/* 2095 */      packet.endpoint = this.name;
/* 2096 */      this.socket.packet(packet);
/* 2097 */      this.flags = {};
/* 2098 */      return this;
/* 2099 */    };
/* 2100 */  
/* 2101 */    /**
   2102        * Sends a message
   2103        *
   2104        * @api public
   2105        */
/* 2106 */  
/* 2107 */    SocketNamespace.prototype.send = function (data, fn) {
/* 2108 */      var packet = {
/* 2109 */          type: this.flags.json ? 'json' : 'message'
/* 2110 */        , data: data
/* 2111 */      };
/* 2112 */  
/* 2113 */      if ('function' == typeof fn) {
/* 2114 */        packet.id = ++this.ackPackets;
/* 2115 */        packet.ack = true;
/* 2116 */        this.acks[packet.id] = fn;
/* 2117 */      }
/* 2118 */  
/* 2119 */      return this.packet(packet);
/* 2120 */    };
/* 2121 */  
/* 2122 */    /**
   2123        * Emits an event
   2124        *
   2125        * @api public
   2126        */
/* 2127 */    
/* 2128 */    SocketNamespace.prototype.emit = function (name) {
/* 2129 */      var args = Array.prototype.slice.call(arguments, 1)
/* 2130 */        , lastArg = args[args.length - 1]
/* 2131 */        , packet = {
/* 2132 */              type: 'event'
/* 2133 */            , name: name
/* 2134 */          };
/* 2135 */  
/* 2136 */      if ('function' == typeof lastArg) {
/* 2137 */        packet.id = ++this.ackPackets;
/* 2138 */        packet.ack = 'data';
/* 2139 */        this.acks[packet.id] = lastArg;
/* 2140 */        args = args.slice(0, args.length - 1);
/* 2141 */      }
/* 2142 */  
/* 2143 */      packet.args = args;
/* 2144 */  
/* 2145 */      return this.packet(packet);
/* 2146 */    };
/* 2147 */  
/* 2148 */    /**
   2149        * Disconnects the namespace
   2150        *
   2151        * @api private
   2152        */
/* 2153 */  
/* 2154 */    SocketNamespace.prototype.disconnect = function () {
/* 2155 */      if (this.name === '') {
/* 2156 */        this.socket.disconnect();
/* 2157 */      } else {
/* 2158 */        this.packet({ type: 'disconnect' });
/* 2159 */        this.$emit('disconnect');
/* 2160 */      }
/* 2161 */  
/* 2162 */      return this;
/* 2163 */    };
/* 2164 */  
/* 2165 */    /**
   2166        * Handles a packet
   2167        *
   2168        * @api private
   2169        */
/* 2170 */  
/* 2171 */    SocketNamespace.prototype.onPacket = function (packet) {
/* 2172 */      var self = this;
/* 2173 */  
/* 2174 */      function ack () {
/* 2175 */        self.packet({
/* 2176 */            type: 'ack'
/* 2177 */          , args: io.util.toArray(arguments)
/* 2178 */          , ackId: packet.id
/* 2179 */        });
/* 2180 */      };
/* 2181 */  
/* 2182 */      switch (packet.type) {
/* 2183 */        case 'connect':
/* 2184 */          this.$emit('connect');
/* 2185 */          break;
/* 2186 */  
/* 2187 */        case 'disconnect':
/* 2188 */          if (this.name === '') {
/* 2189 */            this.socket.onDisconnect(packet.reason || 'booted');
/* 2190 */          } else {
/* 2191 */            this.$emit('disconnect', packet.reason);
/* 2192 */          }
/* 2193 */          break;
/* 2194 */  
/* 2195 */        case 'message':
/* 2196 */        case 'json':
/* 2197 */          var params = ['message', packet.data];
/* 2198 */  
/* 2199 */          if (packet.ack == 'data') {
/* 2200 */            params.push(ack);
/* 2201 */          } else if (packet.ack) {
/* 2202 */            this.packet({ type: 'ack', ackId: packet.id });
/* 2203 */          }
/* 2204 */  
/* 2205 */          this.$emit.apply(this, params);
/* 2206 */          break;
/* 2207 */  
/* 2208 */        case 'event':
/* 2209 */          var params = [packet.name].concat(packet.args);
/* 2210 */  
/* 2211 */          if (packet.ack == 'data')
/* 2212 */            params.push(ack);
/* 2213 */  
/* 2214 */          this.$emit.apply(this, params);
/* 2215 */          break;
/* 2216 */  
/* 2217 */        case 'ack':
/* 2218 */          if (this.acks[packet.ackId]) {
/* 2219 */            this.acks[packet.ackId].apply(this, packet.args);
/* 2220 */            delete this.acks[packet.ackId];
/* 2221 */          }
/* 2222 */          break;
/* 2223 */  
/* 2224 */        case 'error':
/* 2225 */          if (packet.advice){
/* 2226 */            this.socket.onError(packet);
/* 2227 */          } else {
/* 2228 */            if (packet.reason == 'unauthorized') {
/* 2229 */              this.$emit('connect_failed', packet.reason);
/* 2230 */            } else {
/* 2231 */              this.$emit('error', packet.reason);
/* 2232 */            }
/* 2233 */          }
/* 2234 */          break;
/* 2235 */      }
/* 2236 */    };
/* 2237 */  
/* 2238 */    /**
   2239        * Flag interface.
   2240        *
   2241        * @api private
   2242        */
/* 2243 */  
/* 2244 */    function Flag (nsp, name) {
/* 2245 */      this.namespace = nsp;
/* 2246 */      this.name = name;
/* 2247 */    };
/* 2248 */  
/* 2249 */    /**
   2250        * Send a message
   2251        *
   2252        * @api public
   2253        */
/* 2254 */  
/* 2255 */    Flag.prototype.send = function () {
/* 2256 */      this.namespace.flags[this.name] = true;
/* 2257 */      this.namespace.send.apply(this.namespace, arguments);
/* 2258 */    };
/* 2259 */  
/* 2260 */    /**
   2261        * Emit an event
   2262        *
   2263        * @api public
   2264        */
/* 2265 */  
/* 2266 */    Flag.prototype.emit = function () {
/* 2267 */      this.namespace.flags[this.name] = true;
/* 2268 */      this.namespace.emit.apply(this.namespace, arguments);
/* 2269 */    };
/* 2270 */  
/* 2271 */  })(
/* 2272 */      'undefined' != typeof io ? io : module.exports
/* 2273 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2274 */  );
/* 2275 */  
/* 2276 */  /**
   2277      * socket.io
   2278      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   2279      * MIT Licensed
   2280      */
/* 2281 */  
/* 2282 */  (function (exports, io, global) {
/* 2283 */  
/* 2284 */    /**
   2285        * Expose constructor.
   2286        */
/* 2287 */  
/* 2288 */    exports.websocket = WS;
/* 2289 */  
/* 2290 */    /**
   2291        * The WebSocket transport uses the HTML5 WebSocket API to establish an
   2292        * persistent connection with the Socket.IO server. This transport will also
   2293        * be inherited by the FlashSocket fallback as it provides a API compatible
   2294        * polyfill for the WebSockets.
   2295        *
   2296        * @constructor
   2297        * @extends {io.Transport}
   2298        * @api public
   2299        */
/* 2300 */  
/* 2301 */    function WS (socket) {
/* 2302 */      io.Transport.apply(this, arguments);
/* 2303 */    };
/* 2304 */  
/* 2305 */    /**
   2306        * Inherits from Transport.
   2307        */
/* 2308 */  
/* 2309 */    io.util.inherit(WS, io.Transport);
/* 2310 */  
/* 2311 */    /**
   2312        * Transport name
   2313        *
   2314        * @api public
   2315        */
/* 2316 */  
/* 2317 */    WS.prototype.name = 'websocket';
/* 2318 */  
/* 2319 */    /**
   2320        * Initializes a new `WebSocket` connection with the Socket.IO server. We attach
   2321        * all the appropriate listeners to handle the responses from the server.
   2322        *
   2323        * @returns {Transport}
   2324        * @api public
   2325        */
/* 2326 */  
/* 2327 */    WS.prototype.open = function () {
/* 2328 */      var query = io.util.query(this.socket.options.query)
/* 2329 */        , self = this
/* 2330 */        , Socket
/* 2331 */  
/* 2332 */  
/* 2333 */      if (!Socket) {
/* 2334 */        Socket = global.MozWebSocket || global.WebSocket;
/* 2335 */      }
/* 2336 */  
/* 2337 */      this.websocket = new Socket(this.prepareUrl() + query);
/* 2338 */  
/* 2339 */      this.websocket.onopen = function () {
/* 2340 */        self.onOpen();
/* 2341 */        self.socket.setBuffer(false);
/* 2342 */      };
/* 2343 */      this.websocket.onmessage = function (ev) {
/* 2344 */        self.onData(ev.data);
/* 2345 */      };
/* 2346 */      this.websocket.onclose = function () {
/* 2347 */        self.onClose();
/* 2348 */        self.socket.setBuffer(true);
/* 2349 */      };
/* 2350 */      this.websocket.onerror = function (e) {
/* 2351 */        self.onError(e);
/* 2352 */      };
/* 2353 */  
/* 2354 */      return this;
/* 2355 */    };
/* 2356 */  
/* 2357 */    /**
   2358        * Send a message to the Socket.IO server. The message will automatically be
   2359        * encoded in the correct message format.
   2360        *
   2361        * @returns {Transport}
   2362        * @api public
   2363        */
/* 2364 */  
/* 2365 */    // Do to a bug in the current IDevices browser, we need to wrap the send in a 
/* 2366 */    // setTimeout, when they resume from sleeping the browser will crash if 
/* 2367 */    // we don't allow the browser time to detect the socket has been closed
/* 2368 */    if (io.util.ua.iDevice) {
/* 2369 */      WS.prototype.send = function (data) {
/* 2370 */        var self = this;
/* 2371 */        setTimeout(function() {
/* 2372 */           self.websocket.send(data);
/* 2373 */        },0);
/* 2374 */        return this;
/* 2375 */      };
/* 2376 */    } else {
/* 2377 */      WS.prototype.send = function (data) {
/* 2378 */        this.websocket.send(data);
/* 2379 */        return this;
/* 2380 */      };
/* 2381 */    }
/* 2382 */  
/* 2383 */    /**
   2384        * Payload
   2385        *
   2386        * @api private
   2387        */
/* 2388 */  
/* 2389 */    WS.prototype.payload = function (arr) {
/* 2390 */      for (var i = 0, l = arr.length; i < l; i++) {
/* 2391 */        this.packet(arr[i]);
/* 2392 */      }
/* 2393 */      return this;
/* 2394 */    };
/* 2395 */  
/* 2396 */    /**
   2397        * Disconnect the established `WebSocket` connection.
   2398        *
   2399        * @returns {Transport}
   2400        * @api public
   2401        */
/* 2402 */  
/* 2403 */    WS.prototype.close = function () {
/* 2404 */      this.websocket.close();
/* 2405 */      return this;
/* 2406 */    };
/* 2407 */  
/* 2408 */    /**
   2409        * Handle the errors that `WebSocket` might be giving when we
   2410        * are attempting to connect or send messages.
   2411        *
   2412        * @param {Error} e The error.
   2413        * @api private
   2414        */
/* 2415 */  
/* 2416 */    WS.prototype.onError = function (e) {
/* 2417 */      this.socket.onError(e);
/* 2418 */    };
/* 2419 */  
/* 2420 */    /**
   2421        * Returns the appropriate scheme for the URI generation.
   2422        *
   2423        * @api private
   2424        */
/* 2425 */    WS.prototype.scheme = function () {
/* 2426 */      return this.socket.options.secure ? 'wss' : 'ws';
/* 2427 */    };
/* 2428 */  
/* 2429 */    /**
   2430        * Checks if the browser has support for native `WebSockets` and that
   2431        * it's not the polyfill created for the FlashSocket transport.
   2432        *
   2433        * @return {Boolean}
   2434        * @api public
   2435        */
/* 2436 */  
/* 2437 */    WS.check = function () {
/* 2438 */      return ('WebSocket' in global && !('__addTask' in WebSocket))
/* 2439 */            || 'MozWebSocket' in global;
/* 2440 */    };
/* 2441 */  
/* 2442 */    /**
   2443        * Check if the `WebSocket` transport support cross domain communications.
   2444        *
   2445        * @returns {Boolean}
   2446        * @api public
   2447        */
/* 2448 */  
/* 2449 */    WS.xdomainCheck = function () {
/* 2450 */      return true;
/* 2451 */    };
/* 2452 */  
/* 2453 */    /**
   2454        * Add the transport to your public io.transports array.
   2455        *
   2456        * @api private
   2457        */
/* 2458 */  
/* 2459 */    io.transports.push('websocket');
/* 2460 */  
/* 2461 */  })(
/* 2462 */      'undefined' != typeof io ? io.Transport : module.exports
/* 2463 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2464 */    , this
/* 2465 */  );
/* 2466 */  
/* 2467 */  /**
   2468      * socket.io
   2469      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   2470      * MIT Licensed
   2471      */
/* 2472 */  
/* 2473 */  (function (exports, io) {
/* 2474 */  
/* 2475 */    /**
   2476        * Expose constructor.
   2477        */
/* 2478 */  
/* 2479 */    exports.flashsocket = Flashsocket;
/* 2480 */  
/* 2481 */    /**
   2482        * The FlashSocket transport. This is a API wrapper for the HTML5 WebSocket
   2483        * specification. It uses a .swf file to communicate with the server. If you want
   2484        * to serve the .swf file from a other server than where the Socket.IO script is
   2485        * coming from you need to use the insecure version of the .swf. More information
   2486        * about this can be found on the github page.
   2487        *
   2488        * @constructor
   2489        * @extends {io.Transport.websocket}
   2490        * @api public
   2491        */
/* 2492 */  
/* 2493 */    function Flashsocket () {
/* 2494 */      io.Transport.websocket.apply(this, arguments);
/* 2495 */    };
/* 2496 */  
/* 2497 */    /**
   2498        * Inherits from Transport.
   2499        */
/* 2500 */  
/* 2501 */    io.util.inherit(Flashsocket, io.Transport.websocket);
/* 2502 */  
/* 2503 */    /**
   2504        * Transport name
   2505        *
   2506        * @api public
   2507        */
/* 2508 */  
/* 2509 */    Flashsocket.prototype.name = 'flashsocket';
/* 2510 */  
/* 2511 */    /**
   2512        * Disconnect the established `FlashSocket` connection. This is done by adding a 
   2513        * new task to the FlashSocket. The rest will be handled off by the `WebSocket` 
   2514        * transport.
   2515        *
   2516        * @returns {Transport}
   2517        * @api public
   2518        */
/* 2519 */  
/* 2520 */    Flashsocket.prototype.open = function () {
/* 2521 */      var self = this
/* 2522 */        , args = arguments;
/* 2523 */  
/* 2524 */      WebSocket.__addTask(function () {
/* 2525 */        io.Transport.websocket.prototype.open.apply(self, args);
/* 2526 */      });
/* 2527 */      return this;
/* 2528 */    };
/* 2529 */    
/* 2530 */    /**
   2531        * Sends a message to the Socket.IO server. This is done by adding a new
   2532        * task to the FlashSocket. The rest will be handled off by the `WebSocket` 
   2533        * transport.
   2534        *
   2535        * @returns {Transport}
   2536        * @api public
   2537        */
/* 2538 */  
/* 2539 */    Flashsocket.prototype.send = function () {
/* 2540 */      var self = this, args = arguments;
/* 2541 */      WebSocket.__addTask(function () {
/* 2542 */        io.Transport.websocket.prototype.send.apply(self, args);
/* 2543 */      });
/* 2544 */      return this;
/* 2545 */    };
/* 2546 */  
/* 2547 */    /**
   2548        * Disconnects the established `FlashSocket` connection.
   2549        *
   2550        * @returns {Transport}
   2551        * @api public
   2552        */
/* 2553 */  
/* 2554 */    Flashsocket.prototype.close = function () {
/* 2555 */      WebSocket.__tasks.length = 0;
/* 2556 */      io.Transport.websocket.prototype.close.call(this);
/* 2557 */      return this;
/* 2558 */    };
/* 2559 */  
/* 2560 */    /**
   2561        * The WebSocket fall back needs to append the flash container to the body
   2562        * element, so we need to make sure we have access to it. Or defer the call
   2563        * until we are sure there is a body element.
   2564        *
   2565        * @param {Socket} socket The socket instance that needs a transport
   2566        * @param {Function} fn The callback
   2567        * @api private
   2568        */
/* 2569 */  
/* 2570 */    Flashsocket.prototype.ready = function (socket, fn) {
/* 2571 */      function init () {
/* 2572 */        var options = socket.options
/* 2573 */          , port = options['flash policy port']
/* 2574 */          , path = [
/* 2575 */                'http' + (options.secure ? 's' : '') + ':/'
/* 2576 */              , options.host + ':' + options.port
/* 2577 */              , options.resource
/* 2578 */              , 'static/flashsocket'
/* 2579 */              , 'WebSocketMain' + (socket.isXDomain() ? 'Insecure' : '') + '.swf'
/* 2580 */            ];
/* 2581 */  
/* 2582 */        // Only start downloading the swf file when the checked that this browser
/* 2583 */        // actually supports it
/* 2584 */        if (!Flashsocket.loaded) {
/* 2585 */          if (typeof WEB_SOCKET_SWF_LOCATION === 'undefined') {
/* 2586 */            // Set the correct file based on the XDomain settings
/* 2587 */            WEB_SOCKET_SWF_LOCATION = path.join('/');
/* 2588 */          }
/* 2589 */  
/* 2590 */          if (port !== 843) {
/* 2591 */            WebSocket.loadFlashPolicyFile('xmlsocket://' + options.host + ':' + port);
/* 2592 */          }
/* 2593 */  
/* 2594 */          WebSocket.__initialize();
/* 2595 */          Flashsocket.loaded = true;
/* 2596 */        }
/* 2597 */  
/* 2598 */        fn.call(self);
/* 2599 */      }
/* 2600 */  
/* 2601 */      var self = this;
/* 2602 */      if (document.body) return init();
/* 2603 */  
/* 2604 */      io.util.load(init);
/* 2605 */    };
/* 2606 */  
/* 2607 */    /**
   2608        * Check if the FlashSocket transport is supported as it requires that the Adobe
   2609        * Flash Player plug-in version `10.0.0` or greater is installed. And also check if
   2610        * the polyfill is correctly loaded.
   2611        *
   2612        * @returns {Boolean}
   2613        * @api public
   2614        */
/* 2615 */  
/* 2616 */    Flashsocket.check = function () {
/* 2617 */      if (
/* 2618 */          typeof WebSocket == 'undefined'
/* 2619 */        || !('__initialize' in WebSocket) || !swfobject
/* 2620 */      ) return false;
/* 2621 */  
/* 2622 */      return swfobject.getFlashPlayerVersion().major >= 10;
/* 2623 */    };
/* 2624 */  
/* 2625 */    /**
   2626        * Check if the FlashSocket transport can be used as cross domain / cross origin 
   2627        * transport. Because we can't see which type (secure or insecure) of .swf is used
   2628        * we will just return true.
   2629        *
   2630        * @returns {Boolean}
   2631        * @api public
   2632        */
/* 2633 */  
/* 2634 */    Flashsocket.xdomainCheck = function () {
/* 2635 */      return true;
/* 2636 */    };
/* 2637 */  
/* 2638 */    /**
   2639        * Disable AUTO_INITIALIZATION
   2640        */
/* 2641 */  
/* 2642 */    if (typeof window != 'undefined') {
/* 2643 */      WEB_SOCKET_DISABLE_AUTO_INITIALIZATION = true;
/* 2644 */    }
/* 2645 */  
/* 2646 */    /**
   2647        * Add the transport to your public io.transports array.
   2648        *
   2649        * @api private
   2650        */
/* 2651 */  
/* 2652 */    io.transports.push('flashsocket');
/* 2653 */  })(
/* 2654 */      'undefined' != typeof io ? io.Transport : module.exports
/* 2655 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2656 */  );
/* 2657 */  /*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
   2658     	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
   2659     */
/* 2660 */  if ('undefined' != typeof window) {
/* 2661 */  var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O[(['Active'].concat('Object').join('X'))]!=D){try{var ad=new window[(['Active'].concat('Object').join('X'))](W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?(['Active'].concat('').join('X')):"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();
/* 2662 */  }
/* 2663 */  // Copyright: Hiroshi Ichikawa <http://gimite.net/en/>
/* 2664 */  // License: New BSD License
/* 2665 */  // Reference: http://dev.w3.org/html5/websockets/
/* 2666 */  // Reference: http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol
/* 2667 */  
/* 2668 */  (function() {
/* 2669 */    
/* 2670 */    if ('undefined' == typeof window || window.WebSocket) return;
/* 2671 */  
/* 2672 */    var console = window.console;
/* 2673 */    if (!console || !console.log || !console.error) {
/* 2674 */      console = {log: function(){ }, error: function(){ }};
/* 2675 */    }
/* 2676 */    
/* 2677 */    if (!swfobject.hasFlashPlayerVersion("10.0.0")) {
/* 2678 */      console.error("Flash Player >= 10.0.0 is required.");
/* 2679 */      return;
/* 2680 */    }
/* 2681 */    if (location.protocol == "file:") {
/* 2682 */      console.error(
/* 2683 */        "WARNING: web-socket-js doesn't work in file:///... URL " +
/* 2684 */        "unless you set Flash Security Settings properly. " +
/* 2685 */        "Open the page via Web server i.e. http://...");
/* 2686 */    }
/* 2687 */  
/* 2688 */    /**
   2689        * This class represents a faux web socket.
   2690        * @param {string} url
   2691        * @param {array or string} protocols
   2692        * @param {string} proxyHost
   2693        * @param {int} proxyPort
   2694        * @param {string} headers
   2695        */
/* 2696 */    WebSocket = function(url, protocols, proxyHost, proxyPort, headers) {
/* 2697 */      var self = this;
/* 2698 */      self.__id = WebSocket.__nextId++;
/* 2699 */      WebSocket.__instances[self.__id] = self;
/* 2700 */      self.readyState = WebSocket.CONNECTING;
/* 2701 */      self.bufferedAmount = 0;
/* 2702 */      self.__events = {};
/* 2703 */      if (!protocols) {
/* 2704 */        protocols = [];
/* 2705 */      } else if (typeof protocols == "string") {
/* 2706 */        protocols = [protocols];
/* 2707 */      }
/* 2708 */      // Uses setTimeout() to make sure __createFlash() runs after the caller sets ws.onopen etc.
/* 2709 */      // Otherwise, when onopen fires immediately, onopen is called before it is set.
/* 2710 */      setTimeout(function() {
/* 2711 */        WebSocket.__addTask(function() {
/* 2712 */          WebSocket.__flash.create(
/* 2713 */              self.__id, url, protocols, proxyHost || null, proxyPort || 0, headers || null);
/* 2714 */        });
/* 2715 */      }, 0);
/* 2716 */    };
/* 2717 */  
/* 2718 */    /**
   2719        * Send data to the web socket.
   2720        * @param {string} data  The data to send to the socket.
   2721        * @return {boolean}  True for success, false for failure.
   2722        */
/* 2723 */    WebSocket.prototype.send = function(data) {
/* 2724 */      if (this.readyState == WebSocket.CONNECTING) {
/* 2725 */        throw "INVALID_STATE_ERR: Web Socket connection has not been established";
/* 2726 */      }
/* 2727 */      // We use encodeURIComponent() here, because FABridge doesn't work if
/* 2728 */      // the argument includes some characters. We don't use escape() here
/* 2729 */      // because of this:
/* 2730 */      // https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Functions#escape_and_unescape_Functions
/* 2731 */      // But it looks decodeURIComponent(encodeURIComponent(s)) doesn't
/* 2732 */      // preserve all Unicode characters either e.g. "\uffff" in Firefox.
/* 2733 */      // Note by wtritch: Hopefully this will not be necessary using ExternalInterface.  Will require
/* 2734 */      // additional testing.
/* 2735 */      var result = WebSocket.__flash.send(this.__id, encodeURIComponent(data));
/* 2736 */      if (result < 0) { // success
/* 2737 */        return true;
/* 2738 */      } else {
/* 2739 */        this.bufferedAmount += result;
/* 2740 */        return false;
/* 2741 */      }
/* 2742 */    };
/* 2743 */  
/* 2744 */    /**
   2745        * Close this web socket gracefully.
   2746        */
/* 2747 */    WebSocket.prototype.close = function() {
/* 2748 */      if (this.readyState == WebSocket.CLOSED || this.readyState == WebSocket.CLOSING) {
/* 2749 */        return;
/* 2750 */      }
/* 2751 */      this.readyState = WebSocket.CLOSING;
/* 2752 */      WebSocket.__flash.close(this.__id);
/* 2753 */    };
/* 2754 */  
/* 2755 */    /**
   2756        * Implementation of {@link <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration">DOM 2 EventTarget Interface</a>}
   2757        *
   2758        * @param {string} type
   2759        * @param {function} listener
   2760        * @param {boolean} useCapture
   2761        * @return void
   2762        */
/* 2763 */    WebSocket.prototype.addEventListener = function(type, listener, useCapture) {
/* 2764 */      if (!(type in this.__events)) {
/* 2765 */        this.__events[type] = [];
/* 2766 */      }
/* 2767 */      this.__events[type].push(listener);
/* 2768 */    };
/* 2769 */  
/* 2770 */    /**
   2771        * Implementation of {@link <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration">DOM 2 EventTarget Interface</a>}
   2772        *
   2773        * @param {string} type
   2774        * @param {function} listener
   2775        * @param {boolean} useCapture
   2776        * @return void
   2777        */
/* 2778 */    WebSocket.prototype.removeEventListener = function(type, listener, useCapture) {
/* 2779 */      if (!(type in this.__events)) return;
/* 2780 */      var events = this.__events[type];
/* 2781 */      for (var i = events.length - 1; i >= 0; --i) {
/* 2782 */        if (events[i] === listener) {
/* 2783 */          events.splice(i, 1);
/* 2784 */          break;
/* 2785 */        }
/* 2786 */      }
/* 2787 */    };
/* 2788 */  
/* 2789 */    /**
   2790        * Implementation of {@link <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration">DOM 2 EventTarget Interface</a>}
   2791        *
   2792        * @param {Event} event
   2793        * @return void
   2794        */
/* 2795 */    WebSocket.prototype.dispatchEvent = function(event) {
/* 2796 */      var events = this.__events[event.type] || [];
/* 2797 */      for (var i = 0; i < events.length; ++i) {
/* 2798 */        events[i](event);
/* 2799 */      }
/* 2800 */      var handler = this["on" + event.type];
/* 2801 */      if (handler) handler(event);
/* 2802 */    };
/* 2803 */  
/* 2804 */    /**
   2805        * Handles an event from Flash.
   2806        * @param {Object} flashEvent
   2807        */
/* 2808 */    WebSocket.prototype.__handleEvent = function(flashEvent) {
/* 2809 */      if ("readyState" in flashEvent) {
/* 2810 */        this.readyState = flashEvent.readyState;
/* 2811 */      }
/* 2812 */      if ("protocol" in flashEvent) {
/* 2813 */        this.protocol = flashEvent.protocol;
/* 2814 */      }
/* 2815 */      
/* 2816 */      var jsEvent;
/* 2817 */      if (flashEvent.type == "open" || flashEvent.type == "error") {
/* 2818 */        jsEvent = this.__createSimpleEvent(flashEvent.type);
/* 2819 */      } else if (flashEvent.type == "close") {
/* 2820 */        // TODO implement jsEvent.wasClean
/* 2821 */        jsEvent = this.__createSimpleEvent("close");
/* 2822 */      } else if (flashEvent.type == "message") {
/* 2823 */        var data = decodeURIComponent(flashEvent.message);
/* 2824 */        jsEvent = this.__createMessageEvent("message", data);
/* 2825 */      } else {
/* 2826 */        throw "unknown event type: " + flashEvent.type;
/* 2827 */      }
/* 2828 */      
/* 2829 */      this.dispatchEvent(jsEvent);
/* 2830 */    };
/* 2831 */    
/* 2832 */    WebSocket.prototype.__createSimpleEvent = function(type) {
/* 2833 */      if (document.createEvent && window.Event) {
/* 2834 */        var event = document.createEvent("Event");
/* 2835 */        event.initEvent(type, false, false);
/* 2836 */        return event;
/* 2837 */      } else {
/* 2838 */        return {type: type, bubbles: false, cancelable: false};
/* 2839 */      }
/* 2840 */    };
/* 2841 */    
/* 2842 */    WebSocket.prototype.__createMessageEvent = function(type, data) {
/* 2843 */      if (document.createEvent && window.MessageEvent && !window.opera) {
/* 2844 */        var event = document.createEvent("MessageEvent");
/* 2845 */        event.initMessageEvent("message", false, false, data, null, null, window, null);
/* 2846 */        return event;
/* 2847 */      } else {
/* 2848 */        // IE and Opera, the latter one truncates the data parameter after any 0x00 bytes.
/* 2849 */        return {type: type, data: data, bubbles: false, cancelable: false};
/* 2850 */      }
/* 2851 */    };
/* 2852 */    
/* 2853 */    /**
   2854        * Define the WebSocket readyState enumeration.
   2855        */
/* 2856 */    WebSocket.CONNECTING = 0;
/* 2857 */    WebSocket.OPEN = 1;
/* 2858 */    WebSocket.CLOSING = 2;
/* 2859 */    WebSocket.CLOSED = 3;
/* 2860 */  
/* 2861 */    WebSocket.__flash = null;
/* 2862 */    WebSocket.__instances = {};
/* 2863 */    WebSocket.__tasks = [];
/* 2864 */    WebSocket.__nextId = 0;
/* 2865 */    
/* 2866 */    /**
   2867        * Load a new flash security policy file.
   2868        * @param {string} url
   2869        */
/* 2870 */    WebSocket.loadFlashPolicyFile = function(url){
/* 2871 */      WebSocket.__addTask(function() {
/* 2872 */        WebSocket.__flash.loadManualPolicyFile(url);
/* 2873 */      });
/* 2874 */    };
/* 2875 */  
/* 2876 */    /**
   2877        * Loads WebSocketMain.swf and creates WebSocketMain object in Flash.
   2878        */
/* 2879 */    WebSocket.__initialize = function() {
/* 2880 */      if (WebSocket.__flash) return;
/* 2881 */      
/* 2882 */      if (WebSocket.__swfLocation) {
/* 2883 */        // For backword compatibility.
/* 2884 */        window.WEB_SOCKET_SWF_LOCATION = WebSocket.__swfLocation;
/* 2885 */      }
/* 2886 */      if (!window.WEB_SOCKET_SWF_LOCATION) {
/* 2887 */        console.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");
/* 2888 */        return;
/* 2889 */      }
/* 2890 */      var container = document.createElement("div");
/* 2891 */      container.id = "webSocketContainer";
/* 2892 */      // Hides Flash box. We cannot use display: none or visibility: hidden because it prevents
/* 2893 */      // Flash from loading at least in IE. So we move it out of the screen at (-100, -100).
/* 2894 */      // But this even doesn't work with Flash Lite (e.g. in Droid Incredible). So with Flash
/* 2895 */      // Lite, we put it at (0, 0). This shows 1x1 box visible at left-top corner but this is
/* 2896 */      // the best we can do as far as we know now.
/* 2897 */      container.style.position = "absolute";
/* 2898 */      if (WebSocket.__isFlashLite()) {
/* 2899 */        container.style.left = "0px";
/* 2900 */        container.style.top = "0px";
/* 2901 */      } else {
/* 2902 */        container.style.left = "-100px";
/* 2903 */        container.style.top = "-100px";
/* 2904 */      }
/* 2905 */      var holder = document.createElement("div");
/* 2906 */      holder.id = "webSocketFlash";
/* 2907 */      container.appendChild(holder);
/* 2908 */      document.body.appendChild(container);
/* 2909 */      // See this article for hasPriority:
/* 2910 */      // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html
/* 2911 */      swfobject.embedSWF(
/* 2912 */        WEB_SOCKET_SWF_LOCATION,
/* 2913 */        "webSocketFlash",
/* 2914 */        "1" /* width */,
/* 2915 */        "1" /* height */,
/* 2916 */        "10.0.0" /* SWF version */,
/* 2917 */        null,
/* 2918 */        null,
/* 2919 */        {hasPriority: true, swliveconnect : true, allowScriptAccess: "always"},
/* 2920 */        null,
/* 2921 */        function(e) {
/* 2922 */          if (!e.success) {
/* 2923 */            console.error("[WebSocket] swfobject.embedSWF failed");
/* 2924 */          }
/* 2925 */        });
/* 2926 */    };
/* 2927 */    
/* 2928 */    /**
   2929        * Called by Flash to notify JS that it's fully loaded and ready
   2930        * for communication.
   2931        */
/* 2932 */    WebSocket.__onFlashInitialized = function() {
/* 2933 */      // We need to set a timeout here to avoid round-trip calls
/* 2934 */      // to flash during the initialization process.
/* 2935 */      setTimeout(function() {
/* 2936 */        WebSocket.__flash = document.getElementById("webSocketFlash");
/* 2937 */        WebSocket.__flash.setCallerUrl(location.href);
/* 2938 */        WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);
/* 2939 */        for (var i = 0; i < WebSocket.__tasks.length; ++i) {
/* 2940 */          WebSocket.__tasks[i]();
/* 2941 */        }
/* 2942 */        WebSocket.__tasks = [];
/* 2943 */      }, 0);
/* 2944 */    };
/* 2945 */    
/* 2946 */    /**
   2947        * Called by Flash to notify WebSockets events are fired.
   2948        */
/* 2949 */    WebSocket.__onFlashEvent = function() {
/* 2950 */      setTimeout(function() {
/* 2951 */        try {
/* 2952 */          // Gets events using receiveEvents() instead of getting it from event object
/* 2953 */          // of Flash event. This is to make sure to keep message order.
/* 2954 */          // It seems sometimes Flash events don't arrive in the same order as they are sent.
/* 2955 */          var events = WebSocket.__flash.receiveEvents();
/* 2956 */          for (var i = 0; i < events.length; ++i) {
/* 2957 */            WebSocket.__instances[events[i].webSocketId].__handleEvent(events[i]);
/* 2958 */          }
/* 2959 */        } catch (e) {
/* 2960 */          console.error(e);
/* 2961 */        }
/* 2962 */      }, 0);
/* 2963 */      return true;
/* 2964 */    };
/* 2965 */    
/* 2966 */    // Called by Flash.
/* 2967 */    WebSocket.__log = function(message) {
/* 2968 */      console.log(decodeURIComponent(message));
/* 2969 */    };
/* 2970 */    
/* 2971 */    // Called by Flash.
/* 2972 */    WebSocket.__error = function(message) {
/* 2973 */      console.error(decodeURIComponent(message));
/* 2974 */    };
/* 2975 */    
/* 2976 */    WebSocket.__addTask = function(task) {
/* 2977 */      if (WebSocket.__flash) {
/* 2978 */        task();
/* 2979 */      } else {
/* 2980 */        WebSocket.__tasks.push(task);
/* 2981 */      }
/* 2982 */    };
/* 2983 */    
/* 2984 */    /**
   2985        * Test if the browser is running flash lite.
   2986        * @return {boolean} True if flash lite is running, false otherwise.
   2987        */
/* 2988 */    WebSocket.__isFlashLite = function() {
/* 2989 */      if (!window.navigator || !window.navigator.mimeTypes) {
/* 2990 */        return false;
/* 2991 */      }
/* 2992 */      var mimeType = window.navigator.mimeTypes["application/x-shockwave-flash"];
/* 2993 */      if (!mimeType || !mimeType.enabledPlugin || !mimeType.enabledPlugin.filename) {
/* 2994 */        return false;
/* 2995 */      }
/* 2996 */      return mimeType.enabledPlugin.filename.match(/flashlite/i) ? true : false;
/* 2997 */    };
/* 2998 */    
/* 2999 */    if (!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION) {
/* 3000 */      if (window.addEventListener) {
/* 3001 */        window.addEventListener("load", function(){
/* 3002 */          WebSocket.__initialize();
/* 3003 */        }, false);
/* 3004 */      } else {
/* 3005 */        window.attachEvent("onload", function(){
/* 3006 */          WebSocket.__initialize();
/* 3007 */        });
/* 3008 */      }
/* 3009 */    }
/* 3010 */    
/* 3011 */  })();
/* 3012 */  
/* 3013 */  /**
   3014      * socket.io
   3015      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3016      * MIT Licensed
   3017      */
/* 3018 */  
/* 3019 */  (function (exports, io, global) {
/* 3020 */  
/* 3021 */    /**
   3022        * Expose constructor.
   3023        *
   3024        * @api public
   3025        */
/* 3026 */  
/* 3027 */    exports.XHR = XHR;
/* 3028 */  
/* 3029 */    /**
   3030        * XHR constructor
   3031        *
   3032        * @costructor
   3033        * @api public
   3034        */
/* 3035 */  
/* 3036 */    function XHR (socket) {
/* 3037 */      if (!socket) return;
/* 3038 */  
/* 3039 */      io.Transport.apply(this, arguments);
/* 3040 */      this.sendBuffer = [];
/* 3041 */    };
/* 3042 */  
/* 3043 */    /**
   3044        * Inherits from Transport.
   3045        */
/* 3046 */  
/* 3047 */    io.util.inherit(XHR, io.Transport);
/* 3048 */  
/* 3049 */    /**
   3050        * Establish a connection
   3051        *
   3052        * @returns {Transport}
   3053        * @api public
   3054        */
/* 3055 */  
/* 3056 */    XHR.prototype.open = function () {
/* 3057 */      this.socket.setBuffer(false);
/* 3058 */      this.onOpen();
/* 3059 */      this.get();
/* 3060 */  
/* 3061 */      // we need to make sure the request succeeds since we have no indication
/* 3062 */      // whether the request opened or not until it succeeded.
/* 3063 */      this.setCloseTimeout();
/* 3064 */  
/* 3065 */      return this;
/* 3066 */    };
/* 3067 */  
/* 3068 */    /**
   3069        * Check if we need to send data to the Socket.IO server, if we have data in our
   3070        * buffer we encode it and forward it to the `post` method.
   3071        *
   3072        * @api private
   3073        */
/* 3074 */  
/* 3075 */    XHR.prototype.payload = function (payload) {
/* 3076 */      var msgs = [];
/* 3077 */  
/* 3078 */      for (var i = 0, l = payload.length; i < l; i++) {
/* 3079 */        msgs.push(io.parser.encodePacket(payload[i]));
/* 3080 */      }
/* 3081 */  
/* 3082 */      this.send(io.parser.encodePayload(msgs));
/* 3083 */    };
/* 3084 */  
/* 3085 */    /**
   3086        * Send data to the Socket.IO server.
   3087        *
   3088        * @param data The message
   3089        * @returns {Transport}
   3090        * @api public
   3091        */
/* 3092 */  
/* 3093 */    XHR.prototype.send = function (data) {
/* 3094 */      this.post(data);
/* 3095 */      return this;
/* 3096 */    };
/* 3097 */  
/* 3098 */    /**
   3099        * Posts a encoded message to the Socket.IO server.
   3100        *
   3101        * @param {String} data A encoded message.
   3102        * @api private
   3103        */
/* 3104 */  
/* 3105 */    function empty () { };
/* 3106 */  
/* 3107 */    XHR.prototype.post = function (data) {
/* 3108 */      var self = this;
/* 3109 */      this.socket.setBuffer(true);
/* 3110 */  
/* 3111 */      function stateChange () {
/* 3112 */        if (this.readyState == 4) {
/* 3113 */          this.onreadystatechange = empty;
/* 3114 */          self.posting = false;
/* 3115 */  
/* 3116 */          if (this.status == 200){
/* 3117 */            self.socket.setBuffer(false);
/* 3118 */          } else {
/* 3119 */            self.onClose();
/* 3120 */          }
/* 3121 */        }
/* 3122 */      }
/* 3123 */  
/* 3124 */      function onload () {
/* 3125 */        this.onload = empty;
/* 3126 */        self.socket.setBuffer(false);
/* 3127 */      };
/* 3128 */  
/* 3129 */      this.sendXHR = this.request('POST');
/* 3130 */  
/* 3131 */      if (global.XDomainRequest && this.sendXHR instanceof XDomainRequest) {
/* 3132 */        this.sendXHR.onload = this.sendXHR.onerror = onload;
/* 3133 */      } else {
/* 3134 */        this.sendXHR.onreadystatechange = stateChange;
/* 3135 */      }
/* 3136 */  
/* 3137 */      this.sendXHR.send(data);
/* 3138 */    };
/* 3139 */  
/* 3140 */    /**
   3141        * Disconnects the established `XHR` connection.
   3142        *
   3143        * @returns {Transport}
   3144        * @api public
   3145        */
/* 3146 */  
/* 3147 */    XHR.prototype.close = function () {
/* 3148 */      this.onClose();
/* 3149 */      return this;
/* 3150 */    };
/* 3151 */  
/* 3152 */    /**
   3153        * Generates a configured XHR request
   3154        *
   3155        * @param {String} url The url that needs to be requested.
   3156        * @param {String} method The method the request should use.
   3157        * @returns {XMLHttpRequest}
   3158        * @api private
   3159        */
/* 3160 */  
/* 3161 */    XHR.prototype.request = function (method) {
/* 3162 */      var req = io.util.request(this.socket.isXDomain())
/* 3163 */        , query = io.util.query(this.socket.options.query, 't=' + +new Date);
/* 3164 */  
/* 3165 */      req.open(method || 'GET', this.prepareUrl() + query, true);
/* 3166 */  
/* 3167 */      if (method == 'POST') {
/* 3168 */        try {
/* 3169 */          if (req.setRequestHeader) {
/* 3170 */            req.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');
/* 3171 */          } else {
/* 3172 */            // XDomainRequest
/* 3173 */            req.contentType = 'text/plain';
/* 3174 */          }
/* 3175 */        } catch (e) {}
/* 3176 */      }
/* 3177 */  
/* 3178 */      return req;
/* 3179 */    };
/* 3180 */  
/* 3181 */    /**
   3182        * Returns the scheme to use for the transport URLs.
   3183        *
   3184        * @api private
   3185        */
/* 3186 */  
/* 3187 */    XHR.prototype.scheme = function () {
/* 3188 */      return this.socket.options.secure ? 'https' : 'http';
/* 3189 */    };
/* 3190 */  
/* 3191 */    /**
   3192        * Check if the XHR transports are supported
   3193        *
   3194        * @param {Boolean} xdomain Check if we support cross domain requests.
   3195        * @returns {Boolean}
   3196        * @api public
   3197        */
/* 3198 */  
/* 3199 */    XHR.check = function (socket, xdomain) {
/* 3200 */      try {
/* 3201 */        var request = io.util.request(xdomain),
/* 3202 */            usesXDomReq = (global.XDomainRequest && request instanceof XDomainRequest),
/* 3203 */            socketProtocol = (socket && socket.options && socket.options.secure ? 'https:' : 'http:'),
/* 3204 */            isXProtocol = (socketProtocol != global.location.protocol);
/* 3205 */        if (request && !(usesXDomReq && isXProtocol)) {
/* 3206 */          return true;
/* 3207 */        }
/* 3208 */      } catch(e) {}
/* 3209 */  
/* 3210 */      return false;
/* 3211 */    };
/* 3212 */  
/* 3213 */    /**
   3214        * Check if the XHR transport supports cross domain requests.
   3215        *
   3216        * @returns {Boolean}
   3217        * @api public
   3218        */
/* 3219 */  
/* 3220 */    XHR.xdomainCheck = function () {
/* 3221 */      return XHR.check(null, true);
/* 3222 */    };
/* 3223 */  
/* 3224 */  })(
/* 3225 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3226 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3227 */    , this
/* 3228 */  );
/* 3229 */  /**
   3230      * socket.io
   3231      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3232      * MIT Licensed
   3233      */
/* 3234 */  
/* 3235 */  (function (exports, io) {
/* 3236 */  
/* 3237 */    /**
   3238        * Expose constructor.
   3239        */
/* 3240 */  
/* 3241 */    exports.htmlfile = HTMLFile;
/* 3242 */  
/* 3243 */    /**
   3244        * The HTMLFile transport creates a `forever iframe` based transport
   3245        * for Internet Explorer. Regular forever iframe implementations will 
   3246        * continuously trigger the browsers buzy indicators. If the forever iframe
   3247        * is created inside a `htmlfile` these indicators will not be trigged.
   3248        *
   3249        * @constructor
   3250        * @extends {io.Transport.XHR}
   3251        * @api public
   3252        */
/* 3253 */  
/* 3254 */    function HTMLFile (socket) {
/* 3255 */      io.Transport.XHR.apply(this, arguments);
/* 3256 */    };
/* 3257 */  
/* 3258 */    /**
   3259        * Inherits from XHR transport.
   3260        */
/* 3261 */  
/* 3262 */    io.util.inherit(HTMLFile, io.Transport.XHR);
/* 3263 */  
/* 3264 */    /**
   3265        * Transport name
   3266        *
   3267        * @api public
   3268        */
/* 3269 */  
/* 3270 */    HTMLFile.prototype.name = 'htmlfile';
/* 3271 */  
/* 3272 */    /**
   3273        * Creates a new Ac...eX `htmlfile` with a forever loading iframe
   3274        * that can be used to listen to messages. Inside the generated
   3275        * `htmlfile` a reference will be made to the HTMLFile transport.
   3276        *
   3277        * @api private
   3278        */
/* 3279 */  
/* 3280 */    HTMLFile.prototype.get = function () {
/* 3281 */      this.doc = new window[(['Active'].concat('Object').join('X'))]('htmlfile');
/* 3282 */      this.doc.open();
/* 3283 */      this.doc.write('<html></html>');
/* 3284 */      this.doc.close();
/* 3285 */      this.doc.parentWindow.s = this;
/* 3286 */  
/* 3287 */      var iframeC = this.doc.createElement('div');
/* 3288 */      iframeC.className = 'socketio';
/* 3289 */  
/* 3290 */      this.doc.body.appendChild(iframeC);
/* 3291 */      this.iframe = this.doc.createElement('iframe');
/* 3292 */  
/* 3293 */      iframeC.appendChild(this.iframe);
/* 3294 */  
/* 3295 */      var self = this
/* 3296 */        , query = io.util.query(this.socket.options.query, 't='+ +new Date);
/* 3297 */  
/* 3298 */      this.iframe.src = this.prepareUrl() + query;
/* 3299 */  
/* 3300 */      io.util.on(window, 'unload', function () {
/* 3301 */        self.destroy();
/* 3302 */      });
/* 3303 */    };
/* 3304 */  
/* 3305 */    /**
   3306        * The Socket.IO server will write script tags inside the forever
   3307        * iframe, this function will be used as callback for the incoming
   3308        * information.
   3309        *
   3310        * @param {String} data The message
   3311        * @param {document} doc Reference to the context
   3312        * @api private
   3313        */
/* 3314 */  
/* 3315 */    HTMLFile.prototype._ = function (data, doc) {
/* 3316 */      this.onData(data);
/* 3317 */      try {
/* 3318 */        var script = doc.getElementsByTagName('script')[0];
/* 3319 */        script.parentNode.removeChild(script);
/* 3320 */      } catch (e) { }
/* 3321 */    };
/* 3322 */  
/* 3323 */    /**
   3324        * Destroy the established connection, iframe and `htmlfile`.
   3325        * And calls the `CollectGarbage` function of Internet Explorer
   3326        * to release the memory.
   3327        *
   3328        * @api private
   3329        */
/* 3330 */  
/* 3331 */    HTMLFile.prototype.destroy = function () {
/* 3332 */      if (this.iframe){
/* 3333 */        try {
/* 3334 */          this.iframe.src = 'about:blank';
/* 3335 */        } catch(e){}
/* 3336 */  
/* 3337 */        this.doc = null;
/* 3338 */        this.iframe.parentNode.removeChild(this.iframe);
/* 3339 */        this.iframe = null;
/* 3340 */  
/* 3341 */        CollectGarbage();
/* 3342 */      }
/* 3343 */    };
/* 3344 */  
/* 3345 */    /**
   3346        * Disconnects the established connection.
   3347        *
   3348        * @returns {Transport} Chaining.
   3349        * @api public
   3350        */
/* 3351 */  
/* 3352 */    HTMLFile.prototype.close = function () {
/* 3353 */      this.destroy();
/* 3354 */      return io.Transport.XHR.prototype.close.call(this);
/* 3355 */    };
/* 3356 */  
/* 3357 */    /**
   3358        * Checks if the browser supports this transport. The browser
   3359        * must have an `Ac...eXObject` implementation.
   3360        *
   3361        * @return {Boolean}
   3362        * @api public
   3363        */
/* 3364 */  
/* 3365 */    HTMLFile.check = function () {
/* 3366 */      if (typeof window != "undefined" && (['Active'].concat('Object').join('X')) in window){
/* 3367 */        try {
/* 3368 */          var a = new window[(['Active'].concat('Object').join('X'))]('htmlfile');
/* 3369 */          return a && io.Transport.XHR.check();
/* 3370 */        } catch(e){}
/* 3371 */      }
/* 3372 */      return false;
/* 3373 */    };
/* 3374 */  
/* 3375 */    /**
   3376        * Check if cross domain requests are supported.
   3377        *
   3378        * @returns {Boolean}
   3379        * @api public
   3380        */
/* 3381 */  
/* 3382 */    HTMLFile.xdomainCheck = function () {
/* 3383 */      // we can probably do handling for sub-domains, we should
/* 3384 */      // test that it's cross domain but a subdomain here
/* 3385 */      return false;
/* 3386 */    };
/* 3387 */  
/* 3388 */    /**
   3389        * Add the transport to your public io.transports array.
   3390        *
   3391        * @api private
   3392        */
/* 3393 */  
/* 3394 */    io.transports.push('htmlfile');
/* 3395 */  
/* 3396 */  })(
/* 3397 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3398 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3399 */  );
/* 3400 */  
/* 3401 */  /**
   3402      * socket.io
   3403      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3404      * MIT Licensed
   3405      */
/* 3406 */  
/* 3407 */  (function (exports, io, global) {
/* 3408 */  
/* 3409 */    /**
   3410        * Expose constructor.
   3411        */
/* 3412 */  
/* 3413 */    exports['xhr-polling'] = XHRPolling;
/* 3414 */  
/* 3415 */    /**
   3416        * The XHR-polling transport uses long polling XHR requests to create a
   3417        * "persistent" connection with the server.
   3418        *
   3419        * @constructor
   3420        * @api public
   3421        */
/* 3422 */  
/* 3423 */    function XHRPolling () {
/* 3424 */      io.Transport.XHR.apply(this, arguments);
/* 3425 */    };
/* 3426 */  
/* 3427 */    /**
   3428        * Inherits from XHR transport.
   3429        */
/* 3430 */  
/* 3431 */    io.util.inherit(XHRPolling, io.Transport.XHR);
/* 3432 */  
/* 3433 */    /**
   3434        * Merge the properties from XHR transport
   3435        */
/* 3436 */  
/* 3437 */    io.util.merge(XHRPolling, io.Transport.XHR);
/* 3438 */  
/* 3439 */    /**
   3440        * Transport name
   3441        *
   3442        * @api public
   3443        */
/* 3444 */  
/* 3445 */    XHRPolling.prototype.name = 'xhr-polling';
/* 3446 */  
/* 3447 */    /** 
   3448        * Establish a connection, for iPhone and Android this will be done once the page
   3449        * is loaded.
   3450        *
   3451        * @returns {Transport} Chaining.
   3452        * @api public
   3453        */
/* 3454 */  
/* 3455 */    XHRPolling.prototype.open = function () {
/* 3456 */      var self = this;
/* 3457 */  
/* 3458 */      io.Transport.XHR.prototype.open.call(self);
/* 3459 */      return false;
/* 3460 */    };
/* 3461 */  
/* 3462 */    /**
   3463        * Starts a XHR request to wait for incoming messages.
   3464        *
   3465        * @api private
   3466        */
/* 3467 */  
/* 3468 */    function empty () {};
/* 3469 */  
/* 3470 */    XHRPolling.prototype.get = function () {
/* 3471 */      if (!this.open) return;
/* 3472 */  
/* 3473 */      var self = this;
/* 3474 */  
/* 3475 */      function stateChange () {
/* 3476 */        if (this.readyState == 4) {
/* 3477 */          this.onreadystatechange = empty;
/* 3478 */  
/* 3479 */          if (this.status == 200) {
/* 3480 */            self.onData(this.responseText);
/* 3481 */            self.get();
/* 3482 */          } else {
/* 3483 */            self.onClose();
/* 3484 */          }
/* 3485 */        }
/* 3486 */      };
/* 3487 */  
/* 3488 */      function onload () {
/* 3489 */        this.onload = empty;
/* 3490 */        this.onerror = empty;
/* 3491 */        self.onData(this.responseText);
/* 3492 */        self.get();
/* 3493 */      };
/* 3494 */  
/* 3495 */      function onerror () {
/* 3496 */        self.onClose();
/* 3497 */      };
/* 3498 */  
/* 3499 */      this.xhr = this.request();
/* 3500 */  
/* 3501 */      if (global.XDomainRequest && this.xhr instanceof XDomainRequest) {
/* 3502 */        this.xhr.onload = onload;
/* 3503 */        this.xhr.onerror = onerror;
/* 3504 */      } else {
/* 3505 */        this.xhr.onreadystatechange = stateChange;
/* 3506 */      }
/* 3507 */  
/* 3508 */      this.xhr.send(null);
/* 3509 */    };
/* 3510 */  
/* 3511 */    /**
   3512        * Handle the unclean close behavior.
   3513        *
   3514        * @api private
   3515        */
/* 3516 */  
/* 3517 */    XHRPolling.prototype.onClose = function () {
/* 3518 */      io.Transport.XHR.prototype.onClose.call(this);
/* 3519 */  
/* 3520 */      if (this.xhr) {
/* 3521 */        this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = empty;
/* 3522 */        try {
/* 3523 */          this.xhr.abort();
/* 3524 */        } catch(e){}
/* 3525 */        this.xhr = null;
/* 3526 */      }
/* 3527 */    };
/* 3528 */  
/* 3529 */    /**
   3530        * Webkit based browsers show a infinit spinner when you start a XHR request
   3531        * before the browsers onload event is called so we need to defer opening of
   3532        * the transport until the onload event is called. Wrapping the cb in our
   3533        * defer method solve this.
   3534        *
   3535        * @param {Socket} socket The socket instance that needs a transport
   3536        * @param {Function} fn The callback
   3537        * @api private
   3538        */
/* 3539 */  
/* 3540 */    XHRPolling.prototype.ready = function (socket, fn) {
/* 3541 */      var self = this;
/* 3542 */  
/* 3543 */      io.util.defer(function () {
/* 3544 */        fn.call(self);
/* 3545 */      });
/* 3546 */    };
/* 3547 */  
/* 3548 */    /**
   3549        * Add the transport to your public io.transports array.
   3550        *
   3551        * @api private
   3552        */
/* 3553 */  
/* 3554 */    io.transports.push('xhr-polling');
/* 3555 */  
/* 3556 */  })(
/* 3557 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3558 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3559 */    , this
/* 3560 */  );
/* 3561 */  
/* 3562 */  /**
   3563      * socket.io
   3564      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3565      * MIT Licensed
   3566      */
/* 3567 */  
/* 3568 */  (function (exports, io, global) {
/* 3569 */    /**
   3570        * There is a way to hide the loading indicator in Firefox. If you create and
   3571        * remove a iframe it will stop showing the current loading indicator.
   3572        * Unfortunately we can't feature detect that and UA sniffing is evil.
   3573        *
   3574        * @api private
   3575        */
/* 3576 */  
/* 3577 */    var indicator = global.document && "MozAppearance" in
/* 3578 */      global.document.documentElement.style;
/* 3579 */  
/* 3580 */    /**
   3581        * Expose constructor.
   3582        */
/* 3583 */  
/* 3584 */    exports['jsonp-polling'] = JSONPPolling;
/* 3585 */  
/* 3586 */    /**
   3587        * The JSONP transport creates an persistent connection by dynamically
   3588        * inserting a script tag in the page. This script tag will receive the
   3589        * information of the Socket.IO server. When new information is received
   3590        * it creates a new script tag for the new data stream.
   3591        *
   3592        * @constructor
   3593        * @extends {io.Transport.xhr-polling}
   3594        * @api public
   3595        */
/* 3596 */  
/* 3597 */    function JSONPPolling (socket) {
/* 3598 */      io.Transport['xhr-polling'].apply(this, arguments);
/* 3599 */  
/* 3600 */      this.index = io.j.length;
/* 3601 */  
/* 3602 */      var self = this;
/* 3603 */  
/* 3604 */      io.j.push(function (msg) {
/* 3605 */        self._(msg);
/* 3606 */      });
/* 3607 */    };
/* 3608 */  
/* 3609 */    /**
   3610        * Inherits from XHR polling transport.
   3611        */
/* 3612 */  
/* 3613 */    io.util.inherit(JSONPPolling, io.Transport['xhr-polling']);
/* 3614 */  
/* 3615 */    /**
   3616        * Transport name
   3617        *
   3618        * @api public
   3619        */
/* 3620 */  
/* 3621 */    JSONPPolling.prototype.name = 'jsonp-polling';
/* 3622 */  
/* 3623 */    /**
   3624        * Posts a encoded message to the Socket.IO server using an iframe.
   3625        * The iframe is used because script tags can create POST based requests.
   3626        * The iframe is positioned outside of the view so the user does not
   3627        * notice it's existence.
   3628        *
   3629        * @param {String} data A encoded message.
   3630        * @api private
   3631        */
/* 3632 */  
/* 3633 */    JSONPPolling.prototype.post = function (data) {
/* 3634 */      var self = this
/* 3635 */        , query = io.util.query(
/* 3636 */               this.socket.options.query
/* 3637 */            , 't='+ (+new Date) + '&i=' + this.index
/* 3638 */          );
/* 3639 */  
/* 3640 */      if (!this.form) {
/* 3641 */        var form = document.createElement('form')
/* 3642 */          , area = document.createElement('textarea')
/* 3643 */          , id = this.iframeId = 'socketio_iframe_' + this.index
/* 3644 */          , iframe;
/* 3645 */  
/* 3646 */        form.className = 'socketio';
/* 3647 */        form.style.position = 'absolute';
/* 3648 */        form.style.top = '0px';
/* 3649 */        form.style.left = '0px';
/* 3650 */        form.style.display = 'none';
/* 3651 */        form.target = id;
/* 3652 */        form.method = 'POST';
/* 3653 */        form.setAttribute('accept-charset', 'utf-8');
/* 3654 */        area.name = 'd';
/* 3655 */        form.appendChild(area);
/* 3656 */        document.body.appendChild(form);
/* 3657 */  
/* 3658 */        this.form = form;
/* 3659 */        this.area = area;
/* 3660 */      }
/* 3661 */  
/* 3662 */      this.form.action = this.prepareUrl() + query;
/* 3663 */  
/* 3664 */      function complete () {
/* 3665 */        initIframe();
/* 3666 */        self.socket.setBuffer(false);
/* 3667 */      };
/* 3668 */  
/* 3669 */      function initIframe () {
/* 3670 */        if (self.iframe) {
/* 3671 */          self.form.removeChild(self.iframe);
/* 3672 */        }
/* 3673 */  
/* 3674 */        try {
/* 3675 */          // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
/* 3676 */          iframe = document.createElement('<iframe name="'+ self.iframeId +'">');
/* 3677 */        } catch (e) {
/* 3678 */          iframe = document.createElement('iframe');
/* 3679 */          iframe.name = self.iframeId;
/* 3680 */        }
/* 3681 */  
/* 3682 */        iframe.id = self.iframeId;
/* 3683 */  
/* 3684 */        self.form.appendChild(iframe);
/* 3685 */        self.iframe = iframe;
/* 3686 */      };
/* 3687 */  
/* 3688 */      initIframe();
/* 3689 */  
/* 3690 */      // we temporarily stringify until we figure out how to prevent
/* 3691 */      // browsers from turning `\n` into `\r\n` in form inputs
/* 3692 */      this.area.value = io.JSON.stringify(data);
/* 3693 */  
/* 3694 */      try {
/* 3695 */        this.form.submit();
/* 3696 */      } catch(e) {}
/* 3697 */  
/* 3698 */      if (this.iframe.attachEvent) {
/* 3699 */        iframe.onreadystatechange = function () {
/* 3700 */          if (self.iframe.readyState == 'complete') {
/* 3701 */            complete();
/* 3702 */          }
/* 3703 */        };
/* 3704 */      } else {
/* 3705 */        this.iframe.onload = complete;
/* 3706 */      }
/* 3707 */  
/* 3708 */      this.socket.setBuffer(true);
/* 3709 */    };
/* 3710 */    
/* 3711 */    /**
   3712        * Creates a new JSONP poll that can be used to listen
   3713        * for messages from the Socket.IO server.
   3714        *
   3715        * @api private
   3716        */
/* 3717 */  
/* 3718 */    JSONPPolling.prototype.get = function () {
/* 3719 */      var self = this
/* 3720 */        , script = document.createElement('script')
/* 3721 */        , query = io.util.query(
/* 3722 */               this.socket.options.query
/* 3723 */            , 't='+ (+new Date) + '&i=' + this.index
/* 3724 */          );
/* 3725 */  
/* 3726 */      if (this.script) {
/* 3727 */        this.script.parentNode.removeChild(this.script);
/* 3728 */        this.script = null;
/* 3729 */      }
/* 3730 */  
/* 3731 */      script.async = true;
/* 3732 */      script.src = this.prepareUrl() + query;
/* 3733 */      script.onerror = function () {
/* 3734 */        self.onClose();
/* 3735 */      };
/* 3736 */  
/* 3737 */      var insertAt = document.getElementsByTagName('script')[0]
/* 3738 */      insertAt.parentNode.insertBefore(script, insertAt);
/* 3739 */      this.script = script;
/* 3740 */  
/* 3741 */      if (indicator) {
/* 3742 */        setTimeout(function () {
/* 3743 */          var iframe = document.createElement('iframe');
/* 3744 */          document.body.appendChild(iframe);
/* 3745 */          document.body.removeChild(iframe);
/* 3746 */        }, 100);
/* 3747 */      }
/* 3748 */    };
/* 3749 */  
/* 3750 */    /**
   3751        * Callback function for the incoming message stream from the Socket.IO server.
   3752        *
   3753        * @param {String} data The message
   3754        * @api private
   3755        */
/* 3756 */  
/* 3757 */    JSONPPolling.prototype._ = function (msg) {
/* 3758 */      this.onData(msg);
/* 3759 */      if (this.open) {
/* 3760 */        this.get();
/* 3761 */      }
/* 3762 */      return this;
/* 3763 */    };
/* 3764 */  
/* 3765 */    /**
   3766        * The indicator hack only works after onload
   3767        *
   3768        * @param {Socket} socket The socket instance that needs a transport
   3769        * @param {Function} fn The callback
   3770        * @api private
   3771        */
/* 3772 */  
/* 3773 */    JSONPPolling.prototype.ready = function (socket, fn) {
/* 3774 */      var self = this;
/* 3775 */      if (!indicator) return fn.call(this);
/* 3776 */  
/* 3777 */      io.util.load(function () {
/* 3778 */        fn.call(self);
/* 3779 */      });
/* 3780 */    };
/* 3781 */  
/* 3782 */    /**
   3783        * Checks if browser supports this transport.
   3784        *
   3785        * @return {Boolean}
   3786        * @api public
   3787        */
/* 3788 */  
/* 3789 */    JSONPPolling.check = function () {
/* 3790 */      return 'document' in global;
/* 3791 */    };
/* 3792 */  
/* 3793 */    /**
   3794        * Check if cross domain requests are supported
   3795        *
   3796        * @returns {Boolean}
   3797        * @api public
   3798        */
/* 3799 */  
/* 3800 */    JSONPPolling.xdomainCheck = function () {
/* 3801 */      return true;
/* 3802 */    };
/* 3803 */  
/* 3804 */    /**
   3805        * Add the transport to your public io.transports array.
   3806        *
   3807        * @api private
   3808        */
/* 3809 */  
/* 3810 */    io.transports.push('jsonp-polling');
/* 3811 */  
/* 3812 */  })(
/* 3813 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3814 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3815 */    , this
/* 3816 */  );
/* 3817 */  
/* 3818 */  })();

/**
 * js/vendor/jquery-1.7.2.min.js
 */

/*    1 */  /*! jQuery v1.7.2 jquery.com | jquery.org/license */
/*    2 */  (function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close();d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&f.type(b)==="object")for(var e in b)b_(a+"["+e+"]",b[e],c,d);else d(a,b)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border")for(;e<g;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}d=by(a,b);if(d<0||d==null)d=a.style[b];if(bt.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<g;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o;j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div>"+"<table "+n+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++)h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d)return f.queue(this[0],a);return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(
/*    3 */  a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f
/*    4 */  .clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!_.test(l))l=b.createTextNode(l);else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}var u;if(!f.support.appendChecked)if(l[0]&&typeof (u=l.length)=="number")for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return!a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=bZ(bT,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ct("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed")break;d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;if(!d)return null;if(c===d.body)return f.offset.bodyOffset(c);return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e])return i[d];return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);

/**
 * js/libs/jquery.tweenlite.js
 */

/*    1 */  /*!
      2      * TweenLite jQuery plugin v0.0.1
      3      *
      4      * Copyright (c) 2011 Kilian Ciuffolo, me@nailik.org
      5      *
      6      * Licensed under the MIT license.
      7      * Permission is hereby granted, free of charge, to any person
      8      * obtaining a copy of this software and associated documentation
      9      * files (the "Software"), to deal in the Software without
     10      * restriction, including without limitation the rights to use,
     11      * copy, modify, merge, publish, distribute, sublicense, and/or sell
     12      * copies of the Software, and to permit persons to whom the
     13      * Software is furnished to do so, subject to the following
     14      * conditions:
     15      *
     16      * The above copyright notice and this permission notice shall be
     17      * included in all copies or substantial portions of the Software.
     18      *
     19      * Date: Wed Jul 4 16:00:34 2012 -0700
     20      */
/*   21 */  
/*   22 */  /*global TweenLite*/
/*   23 */  
/*   24 */  ;(function () {
/*   25 */    "use strict";
/*   26 */  
/*   27 */    ['to', 'from', 'fromTo', 'set'].forEach(function (methodName) {
/*   28 */      $.fn[methodName] = function (css, time, options, callback) {
/*   29 */        if (typeof options === 'function') {
/*   30 */          callback = options
/*   31 */          options = {}
/*   32 */        }
/*   33 */  
/*   34 */        options = options || {}
/*   35 */        options.css = css
/*   36 */        options.onComplete = options.onComplete || callback
/*   37 */  
/*   38 */        TweenLite[methodName](this[0], time, options)
/*   39 */        return this
/*   40 */      }
/*   41 */    })
/*   42 */  })()

/**
 * js/main.js
 */

/*    1 */  /*global io loadTemplate async*/
/*    2 */  $().ready(function () {
/*    3 */    "use strict";
/*    4 */  
/*    5 */    window.document.title = 'motherlover™'
/*    6 */  
/*    7 */    var elements = {}
/*    8 */    var layersById = {}
/*    9 */    var layersArray = []
/*   10 */    var selectedLayer = null
/*   11 */    var socket = io.connect()
/*   12 */    var canvasElement = $('#canvas')
/*   13 */  
/*   14 */    socket.on('currentDocumentChanged', function (data) {
/*   15 */      window.document.title = 'motherlover™ / ' + data.split('/').pop()
/*   16 */      document.location.hash = data
/*   17 */    })
/*   18 */  
/*   19 */    socket.on('toolChanged', function (data) {})
/*   20 */    socket.on('fontList', function (fontList) {})
/*   21 */  
/*   22 */    socket.on('layers', function (layers) {
/*   23 */      purgeLayers(layers)
/*   24 */      layersArray = layers
/*   25 */      layers.forEach(function updateDOM(layer) {
/*   26 */        var element = updateLayerElement(elements[layer.id], layer)
/*   27 */        if (!element.parent().length) {
/*   28 */          elements[layer.id] = element.appendTo(canvasElement)
/*   29 */        }
/*   30 */        layersById[layer.id] = layer
/*   31 */      })
/*   32 */    })
/*   33 */  
/*   34 */    socket.on('layerPngReady', function (layerId) {
/*   35 */      elements[layerId].css({
/*   36 */        backgroundColor: 'transparent',
/*   37 */        backgroundImage: 'url("images/layers/' + layersById[layerId].name + '")'
/*   38 */      })
/*   39 */    })
/*   40 */  
/*   41 */    socket.emit('ready')
/*   42 */  
/*   43 */    function purgeLayers(newLayerSet) {
/*   44 */      var ids = newLayerSet.map(function (layer) { return layer.id })
/*   45 */  
/*   46 */      layersArray.forEach(function (layer) {
/*   47 */        var layerId = layer.id
/*   48 */  
/*   49 */        if (ids.indexOf(layerId) === -1 || isFormatChanged(layer)) {
/*   50 */          elements[layerId].remove()
/*   51 */          ;delete elements[layerId]
/*   52 */        }
/*   53 */      })
/*   54 */    }
/*   55 */  
/*   56 */    function isFormatChanged(layer) {
/*   57 */      var element = elements[layer.id]
/*   58 */      var className = layer.kind.replace('LayerKind.', '').toLowerCase()
/*   59 */      return (element !== undefined && !element.hasClass(className))
/*   60 */    }
/*   61 */  
/*   62 */    function updateLayerElement(element, layer) {
/*   63 */      var styles = {
/*   64 */        left: layer.bounds[0] + 'px',
/*   65 */        top: layer.bounds[1] + 'px',
/*   66 */        width: (layer.bounds[2] - layer.bounds[0])  + 'px',
/*   67 */        height: (layer.bounds[3] - layer.bounds[1])  + 'px',
/*   68 */        display: layer.isVisible ? 'block' : 'none',
/*   69 */        zIndex: layer.index,
/*   70 */        opacity: layer.opacity
/*   71 */      }
/*   72 */  
/*   73 */      switch (layer.kind) {
/*   74 */        case 'LayerKind.TEXT':
/*   75 */          styles.width = (parseInt(styles.width, 10) + 10) + 'px'
/*   76 */          element = element || $('<div id="ml-' + layer.id + '" class="text"></div>')
/*   77 */          element.empty().append(createParagraphs(layer))
/*   78 */          element.css(styles)
/*   79 */          break
/*   80 */        case 'LayerKind.SOLIDFILL':
/*   81 */          styles.backgroundColor = layer.fillColor
/*   82 */          element = element || $('<div id="ml-' + layer.id + '" class="solidfill"></div>')
/*   83 */          element.css(styles)
/*   84 */          break
/*   85 */        case 'LayerKind.NORMAL':
/*   86 */          styles.opacity = 1
/*   87 */          styles.backgroundColor = 'transparent'
/*   88 */          styles.backgroundImage = 'url("images/layers/' + layer.name + '")'
/*   89 */          element = element || $('<div id="ml-' + layer.id + '" class="normal"></div>')
/*   90 */          element.css(styles)
/*   91 */          break
/*   92 */      }
/*   93 */  
/*   94 */      return element
/*   95 */    }
/*   96 */  
/*   97 */    function createParagraphs(layer) {
/*   98 */      var textStyles = layer.textStyles.slice(0)
/*   99 */      var textContent = layer.textContent
/*  100 */      var paragraphs = layer.paragraphStyles.map(function (paragraphStyle) {
/*  101 */        var spans = createSpansForParagraphs(textStyles, paragraphStyle.from, paragraphStyle.to, textContent)
/*  102 */        var p = $('<p>').css({
/*  103 */          textAlign: paragraphStyle.align,
/*  104 */          webkitHyphens: 'auto'
/*  105 */        }).append(spans)
/*  106 */  
/*  107 */        return p[0]
/*  108 */      })
/*  109 */  
/*  110 */      return paragraphs
/*  111 */    }
/*  112 */  
/*  113 */    function createSpansForParagraphs(textStyles, from, to, textContent) {
/*  114 */      var textStyle, spanText, css, spans = []
/*  115 */      var stylesRanges = []
/*  116 */  
/*  117 */      for (var i = 0, l = textStyles.length; i < l; i++) {
/*  118 */        textStyle = textStyles[i]
/*  119 */  
/*  120 */        // hack related to https://github.com/kilianc/motherlover/issues/33
/*  121 */        if (stylesRanges.indexOf(textStyle.from + ':' + textStyle.to) !== -1) continue
/*  122 */        stylesRanges.push(textStyle.from + ':' + textStyle.to)
/*  123 */  
/*  124 */        if (textStyle.to < from) continue
/*  125 */        if (textStyle.from > to) break
/*  126 */  
/*  127 */        spanText = textContent.substring(Math.max(textStyle.from, from), Math.min(textStyle.to, to)).replace('\n', '<br>')
/*  128 */  
/*  129 */        css = {
/*  130 */          font: textStyle.size + 'px "' + textStyle.fontPostScriptName + '"',
/*  131 */          color: textStyle.color
/*  132 */        }
/*  133 */  
/*  134 */        if (textStyle.underline === 'underlineOnLeftInVertical') {
/*  135 */          css.textDecoration = 'underline'
/*  136 */        }
/*  137 */        if (textStyle.strikethrough === 'xHeightStrikethroughOn') {
/*  138 */          css.textDecoration = css.textDecoration ? css.textDecoration + ' line-through' : 'line-through'
/*  139 */        }
/*  140 */        if (textStyle.fontCaps === 'allCaps') {
/*  141 */          css.textTransform = 'uppercase'
/*  142 */        } else if (textStyle.fontCaps === 'smallCaps') {
/*  143 */          css.fontVariant = 'small-caps'
/*  144 */        }
/*  145 */  
/*  146 */        spans.push($('<span>').text(spanText).css(css)[0])
/*  147 */      }
/*  148 */  
/*  149 */      return spans
/*  150 */    }
/*  151 */  })

