/**
 * js/vendor/greensock/CSSPlugin.js
 */

/*    0 */  /*!
      1      * VERSION: beta 1.36
      2      * DATE: 2012-06-23
      3      * JavaScript
      4      * UPDATES AND DOCS AT: http://www.greensock.com
      5      *
      6      * Copyright (c) 2008-2012, GreenSock. All rights reserved.
      7      * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for
      8      * corporate Club GreenSock members, the software agreement that was issued with the corporate
      9      * membership.
     10      *
     11      * @author: Jack Doyle, jack@greensock.com
     12      */
/*   13 */  ;(window._gsQueue || (window._gsQueue = [])).push( function() {
/*   14 */  
/*   15 */  	_gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin","TweenLite"], function(TweenPlugin, TweenLite) {
/*   16 */  
/*   17 */  		"use strict";
/*   18 */  
/*   19 */  		var CSSPlugin = function() {
/*   20 */  				TweenPlugin.call(this, "css");
/*   21 */  				this._overwriteProps.pop();
/*   22 */  			},
/*   23 */  			p = CSSPlugin.prototype = new TweenPlugin("css");
/*   24 */  
/*   25 */  		p.constructor = CSSPlugin;
/*   26 */  		CSSPlugin.API = 2;
/*   27 */  		CSSPlugin.suffixMap = {top:"px", right:"px", bottom:"px", left:"px", width:"px", height:"px", fontSize:"px", padding:"px", margin:"px"};
/*   28 */  
/*   29 */  		//set up some local variables and functions that we can reuse for all tweens - we do this only once and cache things to improve performance
/*   30 */  		var _NaNExp = /[^\d\-\.]/g,
/*   31 */  			_suffixExp = /(\d|\-|\+|=|#|\.)*/g,
/*   32 */  			_numExp = /(\d|\.)+/g,
/*   33 */  			_opacityExp = /opacity=([^)]*)/,
/*   34 */  			_opacityValExp = /opacity:([^;]*)/,
/*   35 */  			_capsExp = /([A-Z])/g,
/*   36 */  			_camelExp = /-([a-z])/gi,
/*   37 */  			_camelFunc = function(s, g) { return g.toUpperCase() },
/*   38 */  			_horizExp = /(Left|Right|Width)/i,
/*   39 */  			_ieGetMatrixExp = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
/*   40 */  			_ieSetMatrixExp = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
/*   41 */  			_DEG2RAD = Math.PI / 180,
/*   42 */  			_RAD2DEG = 180 / Math.PI,
/*   43 */  			_tempDiv = document.createElement("div"),
/*   44 */  
/*   45 */  			//primarily for older versions of IE
/*   46 */  			_supportsOpacity = (function() {
/*   47 */  				var d = document.createElement("div"), a;
/*   48 */  				d.innerHTML = "<a style='top:1px;opacity:.55;'>a</a>";
/*   49 */  				if (!(a = d.getElementsByTagName("a")[0])) {
/*   50 */  					return false;
/*   51 */  				}
/*   52 */  				return /^0.55/.test(a.style.opacity);
/*   53 */  			})(),
/*   54 */  
/*   55 */  			_ieVers = (function() {
/*   56 */  				(/MSIE ([0-9]{1,}[\.0-9]{0,})/).exec(navigator.userAgent);
/*   57 */  				return parseFloat( RegExp.$1 );
/*   58 */  			})(),
/*   59 */  
/*   60 */  			//parses a color (like #9F0, #FF9900, or rgb(255,51,153)) into an array with 3 elements for red, green, and blue. Also handles rgba() values (splits into array of 4 elements of course)
/*   61 */  			_parseColor = function(color) {
/*   62 */  				if (!color || color === "") {
/*   63 */  					return _colorLookup.black;
/*   64 */  				} else if (_colorLookup[color]) {
/*   65 */  					return _colorLookup[color];
/*   66 */  				} else if (typeof(color) === "number") {
/*   67 */  					return [color >> 16, (color >> 8) & 255, color & 255];
/*   68 */  				} else if (color.charAt(0) === "#") {
/*   69 */  					if (color.length === 4) { //for shorthand like #9F0
/*   70 */  						color = "#" + color.charAt(1) + color.charAt(1) + color.charAt(2) + color.charAt(2) + color.charAt(3) + color.charAt(3);
/*   71 */  					}
/*   72 */  					color = parseInt(color.substr(1), 16);
/*   73 */  					return [color >> 16, (color >> 8) & 255, color & 255];
/*   74 */  				} else {
/*   75 */  					return color.match(_numExp) || _colorLookup.transparent;
/*   76 */  				}
/*   77 */  			},
/*   78 */  			_getIEOpacity = function(obj) {
/*   79 */  				return (_opacityExp.test( ((typeof(obj) === "string") ? obj : (obj.currentStyle ? obj.currentStyle.filter : obj.style.filter) || "") ) ? ( parseFloat( RegExp.$1 ) / 100 ) : 1);
/*   80 */  			},
/*   81 */  			_getComputedStyle = (document.defaultView) ? document.defaultView.getComputedStyle : function(o,s) {},
/*   82 */  
/*   83 */  			//gets an individual style property. cs is for computedStyle (a speed optimization - we don't want to run it more than once if we don't have to). calc forces the returned value to be based on the computedStyle, ignoring anything that's in the element's "style" property (computing normalizes certain things for us)
/*   84 */  			_getStyle = function(t, p, cs, calc) {
/*   85 */  				if (!_supportsOpacity && p === "opacity") { //several versions of IE don't use the standard "opacity" property - they use things like filter:alpha(opacity=50), so we parse that here.
/*   86 */  					return _getIEOpacity(t);
/*   87 */  				} else if (!calc && t.style[p]) {
/*   88 */  					return t.style[p];
/*   89 */  				} else if ((cs = cs || _getComputedStyle(t, null))) {
/*   90 */  					t = cs.getPropertyValue(p.replace(_capsExp, "-$1").toLowerCase());
/*   91 */  					return (t || cs.length) ? t : cs[p]; //Opera behaves VERY strangely - length is usually 0 and cs[p] is the only way to get accurate results EXCEPT when checking for -o-transform which only works with cs.getPropertyValue()!
/*   92 */  				} else if (t.currentStyle) {
/*   93 */  					return t.currentStyle[p];
/*   94 */  				}
/*   95 */  				return null;
/*   96 */  			},
/*   97 */  
/*   98 */  			//returns at object containing ALL of the style properties in camel-case and their associated values.
/*   99 */  			_getStyles = function(t, cs) {
/*  100 */  				var s = {}, i;
/*  101 */  				if ((cs = cs || _getComputedStyle(t, null))) {
/*  102 */  					if ((i = cs.length)) {
/*  103 */  						while (--i > -1) {
/*  104 */  							s[cs[i].replace(_camelExp, _camelFunc)] = cs.getPropertyValue(cs[i]);
/*  105 */  						}
/*  106 */  					} else { //Opera behaves differently - cs.length is always 0, so we must do a for...in loop.
/*  107 */  						for (i in cs) {
/*  108 */  							s[i] = cs[i];
/*  109 */  						}
/*  110 */  					}
/*  111 */  				} else if ((cs = t.currentStyle || t.style)) {
/*  112 */  					for (i in cs) {
/*  113 */  						s[i.replace(_camelExp, _camelFunc)] = cs[i];
/*  114 */  					}
/*  115 */  				}
/*  116 */  				if (!_supportsOpacity) {
/*  117 */  					s.opacity = _getIEOpacity(t);
/*  118 */  				}
/*  119 */  				var tr = _getTransform(t, cs, false);
/*  120 */  				s.rotation = tr.rotation * _RAD2DEG;
/*  121 */  				s.skewX = tr.skewX * _RAD2DEG;
/*  122 */  				s.scaleX = tr.scaleX;
/*  123 */  				s.scaleY = tr.scaleY;
/*  124 */  				s.x = tr.x;
/*  125 */  				s.y = tr.y;
/*  126 */  				if (s.filters != null) {
/*  127 */  					delete s.filters;
/*  128 */  				}
/*  129 */  				return s;
/*  130 */  			},
/*  131 */  
/*  132 */  			//analyzes two style objects (as returned by _getStyles()) and only looks for differences between them that contain tweenable values (like a number or color). It returns an object containing only those isolated properties and values for tweening, and optionally populates an array of those property names too (so that we can loop through them at the end of the tween and remove them for css tweens that apply a className - we don't want the cascading to get messed up)
/*  133 */  			_cssDif = function(s1, s2, v, d) {
/*  134 */  				var s = {}, val, p;
/*  135 */  				for (p in s2) {
/*  136 */  					if (p !== "cssText") if (p !== "length") if (isNaN(p)) if (s1[p] != (val = s2[p])) if (val !== _transformProp) if (typeof(val) === "number" || typeof(val) === "string") {
/*  137 */  						s[p] = val;
/*  138 */  						if (d) {
/*  139 */  							d.props.push(p);
/*  140 */  						}
/*  141 */  					}
/*  142 */  				}
/*  143 */  				if (v) {
/*  144 */  					for (p in v) { //copy properties (except className)
/*  145 */  						if (p !== "className") {
/*  146 */  							s[p] = v[p];
/*  147 */  						}
/*  148 */  					}
/*  149 */  				}
/*  150 */  				return s;
/*  151 */  			},
/*  152 */  			_transformMap = {scaleX:1, scaleY:1, x:1, y:1, rotation:1, shortRotation:1, skewX:1, skewY:1, scale:1},
/*  153 */  
/*  154 */  			_transformProp, //the Javascript (camelCase) transform property, like msTransform, WebkitTransform, MozTransform, or OTransform.
/*  155 */  			_prefix, //camelCase vendor prefix like "O", "ms", "Webkit", or "Moz".
/*  156 */  			_prefixCSS = (function() { //the non-camelCase vendor prefix like "-o-", "-moz-", "-ms-", or "-webkit-"
/*  157 */  				var d = document.body || document.documentElement,
/*  158 */  					cs = _getComputedStyle(d, ""),
/*  159 */  					a = ["O","-o-","Moz","-moz-","ms","-ms-","Webkit","-webkit-"],
/*  160 */  					i = 9;
/*  161 */  				while ((i-=2) > -1 && !_getStyle(d, a[i]+"transform", cs)) { }
/*  162 */  				if (i > 0) {
/*  163 */  					_transformProp = (_prefix = a[i-1]) + "Transform";
/*  164 */  					return a[i];
/*  165 */  				}
/*  166 */  				return null;
/*  167 */  			})(),
/*  168 */  			_agent = navigator.userAgent,
/*  169 */  			_reqTransformFix = (_agent.indexOf("Safari") !== -1 && _agent.indexOf("Chrome") === -1 && _agent.indexOf("Android") === -1), //non-Android versions of Safari have a bug that prevents changes to "top" and "left" properties from rendering properly if changed on the same frame as a transform UNLESS we set the element's transform-style to "preserve-3d" (VERY odd, I know).
/*  170 */  
/*  171 */  			//parses the transform values for an element, returning an object with x, y, scaleX, scaleY, rotation, skewX, and skewY properties. Note: by default (for performance reasons), all skewing is combined into skewX and rotation but skewY still has a place in the transform object so that we can record how much of the skew is attributed to skewX vs skewY. Remember, a skewY of 10 looks the same as a rotation of 10 and skewX of -10.
/*  172 */  			_getTransform = function(t, cs, rec) {
/*  173 */  				var tm = t._gsTransform, s;
/*  174 */  				if (_transformProp) {
/*  175 */  					s = _getStyle(t, _prefixCSS + "transform", cs, true);
/*  176 */  				} else if (t.currentStyle) {
/*  177 */  					//for older versions of IE, we need to interpret the filter portion that is in the format: progid:DXImageTransform.Microsoft.Matrix(M11=6.123233995736766e-17, M12=-1, M21=1, M22=6.123233995736766e-17, sizingMethod='auto expand') Notice that we need to swap b and c compared to a normal matrix.
/*  178 */  					s = t.currentStyle.filter.match(_ieGetMatrixExp);
/*  179 */  					s = (s && s.length === 4) ? s[0].substr(4) + "," + Number(s[2].substr(4)) + "," + Number(s[1].substr(4)) + "," + s[3].substr(4) + "," + (tm ? tm.x : 0) + "," + (tm ? tm.y : 0) : null;
/*  180 */  				}
/*  181 */  				var v = (s || "").replace(/[^\d\-\.e,]/g, "").split(","),
/*  182 */  					k = (v.length >= 6),
/*  183 */  					a = k ? Number(v[0]) : 1,
/*  184 */  					b = k ? Number(v[1]) : 0,
/*  185 */  					c = k ? Number(v[2]) : 0,
/*  186 */  					d = k ? Number(v[3]) : 1,
/*  187 */  					min = 0.000001,
/*  188 */  					m = rec ? tm || {skewY:0} : {skewY:0},
/*  189 */  					invX = (m.scaleX < 0); //in order to interpret things properly, we need to know if the user applied a negative scaleX previously so that we can adjust the rotation and skewX accordingly. Otherwise, if we always interpret a flipped matrix as affecting scaleY and the user only wants to tween the scaleX on multiple sequential tweens, it would keep the negative scaleY without that being the user's intent.
/*  190 */  
/*  191 */  				m.x = (k ? Number(v[4]) : 0);
/*  192 */  				m.y = (k ? Number(v[5]) : 0);
/*  193 */  				m.scaleX = Math.sqrt(a * a + b * b);
/*  194 */  				m.scaleY = Math.sqrt(d * d + c * c);
/*  195 */  				m.rotation = (a || b) ? Math.atan2(b, a) : m.rotation || 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).
/*  196 */  				m.skewX = (c || d) ? Math.atan2(c, d) + m.rotation : m.skewX || 0;
/*  197 */  				if (Math.abs(m.skewX) > Math.PI / 2) {
/*  198 */  					if (invX) {
/*  199 */  						m.scaleX *= -1;
/*  200 */  						m.skewX += (m.rotation <= 0) ? Math.PI : -Math.PI;
/*  201 */  						m.rotation += (m.rotation <= 0) ? Math.PI : -Math.PI;
/*  202 */  					} else {
/*  203 */  						m.scaleY *= -1;
/*  204 */  						m.skewX += (m.skewX <= 0) ? Math.PI : -Math.PI;
/*  205 */  					}
/*  206 */  				}
/*  207 */  				//some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the "e-" towards the end) and would render the object slightly off. So we round to 0 in these cases. The conditional logic here is faster than calling Math.abs().
/*  208 */  				if (m.rotation < min) if (m.rotation > -min) if (a || b) {
/*  209 */  					m.rotation = 0;
/*  210 */  				}
/*  211 */  				if (m.skewX < min) if (m.skewX > -min) if (b || c) {
/*  212 */  					m.skewX = 0;
/*  213 */  				}
/*  214 */  				if (rec) {
/*  215 */  					t._gsTransform = m; //record to the object's _gsTransform which we use so that tweens can control individual properties independently (we need all the properties to accurately recompose the matrix in the setRatio() method)
/*  216 */  				}
/*  217 */  				return m;
/*  218 */  			},
/*  219 */  
/*  220 */  			_dimensions = {width:["Left","Right"], height:["Top","Bottom"]},
/*  221 */  			_margins = ["marginLeft","marginRight","marginTop","marginBottom"],
/*  222 */  			_getDimension = function(n, t, cs) {
/*  223 */  				var v = parseFloat((n === "width") ? t.offsetWidth : t.offsetHeight),
/*  224 */  					a = _dimensions[n],
/*  225 */  					i = a.length,
/*  226 */  					cs = cs || _getComputedStyle(t, null);
/*  227 */  				while (--i > -1) {
/*  228 */  					v -= parseFloat( _getStyle(t, "padding" + a[i], cs, true) ) || 0;
/*  229 */  					v -= parseFloat( _getStyle(t, "border" + a[i] + "Width", cs, true) ) || 0;
/*  230 */  				}
/*  231 */  				return v;
/*  232 */  			},
/*  233 */  
/*  234 */  			//pass the target element, the property name, the numeric value, and the suffix (like "%", "em", "px", etc.) and it will spit back the equivalent pixel number
/*  235 */  			_convertToPixels = function(t, p, v, sfx, recurse) {
/*  236 */  				if (sfx === "px") { return v; }
/*  237 */  				if (sfx === "auto") { return 0; }
/*  238 */  				var horiz = _horizExp.test(p),
/*  239 */  					node = t,
/*  240 */  					neg = (v < 0);
/*  241 */  				if (neg) {
/*  242 */  					v = -v;
/*  243 */  				}
/*  244 */  				_tempDiv.style.cssText = "border-style:solid; border-width:0; position:absolute; line-height:0;";
/*  245 */  				if (sfx === "%" || sfx === "em") {
/*  246 */  					node = t.parentNode || document.body;
/*  247 */  					_tempDiv.style[(horiz ? "width" : "height")] = v + sfx;
/*  248 */  				} else {
/*  249 */  					_tempDiv.style[(horiz ? "borderLeftWidth" : "borderTopWidth")] = v + sfx;
/*  250 */  				}
/*  251 */  				node.appendChild(_tempDiv);
/*  252 */  				var pix = parseFloat(_tempDiv[(horiz ? "offsetWidth" : "offsetHeight")]);
/*  253 */  				node.removeChild(_tempDiv);
/*  254 */  				if (pix === 0 && !recurse) { //in some browsers (like IE7/8), occasionally the value isn't accurately reported initially, but if we run the function again it will take effect.
/*  255 */  					pix = _convertToPixels(t, p, v, sfx, true);
/*  256 */  				}
/*  257 */  				return neg ? -pix : pix;
/*  258 */  			},
/*  259 */  
/*  260 */  			//for parsing things like transformOrigin or backgroundPosition which must recognize keywords like top/left/right/bottom/center as well as percentages and pixel values. Decorates the supplied object with the following properties: "ox" (offsetX), "oy" (offsetY), "oxp" (if true, "ox" is a percentage not a pixel value), and "oxy" (if true, "oy" is a percentage not a pixel value)
/*  261 */  			_parsePosition = function(v, o) {
/*  262 */  				if (v == null || v === "" || v === "auto") {
/*  263 */  					v = "0 0";
/*  264 */  				}
/*  265 */  				o = o || {};
/*  266 */  				var x = (v.indexOf("left") !== -1) ? "0%" : (v.indexOf("right") !== -1) ? "100%" : v.split(" ")[0],
/*  267 */  					y = (v.indexOf("top") !== -1) ? "0%" : (v.indexOf("bottom") !== -1) ? "100%" : v.split(" ")[1];
/*  268 */  				if (y == null) {
/*  269 */  					y = "0";
/*  270 */  				} else if (y === "center") {
/*  271 */  					y = "50%";
/*  272 */  				}
/*  273 */  				if (x === "center") {
/*  274 */  					x = "50%";
/*  275 */  				}
/*  276 */  				o.oxp = (x.indexOf("%") !== -1);
/*  277 */  				o.oyp = (y.indexOf("%") !== -1);
/*  278 */  				o.oxr = (x.charAt(1) === "=");
/*  279 */  				o.oyr = (y.charAt(1) === "=");
/*  280 */  				o.ox = parseFloat(x.replace(_NaNExp, ""));
/*  281 */  				o.oy = parseFloat(y.replace(_NaNExp, ""));
/*  282 */  				return o;
/*  283 */  			},
/*  284 */  
/*  285 */  			//takes a value and a default number, checks if the value is relative, null, or numeric and spits back a normalized number accordingly. Primarily used in the _parseTransform() function.
/*  286 */  			_parseVal = function(v, d) {
/*  287 */  				return (v == null) ? d : (typeof(v) === "string" && v.indexOf("=") === 1) ? Number(v.split("=").join("")) + d : Number(v);
/*  288 */  			},
/*  289 */  
/*  290 */  			//translates strings like "40deg" or "40" or 40rad" or "+=40deg" to a numeric radian angle, optionally relative to a default value (if "+=" or "-=" prefix is found)
/*  291 */  			_parseAngle = function(v, d) {
/*  292 */  				var m = (v.indexOf("rad") === -1) ? _DEG2RAD : 1,
/*  293 */  					r = (v.indexOf("=") === 1);
/*  294 */  				v = Number(v.replace(_NaNExp, "")) * m;
/*  295 */  				return r ? v + d : v;
/*  296 */  			},
/*  297 */  			_colorLookup = {aqua:[0,255,255],
/*  298 */  							lime:[0,255,0],
/*  299 */  							silver:[192,192,192],
/*  300 */  							black:[0,0,0],
/*  301 */  							maroon:[128,0,0],
/*  302 */  							teal:[0,128,128],
/*  303 */  							blue:[0,0,255],
/*  304 */  							navy:[0,0,128],
/*  305 */  							white:[255,255,255],
/*  306 */  							fuchsia:[255,0,255],
/*  307 */  							olive:[128,128,0],
/*  308 */  							yellow:[255,255,0],
/*  309 */  							orange:[255,165,0],
/*  310 */  							gray:[128,128,128],
/*  311 */  							purple:[128,0,128],
/*  312 */  							green:[0,128,0],
/*  313 */  							red:[255,0,0],
/*  314 */  							pink:[255,192,203],
/*  315 */  							cyan:[0,255,255],
/*  316 */  							transparent:[255,255,255,0]};
/*  317 */  
/*  318 */  
/*  319 */  		//gets called when the tween renders for the first time. This kicks everything off, recording start/end values, etc.
/*  320 */  		p._onInitTween = function(target, value, tween) {
/*  321 */  			if (!target.nodeType) { //css is only for dom elements
/*  322 */  				return false;
/*  323 */  			}
/*  324 */  			this._target = target;
/*  325 */  			this._tween = tween;
/*  326 */  			this._classData = this._transform = null; //_transform is only used for scaleX/scaleY/x/y/rotation/skewX/skewY tweens and _classData is only used if className is defined - this will be an array of properties that we're tweening related to the class which should be removed from the target.style at the END of the tween when the className is populated so that cascading happens properly.
/*  327 */  			var s = this._style = target.style,
/*  328 */  				cs = _getComputedStyle(target, ""),
/*  329 */  				copy, start, v;
/*  330 */  
/*  331 */  			if (typeof(value) === "string") {
/*  332 */  				copy = s.cssText;
/*  333 */  				start = _getStyles(target, cs);
/*  334 */  				s.cssText = copy + ";" + value;
/*  335 */  				v = _cssDif(start, _getStyles(target));
/*  336 */  				if (!_supportsOpacity && _opacityValExp.test(value)) {
/*  337 */  					val.opacity = parseFloat( RegExp.$1 );
/*  338 */  				}
/*  339 */  				value = v;
/*  340 */  				s.cssText = copy;
/*  341 */  			} else if (value.className) {
/*  342 */  				copy = target.className;
/*  343 */  				start = _getStyles(target, cs);
/*  344 */  				target.className = (value.className.charAt(1) !== "=") ? value.className : (value.className.charAt(0) === "+") ? target.className + " " + value.className.substr(2) : target.className.split(value.className.substr(2)).join("");
/*  345 */  				value = _cssDif(start, _getStyles(target), value, (this._classData = {b:copy, e:target.className, props:[]}));
/*  346 */  				target.className = copy;
/*  347 */  			}
/*  348 */  			this._parseVars(value, target, cs, value.suffixMap || CSSPlugin.suffixMap);
/*  349 */  			return true;
/*  350 */  		}
/*  351 */  
/*  352 */  		//feed a vars object to this function and it will parse through its properties and add PropTweens as necessary. This is split out from the _onInitTween() so that we can recurse if necessary, like "margin" should affect "marginLeft", "marginRight", "marginTop", and "marginBottom".
/*  353 */  		p._parseVars = function(vars, t, cs, map) {
/*  354 */  			var s = this._style,
/*  355 */  				p, v, pt, beg, clr1, clr2, bsfx, esfx, rel, start, copy;
/*  356 */  
/*  357 */  			for (p in vars) {
/*  358 */  
/*  359 */  				v = vars[p];
/*  360 */  
/*  361 */  				if (p === "transform" || p === _transformProp) {
/*  362 */  					this._parseTransform(t, v, cs, map);
/*  363 */  					continue;
/*  364 */  				} else if (_transformMap[p] || p === "transformOrigin") {
/*  365 */  					this._parseTransform(t, vars, cs, map);
/*  366 */  					continue;
/*  367 */  				} else if (p === "alpha" || p === "autoAlpha") { //alpha tweens are opacity tweens
/*  368 */  					p = "opacity";
/*  369 */  				} else if (p === "margin" || p === "padding") {
/*  370 */  					copy = (v + "").split(" ");
/*  371 */  					rel = copy.length;
/*  372 */  					pt = {};
/*  373 */  					pt[p + "Top"] = copy[0];
/*  374 */  					pt[p + "Right"] = (rel > 1) ? copy[1] : copy[0];
/*  375 */  					pt[p + "Bottom"] = (rel === 4) ? copy[2] : copy[0];
/*  376 */  					pt[p + "Left"] = (rel === 4) ? copy[3] : (rel === 2) ? copy[1] : copy[0];
/*  377 */  					this._parseVars(pt, t, cs, map);
/*  378 */  					continue;
/*  379 */  				} else if (p === "backgroundPosition" || p === "backgroundSize") {
/*  380 */  					pt = _parsePosition(v); //end values
/*  381 */  					start = _parsePosition( (beg = _getStyle(t, p, cs)) ); //starting values
/*  382 */  					this._firstPT = pt = {_next:this._firstPT, t:s, p:p, b:beg, f:false, n:"css_" + p, type:3,
/*  383 */  							s:start.ox, //x start
/*  384 */  							c:pt.oxr ? pt.ox : pt.ox - start.ox, //change in x
/*  385 */  							ys:start.oy, //y start
/*  386 */  							yc:pt.oyr ? pt.oy : pt.oy - start.oy, //change in y
/*  387 */  							sfx:pt.oxp ? "%" : "px", //x suffix
/*  388 */  							ysfx:pt.oyp ? "%" : "px", //y suffix
/*  389 */  							r:(!pt.oxp && vars.autoRound !== false)};
/*  390 */  					pt.e = (pt.s + pt.c) + pt.sfx + " " + (pt.ys + pt.yc) + pt.ysfx; //we can't just use v because it could contain relative values, like +=50px which is an illegal final value.
/*  391 */  					continue;
/*  392 */  				} else if (p === "border") {
/*  393 */  					copy = (v + "").split(" ");
/*  394 */  					this._parseVars({borderWidth:copy[0], borderStyle:copy[1] || "none", borderColor:copy[2] || "#000000"}, t, cs, map);
/*  395 */  					continue;
/*  396 */  				} else if (p === "autoRound") {
/*  397 */  					continue;
/*  398 */  				}
/*  399 */  
/*  400 */  				beg = _getStyle(t, p, cs);
/*  401 */  				beg = (beg != null) ? beg + "" : ""; //make sure beginning value is a string. Don't do beg = _getStyle(...) || "" because if _getStyle() returns 0, it will make it "" since 0 is a "falsey" value.
/*  402 */  
/*  403 */  				//Some of these properties are in place in order to conform with the standard PropTweens in TweenPlugins so that overwriting and roundProps occur properly. For example, f and r may seem unnecessary here, but they enable other functionality.
/*  404 */  				//_next:*	next linked list node		[object]
/*  405 */  				//t: 	*	target 						[object]
/*  406 */  				//p:	*	property (camelCase)		[string]
/*  407 */  				//s: 	*	starting value				[number]
/*  408 */  				//c:	*	change value				[number]
/*  409 */  				//f:	* 	is function					[boolean]
/*  410 */  				//n:	*	name (for overwriting)		[string]
/*  411 */  				//sfx:		suffix						[string]
/*  412 */  				//b:		beginning value				[string]
/*  413 */  				//i:		intermediate value			[string]
/*  414 */  				//e: 		ending value				[string]
/*  415 */  				//r:	*	round						[boolean]
/*  416 */  				//type:		0=normal, 1=color, 2=rgba, 3=positional offset (like backgroundPosition or backgroundSize), 4=unsupported opacity (ie), -1=non-tweening prop	[number]
/*  417 */  				this._firstPT = pt = {_next:this._firstPT,
/*  418 */  					  t:s,
/*  419 */  					  p:p,
/*  420 */  					  b:beg,
/*  421 */  					  f:false,
/*  422 */  					  n:"css_" + p,
/*  423 */  					  sfx:"",
/*  424 */  					  r:false,
/*  425 */  					  type:0};
/*  426 */  
/*  427 */  				//if it's an autoAlpha, add a new PropTween for "visibility". We must make sure the "visibility" PropTween comes BEFORE the "opacity" one in order to work around a bug in old versions of IE tht would ignore "visibility" changes if made right after an alpha change. Remember, we add PropTweens in reverse order - that's why we do this here, after creating the original PropTween.
/*  428 */  				if (p === "opacity") if (vars.autoAlpha != null) {
/*  429 */  					if (beg === "1") if (_getStyle(t, "visibility", cs) === "hidden") { //if visibility is initially set to "hidden", we should interpret that as intent to make opacity 0.
/*  430 */  						beg = pt.b = "0";
/*  431 */  					}
/*  432 */  					this._firstPT = pt._prev = {_next:pt, t:s, p:"visibility", f:false, n:"css_visibility", r:false, type:-1, b:(Number(beg) !== 0) ? "visible" : "hidden", i:"visible", e:(Number(v) === 0) ? "hidden" : "visible"};
/*  433 */  					this._overwriteProps.push("css_visibility");
/*  434 */  				}
/*  435 */  
/*  436 */  				//color values must be split apart into their R, G, B (and sometimes alpha) values and tweened independently.
/*  437 */  				if (p === "color" || p === "fill" || p === "stroke" || p.indexOf("Color") !== -1 || (typeof(v) === "string" && !v.indexOf("rgb("))) { //Opera uses background: to define color sometimes in addition to backgroundColor:
/*  438 */  					clr1 = _parseColor(beg);
/*  439 */  					clr2 = _parseColor(v);
/*  440 */  					pt.e = ((clr2.length > 3) ? "rgba" : "rgb") + "(" + clr2.join(",") + ")"; //don't just do pt.e = v because that won't work if the destination color is numeric, like 0xFF0000. We need to parse it.
/*  441 */  					pt.s = Number(clr1[0]);				//red starting value
/*  442 */  					pt.c = Number(clr2[0]) - pt.s;		//red change
/*  443 */  					pt.gs = Number(clr1[1]);			//green starting value
/*  444 */  					pt.gc = Number(clr2[1]) - pt.gs;	//green change
/*  445 */  					pt.bs = Number(clr1[2]);			//blue starting value
/*  446 */  					pt.bc = Number(clr2[2]) - pt.bs;	//blue change
/*  447 */  					if (clr1.length > 3 || clr2.length > 3) { //detect an rgba() value
/*  448 */  						pt.as = (clr1.length < 4) ? 1 : Number(clr1[3]);
/*  449 */  						pt.ac = ((clr2.length < 4) ? 1 : Number(clr2[3])) - pt.as;
/*  450 */  						pt.type = (pt.c || pt.gc || pt.bc || pt.ac) ? 2 : -1; //2 = rgba() tween, -1 = no tween, just set the value at the end
/*  451 */  					} else {
/*  452 */  						pt.type = (pt.c || pt.gc || pt.bc) ? 1 : -1; //1 = color tween, -1 = no tween, just set the value at the end because there's no changes
/*  453 */  					}
/*  454 */  
/*  455 */  				} else {
/*  456 */  
/*  457 */  					bsfx = beg.replace(_suffixExp, ""); //beginning suffix
/*  458 */  
/*  459 */  					if (beg === "" || beg === "auto") {
/*  460 */  						if (p === "width" || p === "height") {
/*  461 */  							start = _getDimension(p, t, cs);
/*  462 */  							bsfx = "px";
/*  463 */  						} else {
/*  464 */  							start = (p !== "opacity") ? 0 : 1;
/*  465 */  							bsfx = "";
/*  466 */  						}
/*  467 */  					} else {
/*  468 */  						start = (beg.indexOf(" ") === -1) ? parseFloat(beg.replace(_NaNExp, "")) : NaN;
/*  469 */  					}
/*  470 */  
/*  471 */  					if (typeof(v) === "string") {
/*  472 */  						rel = (v.charAt(1) === "=");
/*  473 */  						esfx = v.replace(_suffixExp, "");
/*  474 */  						v = (v.indexOf(" ") === -1) ? parseFloat(v.replace(_NaNExp, "")) : NaN;
/*  475 */  					} else {
/*  476 */  						rel = false;
/*  477 */  						esfx = "";
/*  478 */  					}
/*  479 */  
/*  480 */  					if (esfx === "") {
/*  481 */  						esfx = map[p] || bsfx; //populate the end suffix, prioritizing the map, then if none is found, use the beginning suffix.
/*  482 */  					}
/*  483 */  
/*  484 */  					pt.e = (v || v === 0) ? (rel ? v + start : v) + esfx : vars[p]; //ensures that any += or -= prefixes are taken care of. Record the end value before normalizing the suffix because we always want to end the tween on exactly what they intended even if it doesn't match the beginning value's suffix.
/*  485 */  
/*  486 */  					//if the beginning/ending suffixes don't match, normalize them...
/*  487 */  					if (bsfx !== esfx) if (esfx !== "") if (v || v === 0) if (start || start === 0) {
/*  488 */  						start = _convertToPixels(t, p, start, bsfx);
/*  489 */  						if (esfx === "%") {
/*  490 */  							start /= _convertToPixels(t, p, 100, "%") / 100;
/*  491 */  							if (start > 100) { //extremely rare
/*  492 */  								start = 100;
/*  493 */  							}
/*  494 */  
/*  495 */  						} else if (esfx === "em") {
/*  496 */  							start /= _convertToPixels(t, p, 1, "em");
/*  497 */  
/*  498 */  						//otherwise convert to pixels.
/*  499 */  						} else {
/*  500 */  							v = _convertToPixels(t, p, v, esfx);
/*  501 */  							esfx = "px"; //we don't use bsfx after this, so we don't need to set it to px too.
/*  502 */  						}
/*  503 */  						if (rel) if (v || v === 0) {
/*  504 */  							pt.e = (v + start) + esfx; //the changes we made affect relative calculations, so adjust the end value here.
/*  505 */  						}
/*  506 */  					}
/*  507 */  
/*  508 */  					if ((start || start === 0) && (v || v === 0) && (pt.c = (rel ? v : v - start))) { //faster than isNaN(). Also, we set pt.c (change) here because if it's 0, we'll just treat it like a non-tweening value. can't do (v !== start) because if it's a relative value and the CHANGE is identical to the START, the condition will fail unnecessarily.
/*  509 */  						pt.s = start;
/*  510 */  						pt.sfx = esfx;
/*  511 */  						if (p === "opacity") {
/*  512 */  							if (!_supportsOpacity) {
/*  513 */  								pt.type = 4;
/*  514 */  								pt.p = "filter";
/*  515 */  								pt.b = "alpha(opacity=" + (pt.s * 100) + ")";
/*  516 */  								pt.e = "alpha(opacity=" + ((pt.s + pt.c) * 100) + ")";
/*  517 */  								pt.dup = (vars.autoAlpha != null); //dup = duplicate the setting of the alpha in order to work around a bug in IE7 and IE8 that prevents changes to "visibility" from taking effect if the filter is changed to a different alpha(opacity) at the same time. Setting it to the SAME value first, then the new value works around the IE7/8 bug.
/*  518 */  								this._style.zoom = 1; //helps correct an IE issue.
/*  519 */  							}
/*  520 */  						} else if (vars.autoRound !== false && (esfx === "px" || p === "zIndex")) { //always round zIndex, and as long as autoRound isn't false, round pixel values (that improves performance in browsers typically)
/*  521 */  							pt.r = true;
/*  522 */  						}
/*  523 */  					} else {
/*  524 */  						pt.type = -1;
/*  525 */  						pt.i = pt.e; //intermediate value is typically the same as the end value.
/*  526 */  						pt.s = pt.c = 0;
/*  527 */  					}
/*  528 */  
/*  529 */  				}
/*  530 */  
/*  531 */  				this._overwriteProps.push("css_" + p);
/*  532 */  				if (pt._next) {
/*  533 */  					pt._next._prev = pt;
/*  534 */  				}
/*  535 */  			}
/*  536 */  
/*  537 */  		}
/*  538 */  
/*  539 */  
/*  540 */  		//compares the beginning x, y, scaleX, scaleY, rotation, and skewX properties with the ending ones and adds PropTweens accordingly wherever necessary. We must tween them individually (rather than just tweening the matrix values) so that elgant overwriting can occur, like if one tween is controlling scaleX, scaleY, and rotation and then another one starts mid-tween that is trying to control the scaleX only - this tween should continue tweening scaleY and rotation.
/*  541 */  		p._parseTransform = function(t, v, cs, map) {
/*  542 */  			if (this._transform) { return; } //only need to parse the transform once, and only if the browser supports it.
/*  543 */  
/*  544 */  			var m1 = this._transform = _getTransform(t, cs, true),
/*  545 */  				s = this._style,
/*  546 */  				min = 0.000001,
/*  547 */  				m2, skewY, p, pt, copy, orig;
/*  548 */  
/*  549 */  			if (typeof(v) === "object") { //for values like scaleX, scaleY, rotation, x, y, skewX, and skewY or transform:{...} (object)
/*  550 */  
/*  551 */  				m2 = {scaleX:_parseVal((v.scaleX != null) ? v.scaleX : v.scale, m1.scaleX),
/*  552 */  					  scaleY:_parseVal((v.scaleY != null) ? v.scaleY : v.scale, m1.scaleY),
/*  553 */  					  x:_parseVal(v.x, m1.x),
/*  554 */  					  y:_parseVal(v.y, m1.y)};
/*  555 */  
/*  556 */  				if (v.shortRotation != null) {
/*  557 */  					m2.rotation = (typeof(v.shortRotation) === "number") ? v.shortRotation * _DEG2RAD : _parseAngle(v.shortRotation, m1.rotation);
/*  558 */  					var dif = (m2.rotation - m1.rotation) % (Math.PI * 2);
/*  559 */  					if (dif !== dif % Math.PI) {
/*  560 */  						dif += Math.PI * ((dif < 0) ? 2 : -2);
/*  561 */  					}
/*  562 */  					m2.rotation = m1.rotation + dif;
/*  563 */  
/*  564 */  				} else {
/*  565 */  					m2.rotation = (v.rotation == null) ? m1.rotation : (typeof(v.rotation) === "number") ? v.rotation * _DEG2RAD : _parseAngle(v.rotation, m1.rotation);
/*  566 */  				}
/*  567 */  				m2.skewX = (v.skewX == null) ? m1.skewX : (typeof(v.skewX) === "number") ? v.skewX * _DEG2RAD : _parseAngle(v.skewX, m1.skewX);
/*  568 */  
/*  569 */  				//note: for performance reasons, we combine all skewing into the skewX and rotation values, ignoring skewY but we must still record it so that we can discern how much of the overall skew is attributed to skewX vs. skewY. Otherwise, if the skewY would always act relative (tween skewY to 10deg, for example, multiple times and if we always combine things into skewX, we can't remember that skewY was 10 from last time). Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of -10 degrees.
/*  570 */  				m2.skewY = (v.skewY == null) ? m1.skewY : (typeof(v.skewY) === "number") ? v.skewY * _DEG2RAD : _parseAngle(v.skewY, m1.skewY);
/*  571 */  				if ((skewY = m2.skewY - m1.skewY)) {
/*  572 */  					m2.skewX += skewY
/*  573 */  					m2.rotation += skewY;
/*  574 */  				}
/*  575 */  				//don't allow rotation/skew values to be a SUPER small decimal because when they're translated back to strings for setting the css property, the browser reports them in a funky way, like 1-e7. Of course we could use toFixed() to resolve that issue but that hurts performance quite a bit with all those function calls on every frame, plus it is virtually impossible to discern values that small visually (nobody will notice changing a rotation of 0.0000001 to 0, so the performance improvement is well worth it).
/*  576 */  				if (m2.skewY < min) if (m2.skewY > -min) {
/*  577 */  					m2.skewY = 0;
/*  578 */  				}
/*  579 */  				if (m2.skewX < min) if (m2.skewX > -min) {
/*  580 */  					m2.skewX = 0;
/*  581 */  				}
/*  582 */  				if (m2.rotation < min) if (m2.rotation > -min) {
/*  583 */  					m2.rotation = 0;
/*  584 */  				}
/*  585 */  
/*  586 */  				//if a transformOrigin is defined, handle it here...
/*  587 */  				if ((orig = v.transformOrigin) != null) {
/*  588 */  					if (_transformProp) {
/*  589 */  						p = _transformProp + "Origin";
/*  590 */  						this._firstPT = pt = {_next:this._firstPT, t:s, p:p, s:0, c:0, n:p, f:false, r:false, b:s[p], e:orig, i:orig, type:-1, sfx:""};
/*  591 */  						if (pt._next) {
/*  592 */  							pt._next._prev = pt;
/*  593 */  						}
/*  594 */  
/*  595 */  					//for older versions of IE (6-8), we need to manually calculate things inside the setRatio() function. We record origin x and y (ox and oy) and whether or not the values are percentages (oxp and oyp).
/*  596 */  					} else {
/*  597 */  						_parsePosition(orig, m1);
/*  598 */  					}
/*  599 */  				}
/*  600 */  
/*  601 */  			} else if (typeof(v) === "string" && _transformProp) { //for values like transform:"rotate(60deg) scale(0.5, 0.8)"
/*  602 */  				copy = s[_transformProp];
/*  603 */  				s[_transformProp] = v;
/*  604 */  				m2 = _getTransform(t, null, false);
/*  605 */  				s[_transformProp] = copy;
/*  606 */  			} else {
/*  607 */  				return;
/*  608 */  			}
/*  609 */  
/*  610 */  			if (!_transformProp) {
/*  611 */  				s.zoom = 1; //helps correct an IE issue.
/*  612 */  			} else if (_reqTransformFix) {
/*  613 */  				s[_transformProp + "Style"] = "preserve-3d"; //corrects a bug in [non-Android] Safari that causes it to skip rendering changes to "top" and "left" that are made on the same frame/render as a transform update. We cannot just check for a Webkit browser because Android devices would evaluate as true, but applying this "fix" actually breaks things in a few Android devices like the Atrix (fun!)
/*  614 */  			}
/*  615 */  
/*  616 */  			for (p in _transformMap) {
/*  617 */  				if (m1[p] !== m2[p]) if (p !== "shortRotation") if (p !== "scale") {
/*  618 */  					this._firstPT = pt = {_next:this._firstPT, t:m1, p:p, s:m1[p], c:m2[p] - m1[p], n:p, f:false, r:false, b:m1[p], e:m2[p], type:0, sfx:0};
/*  619 */  					if (pt._next) {
/*  620 */  						pt._next._prev = pt;
/*  621 */  					}
/*  622 */  					this._overwriteProps.push("css_" + p);
/*  623 */  				}
/*  624 */  			}
/*  625 */  		};
/*  626 */  
/*  627 */  
/*  628 */  		//gets called every time the tween updates, passing the new ratio (typically a value between 0 and 1, but not always (for example, if an Elastic.easeOut is used, the value can jump above 1 mid-tween). It will always start and 0 and end at 1.
/*  629 */  		p.setRatio = function(v) {
/*  630 */  			var pt = this._firstPT,
/*  631 */  				min = 0.000001, val, y;
/*  632 */  
/*  633 */  			//at the end of the tween, we set the values to exactly what we received in order to make sure non-tweening values (like "position" or "float" or whatever) are set and so that if the beginning/ending suffixes (units) didn't match and we normalized to px, the value that the user passed in is used here. We check to see if the tween is at its beginning in case it's a from() tween in which case the ratio will actually go from 1 to 0 over the course of the tween (backwards).
/*  634 */  			if (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {
/*  635 */  				while (pt) {
/*  636 */  					pt.t[pt.p] = pt.e;
/*  637 */  					if (pt.type === 4) if (pt.s + pt.c === 1) { //for older versions of IE that need to use a filter to apply opacity, we should remove the filter if opacity hits 1 in order to improve performance.
/*  638 */  						this._style.removeAttribute("filter");
/*  639 */  						if (_getStyle(this._target, "filter")) { //if a class is applied that has an alpha filter, it will take effect (we don't want that), so re-apply our alpha filter in that case. We must first remove it and then check.
/*  640 */  							pt.t[pt.p] = pt.e;
/*  641 */  						}
/*  642 */  					}
/*  643 */  					pt = pt._next;
/*  644 */  				}
/*  645 */  
/*  646 */  			} else if (v || !(this._tween._time === this._tween._duration || this._tween._time === 0)) {
/*  647 */  
/*  648 */  				while (pt) {
/*  649 */  					val = pt.c * v + pt.s;
/*  650 */  					if (pt.r) {
/*  651 */  						val = (val > 0) ? (val + 0.5) >> 0 : (val - 0.5) >> 0;
/*  652 */  					} else if (val < min) if (val > -min) {
/*  653 */  						val = 0;
/*  654 */  					}
/*  655 */  					if (!pt.type) {
/*  656 */  						pt.t[pt.p] = val + pt.sfx;
/*  657 */  					} else if (pt.type === 1) { //rgb()
/*  658 */  						pt.t[pt.p] = "rgb(" + (val >> 0) + ", " + ((pt.gs + (v * pt.gc)) >> 0) + ", " + ((pt.bs + (v * pt.bc)) >> 0) + ")";
/*  659 */  					} else if (pt.type === 2) { //rgba()
/*  660 */  						pt.t[pt.p] = "rgba(" + (val >> 0) + ", " + ((pt.gs + (v * pt.gc)) >> 0) + ", " + ((pt.bs + (v * pt.bc)) >> 0) + ", " + (pt.as + (v * pt.ac)) + ")";
/*  661 */  					} else if (pt.type === -1) { //non-tweening
/*  662 */  						pt.t[pt.p] = pt.i;
/*  663 */  					} else if (pt.type === 3) { //positional property with an x and y, like backgroundPosition or backgroundSize
/*  664 */  						y = pt.ys + v * pt.yc;
/*  665 */  						if (pt.r) {
/*  666 */  							y = (y > 0) ? (y + 0.5) >> 0 : (y - 0.5) >> 0;
/*  667 */  						}
/*  668 */  						pt.t[pt.p] = val + pt.sfx + " " + y + pt.ysfx;
/*  669 */  					} else {
/*  670 */  						if (pt.dup) {
/*  671 */  							pt.t.filter = pt.t.filter || "alpha(opacity=100)"; //works around bug in IE7/8 that prevents changes to "visibility" from being applied propertly if the filter is changed to a different alpha on the same frame.
/*  672 */  						}
/*  673 */  						if (pt.t.filter.indexOf("opacity=") === -1) { //only used if browser doesn't support the standard opacity style property (IE 7 and 8)
/*  674 */  							pt.t.filter += " alpha(opacity=" + ((val * 100) >> 0) + ")"; //we round the value because otherwise, bugs in IE7/8 can prevent "visibility" changes from being applied properly.
/*  675 */  						} else {
/*  676 */  							pt.t.filter = pt.t.filter.replace(_opacityExp, "opacity=" + ((val * 100) >> 0)); //we round the value because otherwise, bugs in IE7/8 can prevent "visibility" changes from being applied properly.
/*  677 */  						}
/*  678 */  					}
/*  679 */  					pt = pt._next;
/*  680 */  				}
/*  681 */  
/*  682 */  			//if the tween is reversed all the way back to the beginning, we need to restore the original values which may have different units (like % instead of px or em or whatever).
/*  683 */  			} else {
/*  684 */  				while (pt) {
/*  685 */  					pt.t[pt.p] = pt.b;
/*  686 */  					if (pt.type === 4) if (pt.s === 1) { //for older versions of IE that need to use a filter to apply opacity, we should remove the filter if opacity hits 1 in order to improve performance.
/*  687 */  						this._style.removeAttribute("filter");
/*  688 */  						if (_getStyle(this._target, "filter")) { //if a class is applied that has an alpha filter, it will take effect (we don't want that), so re-apply our alpha filter in that case. We must first remove it and then check.
/*  689 */  							pt.t[pt.p] = pt.b;
/*  690 */  						}
/*  691 */  					}
/*  692 */  					pt = pt._next;
/*  693 */  				}
/*  694 */  			}
/*  695 */  
/*  696 */  			//apply transform values like x, y, scaleX, scaleY, rotation, skewX, or skewY. We do these after looping through all the PropTweens because those are where the changes are made to scaleX/scaleY/rotation/skewX/skewY/x/y.
/*  697 */  			if (this._transform) {
/*  698 */  				pt = this._transform; //to improve speed and reduce size, reuse the pt variable as an alias to the _transform property
/*  699 */  				//if there is no rotation or skew, browsers render the transform faster if we just feed it the list of transforms like translate() skewX() scale(), otherwise defining the matrix() values directly is fastest.
/*  700 */  				if (_transformProp && !pt.rotation && !pt.skewX) {
/*  701 */  					this._style[_transformProp] = ((pt.x || pt.y) ? "translate(" + pt.x + "px," + pt.y + "px) " : "") + ((pt.scaleX !== 1 || pt.scaleY !== 1) ? "scale(" + pt.scaleX + "," + (Math.cos(pt.skewX) * pt.scaleY) + ")" : "") || "translate(0px,0px)"; //we need to default to translate(0px,0px) to work around a Chrome bug that rears its ugly head when the transform is set to "".
/*  702 */  				} else {
/*  703 */  					var ang = _transformProp ? pt.rotation : -pt.rotation,
/*  704 */  						skew = _transformProp ? ang - pt.skewX : ang + pt.skewX,
/*  705 */  						a = Math.cos(ang) * pt.scaleX,
/*  706 */  						b = Math.sin(ang) * pt.scaleX,
/*  707 */  						c = Math.sin(skew) * -pt.scaleY,
/*  708 */  						d = Math.cos(skew) * pt.scaleY,
/*  709 */  						cs;
/*  710 */  					//some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the "e-" towards the end) and would render the object slightly off. So we round to 0 in these cases for both b and c. The conditional logic here is faster than calling Math.abs().
/*  711 */  					if (b < min) if (b > -min) {
/*  712 */  						b = 0;
/*  713 */  					}
/*  714 */  					if (c < min) if (c > -min) {
/*  715 */  						c = 0;
/*  716 */  					}
/*  717 */  					if (_transformProp) {
/*  718 */  						this._style[_transformProp] = "matrix(" + a + "," + b + "," + c + "," + d + "," + pt.x + "," + pt.y + ")";
/*  719 */  
/*  720 */  					//only for older versions of IE (6-8), we use a filter and marginLeft/marginTop to simulate the transform.
/*  721 */  					} else if ((cs = this._target.currentStyle)) {
/*  722 */  						min = b; //just for swapping the variables an inverting them (reused "min" to avoid creating another variable in memory). IE's filter matrix uses a non-standard matrix configuration (angle goes the opposite way, and b and c are reversed and inverted)
/*  723 */  						b = -c;
/*  724 */  						c = -min;
/*  725 */  						var filters = this._style.filter;
/*  726 */  						this._style.filter = ""; //remove filters so that we can accurately measure offsetWidth/offsetHeight
/*  727 */  						var w = this._target.offsetWidth,
/*  728 */  							h = this._target.offsetHeight,
/*  729 */  							clip = (cs.position !== "absolute"),
/*  730 */  							m = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + b + ", M21=" + c + ", M22=" + d,
/*  731 */  							ox = pt.x,
/*  732 */  							oy = pt.y,
/*  733 */  							dx, dy;
/*  734 */  
/*  735 */  						//if transformOrigin is being used, adjust the offset x and y
/*  736 */  						if (pt.ox != null) {
/*  737 */  							dx = ((pt.oxp) ? w * pt.ox * 0.01 : pt.ox) - w / 2;
/*  738 */  							dy = ((pt.oyp) ? h * pt.oy * 0.01 : pt.oy) - h / 2;
/*  739 */  							ox = dx - (dx * a + dy * b) + pt.x;
/*  740 */  							oy = dy - (dx * c + dy * d) + pt.y;
/*  741 */  						}
/*  742 */  
/*  743 */  						if (!clip) {
/*  744 */  							var mult = (_ieVers < 8) ? 1 : -1, //in Internet Explorer 7 and before, the box model is broken, causing the browser to treat the width/height of the actual rotated filtered image as the width/height of the box itself, but Microsoft corrected that in IE8. We must use a negative offset in IE8 on the right/bottom
/*  745 */  								i, marg, prop, dif;
/*  746 */  							dx = pt.ieOffsetX || 0;
/*  747 */  							dy = pt.ieOffsetY || 0;
/*  748 */  							pt.ieOffsetX = Math.round((w - ((a < 0 ? -a : a) * w + (b < 0 ? -b : b) * h)) / 2 + ox);
/*  749 */  							pt.ieOffsetY = Math.round((h - ((d < 0 ? -d : d) * h + (c < 0 ? -c : c) * w)) / 2 + oy);
/*  750 */  							for (i = 0; i < 4; i++) {
/*  751 */  								prop = _margins[i];
/*  752 */  								marg = cs[prop];
/*  753 */  								//we need to get the current margin in case it is being tweened separately (we want to respect that tween's changes)
/*  754 */  								val = (marg.indexOf("px") !== -1) ? parseFloat(marg) : _convertToPixels(this._target, prop, parseFloat(marg), marg.replace(_suffixExp, "")) || 0;
/*  755 */  								//PREVIOUS code: (didn't take into consideration negative right/bottom margins for broken box model in certain versions of IE or concurrent tweens of the margins): this._style[prop] = Math.round( (val - ((i < 2) ? dx - pt.ieOffsetX : dy - pt.ieOffsetY)) ) + "px";
/*  756 */  								if (val !== pt[prop]) {
/*  757 */  									dif = (i < 2) ? -pt.ieOffsetX : -pt.ieOffsetY; //if another tween is controlling a margin, we cannot only apply the difference in the ieOffsets, so we essentially zero-out the dx and dy here in that case. We record the margin(s) later so that we can keep comparing them, making this code very flexible.
/*  758 */  								} else {
/*  759 */  									dif = (i < 2) ? dx - pt.ieOffsetX : dy - pt.ieOffsetY;
/*  760 */  								}
/*  761 */  								this._style[prop] = (pt[prop] = Math.round( val - dif * ((i === 0 || i === 2) ? 1 : mult) )) + "px";
/*  762 */  							}
/*  763 */  							m += ", sizingMethod='auto expand')";
/*  764 */  						} else {
/*  765 */  							dx = (w / 2),
/*  766 */  							dy = (h / 2);
/*  767 */  							//translate to ensure that transformations occur around the correct origin (default is center).
/*  768 */  							m += ", Dx=" + (dx - (dx * a + dy * b) + ox) + ", Dy=" + (dy - (dx * c + dy * d) + oy) + ")";
/*  769 */  						}
/*  770 */  
/*  771 */  						if (filters.indexOf("progid:DXImageTransform.Microsoft.Matrix(") !== -1) {
/*  772 */  							this._style.filter = filters.replace(_ieSetMatrixExp, m);
/*  773 */  						} else {
/*  774 */  							this._style.filter = filters + " " + m;
/*  775 */  						}
/*  776 */  
/*  777 */  						//at the end or beginning of the tween, if the matrix is normal (1, 0, 0, 1) and opacity is 100 (or doesn't exist), remove the filter to improve browser performance.
/*  778 */  						if (v === 0 || v === 1) if (a === 1) if (b === 0) if (c === 0) if (d === 1) if (!clip || m.indexOf("Dx=0, Dy=0") !== -1) if (!_opacityExp.test(filters) || parseFloat(RegExp.$1) === 100) {
/*  779 */  							this._style.removeAttribute("filter");
/*  780 */  						}
/*  781 */  					}
/*  782 */  				}
/*  783 */  			}
/*  784 */  
/*  785 */  			//if we're adding/changing a class, we should do so at the END of the tween, and drop any of the associated properties that are in the target.style object in order to preserve proper cascading.
/*  786 */  			if (this._classData) {
/*  787 */  				pt = this._classData; //speeds things up slightly and helps minification
/*  788 */  				if (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {
/*  789 */  					var i = pt.props.length;
/*  790 */  					while (--i > -1) {
/*  791 */  						this._style[pt.props[i]] = "";
/*  792 */  					}
/*  793 */  					this._target.className = pt.e;
/*  794 */  				} else if (this._target.className !== pt.b) {
/*  795 */  					this._target.className = pt.b;
/*  796 */  				}
/*  797 */  			}
/*  798 */  		}
/*  799 */  
/*  800 */  		//we need to make sure that if alpha or autoAlpha is killed, opacity is too. And autoAlpha affects the "visibility" property.
/*  801 */  		p._kill = function(lookup) {
/*  802 */  			var copy = lookup, p;
/*  803 */  			if (lookup.autoAlpha || lookup.alpha) {
/*  804 */  				copy = {};
/*  805 */  				for (p in lookup) { //copy the lookup so that we're not changing the original which may be passed elsewhere.
/*  806 */  					copy[p] = lookup[p];
/*  807 */  				}
/*  808 */  				copy.opacity = 1;
/*  809 */  				if (copy.autoAlpha) {
/*  810 */  					copy.visibility = 1;
/*  811 */  				}
/*  812 */  			}
/*  813 */  			return TweenPlugin.prototype._kill.call(this, copy);
/*  814 */  		}
/*  815 */  
/*  816 */  
/*  817 */  		TweenPlugin.activate([CSSPlugin]);
/*  818 */  		return CSSPlugin;
/*  819 */  
/*  820 */  	}, true);
/*  821 */  
/*  822 */  }); if (window._gsDefine) { _gsQueue.pop()(); }

/**
 * js/vendor/greensock/TweenLite.js
 */

/*    0 */  /*!
      1      * VERSION: beta 1.28
      2      * DATE: 2012-06-19
      3      * JavaScript (ActionScript 3 and 2 also available)
      4      * UPDATES AND DOCS AT: http://www.greensock.com
      5      *
      6      * Copyright (c) 2008-2012, GreenSock. All rights reserved.
      7      * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for
      8      * corporate Club GreenSock members, the software agreement that was issued with the corporate
      9      * membership.
     10      *
     11      * @author: Jack Doyle, jack@greensock.com
     12      */
/*   13 */  ;(function(window) {
/*   14 */  
/*   15 */  		"use strict";
/*   16 */  		var _namespace = function(ns) {
/*   17 */  				var a = ns.split("."),
/*   18 */  					p = window, i;
/*   19 */  				for (i = 0; i < a.length; i++) {
/*   20 */  					p[a[i]] = p = p[a[i]] || {};
/*   21 */  				}
/*   22 */  				return p;
/*   23 */  			},
/*   24 */  			gs = _namespace("com.greensock"),
/*   25 */  			a, i, e, e2, p,
/*   26 */  			_classLookup = {},
/*   27 */  
/*   28 */  			//_DepClass is for defining a dependent class. ns = namespace (leaving off "com.greensock." as that's assumed), dep = an array of namespaces that are required, def = the function that will return the class definition (this function will be passed each dependency in order as soon as they arrive), global = if true, the class is added to the global scope (window) or if requirejs is being used, it will tap into that instead.
/*   29 */  			_DepClass = function(ns, dep, def, global) {
/*   30 */  				this.sc = (_classLookup[ns]) ? _classLookup[ns].sc : []; //subclasses
/*   31 */  				_classLookup[ns] = this;
/*   32 */  				this.gsClass = null;
/*   33 */  				this.def = def;
/*   34 */  				var _dep = dep || [],
/*   35 */  					_classes = [];
/*   36 */  				this.check = function(init) {
/*   37 */  					var i = _dep.length, cnt = 0, cur;
/*   38 */  					while (--i > -1) {
/*   39 */  						if ((cur = _classLookup[_dep[i]] || new _DepClass(_dep[i])).gsClass) {
/*   40 */  							_classes[i] = cur.gsClass;
/*   41 */  						} else {
/*   42 */  							cnt++;
/*   43 */  							if (init) {
/*   44 */  								cur.sc.push(this);
/*   45 */  							}
/*   46 */  						}
/*   47 */  					}
/*   48 */  					if (cnt === 0 && def) {
/*   49 */  						var a = ("com.greensock." + ns).split("."),
/*   50 */  							n = a.pop(),
/*   51 */  							cl = _namespace(a.join("."))[n] = this.gsClass = def.apply(def, _classes);
/*   52 */  
/*   53 */  						//exports to multiple environments
/*   54 */  						if (global) {
/*   55 */  							(window.GreenSockGlobals || window)[n] = cl; //provides a way to avoid global namespace pollution. By default, the main classes like TweenLite, Power1, Strong, etc. are added to window unless a GreenSockGlobals is defined. So if you want to have things added to a custom object instead, just do something like window.GreenSockGlobals = {} before loading any GreenSock files. You can even set up an alias like window.GreenSockGlobals = windows.gs = {} so that you can access everything like gs.TweenLite. Also remember that ALL classes are added to the window.com.greensock object (in their respective packages, like com.greensock.easing.Power1, com.greensock.TweenLite, etc.)
/*   56 */  							if (typeof(define) === "function" && define.amd){ //AMD
/*   57 */  								define((window.GreenSockAMDPath ? window.GreenSockAMDPath + "/" : "") + ns.split(".").join("/"), [], function() { return cl; });
/*   58 */  							} else if (typeof(module) !== "undefined" && module.exports){ //node
/*   59 */  								module.exports = cl;
/*   60 */  							}
/*   61 */  						}
/*   62 */  
/*   63 */  						for (i = 0; i < this.sc.length; i++) {
/*   64 */  							this.sc[i].check(false);
/*   65 */  						}
/*   66 */  
/*   67 */  					}
/*   68 */  				};
/*   69 */  				this.check(true);
/*   70 */  			},
/*   71 */  			//a quick way to create a class that doesn't have any dependencies. Returns the class, but first registers it in the GreenSock namespace so that other classes can grab it (other classes might be dependent on the class).
/*   72 */  			_class = gs._class = function(ns, f, g) {
/*   73 */  				new _DepClass(ns, [], function(){ return f; }, g);
/*   74 */  				return f;
/*   75 */  			};
/*   76 */  
/*   77 */  		//used to create _DepClass instances (which basically registers a class that has dependencies). ns = namespace, dep = dependencies (array), f = initialization function which should return the class, g = global (whether or not the class should be added to the global namespace (or if RequireJS is used, it will be defined as a named module instead)
/*   78 */  		window._gsDefine = function(ns, dep, f, g) {
/*   79 */  			return new _DepClass(ns, dep, f, g);
/*   80 */  		};
/*   81 */  
/*   82 */  
/*   83 */  
/*   84 */  /*
     85      * ----------------------------------------------------------------
     86      * Ease
     87      * ----------------------------------------------------------------
     88      */
/*   89 */  		var _baseParams = [0, 0, 1, 1],
/*   90 */  			_blankArray = [],
/*   91 */  			Ease = _class("easing.Ease", function(func, extraParams, type, power) {
/*   92 */  				this._func = func;
/*   93 */  				this._type = type || 0;
/*   94 */  				this._power = power || 0;
/*   95 */  				this._params = extraParams ? _baseParams.concat(extraParams) : _baseParams;
/*   96 */  			}, true);
/*   97 */  
/*   98 */  		p = Ease.prototype;
/*   99 */  		p._calcEnd = false;
/*  100 */  		p.getRatio = function(p) {
/*  101 */  			if (this._func) {
/*  102 */  				this._params[0] = p;
/*  103 */  				return this._func.apply(null, this._params);
/*  104 */  			} else {
/*  105 */  				var t = this._type,
/*  106 */  					pw = this._power,
/*  107 */  					r = (t === 1) ? 1 - p : (t === 2) ? p : (p < 0.5) ? p * 2 : (1 - p) * 2;
/*  108 */  				if (pw === 1) {
/*  109 */  					r *= r;
/*  110 */  				} else if (pw === 2) {
/*  111 */  					r *= r * r;
/*  112 */  				} else if (pw === 3) {
/*  113 */  					r *= r * r * r;
/*  114 */  				} else if (pw === 4) {
/*  115 */  					r *= r * r * r * r;
/*  116 */  				}
/*  117 */  				return (t === 1) ? 1 - r : (t === 2) ? r : (p < 0.5) ? r / 2 : 1 - (r / 2);
/*  118 */  			}
/*  119 */  		};
/*  120 */  
/*  121 */  		//create all the standard eases like Linear, Quad, Cubic, Quart, Quint, Strong, Power0, Power1, Power2, Power3, and Power4 (each with easeIn, easeOut, and easeInOut)
/*  122 */  		a = ["Linear","Quad","Cubic","Quart","Quint"];
/*  123 */  		i = a.length;
/*  124 */  		while(--i > -1) {
/*  125 */  			e = _class("easing." + a[i], function(){}, true);
/*  126 */  			e2 = _class("easing.Power" + i, function(){}, true);
/*  127 */  			e.easeOut = e2.easeOut = new Ease(null, null, 1, i);
/*  128 */  			e.easeIn = e2.easeIn = new Ease(null, null, 2, i);
/*  129 */  			e.easeInOut = e2.easeInOut = new Ease(null, null, 3, i);
/*  130 */  		}
/*  131 */  		_class("easing.Strong", gs.easing.Power4, true);
/*  132 */  		gs.easing.Linear.easeNone = gs.easing.Linear.easeIn;
/*  133 */  
/*  134 */  
/*  135 */  /*
    136      * ----------------------------------------------------------------
    137      * EventDispatcher
    138      * ----------------------------------------------------------------
    139      */
/*  140 */  		p = _class("events.EventDispatcher", function(target) {
/*  141 */  			this._listeners = {};
/*  142 */  			this._eventTarget = target || this;
/*  143 */  		}).prototype;
/*  144 */  
/*  145 */  		p.addEventListener = function(type, callback, scope, useParam, priority) {
/*  146 */  			priority = priority || 0;
/*  147 */  			var list = this._listeners[type],
/*  148 */  				index = 0,
/*  149 */  				listener, i;
/*  150 */  			if (list == null) {
/*  151 */  				this._listeners[type] = list = [];
/*  152 */  			}
/*  153 */  			i = list.length;
/*  154 */  			while (--i > -1) {
/*  155 */  				listener = list[i];
/*  156 */  				if (listener.c === callback) {
/*  157 */  					list.splice(i, 1);
/*  158 */  				} else if (index === 0 && listener.pr < priority) {
/*  159 */  					index = i + 1;
/*  160 */  				}
/*  161 */  			}
/*  162 */  			list.splice(index, 0, {c:callback, s:scope, up:useParam, pr:priority});
/*  163 */  		};
/*  164 */  
/*  165 */  		p.removeEventListener = function(type, callback) {
/*  166 */  			var list = this._listeners[type];
/*  167 */  			if (list) {
/*  168 */  				var i = list.length;
/*  169 */  				while (--i > -1) {
/*  170 */  					if (list[i].c === callback) {
/*  171 */  						list.splice(i, 1);
/*  172 */  						return;
/*  173 */  					}
/*  174 */  				}
/*  175 */  			}
/*  176 */  		};
/*  177 */  
/*  178 */  		p.dispatchEvent = function(type) {
/*  179 */  			var list = this._listeners[type];
/*  180 */  			if (list) {
/*  181 */  				var i = list.length, listener,
/*  182 */  					t = this._eventTarget;
/*  183 */  				while (--i > -1) {
/*  184 */  					listener = list[i];
/*  185 */  					if (listener.up) {
/*  186 */  						listener.c.call(listener.s || t, {type:type, target:t});
/*  187 */  					} else {
/*  188 */  						listener.c.call(listener.s || t);
/*  189 */  					}
/*  190 */  				}
/*  191 */  			}
/*  192 */  		};
/*  193 */  
/*  194 */  
/*  195 */  /*
    196      * ----------------------------------------------------------------
    197      * Ticker
    198      * ----------------------------------------------------------------
    199      */
/*  200 */   		var _reqAnimFrame = window.requestAnimationFrame,
/*  201 */  			_cancelAnimFrame = window.cancelAnimationFrame,
/*  202 */  			_getTime = Date.now || function() {return new Date().getTime();};
/*  203 */  
/*  204 */  		//now try to determine the requestAnimationFrame and cancelAnimationFrame functions and if none are found, we'll use a setTimeout()/clearTimeout() polyfill.
/*  205 */  		a = ["ms","moz","webkit","o"];
/*  206 */  		i = a.length;
/*  207 */  		while (--i > -1 && !_reqAnimFrame) {
/*  208 */  			_reqAnimFrame = window[a[i] + "RequestAnimationFrame"];
/*  209 */  			_cancelAnimFrame = window[a[i] + "CancelAnimationFrame"] || window[a[i] + "CancelRequestAnimationFrame"];
/*  210 */  		}
/*  211 */  		if (!_cancelAnimFrame) {
/*  212 */  			_cancelAnimFrame = function(id) {
/*  213 */  				window.clearTimeout(id);
/*  214 */  			}
/*  215 */  		}
/*  216 */  
/*  217 */  		_class("Ticker", function(fps, useRAF) {
/*  218 */  			this.time = 0;
/*  219 */  			this.frame = 0;
/*  220 */  			var _self = this,
/*  221 */  				_startTime = _getTime(),
/*  222 */  				_useRAF = (useRAF !== false),
/*  223 */  				_fps, _req, _id, _gap, _nextTime;
/*  224 */  
/*  225 */  			this.tick = function() {
/*  226 */  				_self.time = (_getTime() - _startTime) / 1000;
/*  227 */  				if (!_fps || _self.time >= _nextTime) {
/*  228 */  					_self.frame++;
/*  229 */  					_nextTime = _self.time + _gap - (_self.time - _nextTime) - 0.0005;
/*  230 */  					if (_nextTime <= _self.time) {
/*  231 */  						_nextTime = _self.time + 0.001;
/*  232 */  					}
/*  233 */  					_self.dispatchEvent("tick");
/*  234 */  				}
/*  235 */  				_id = _req( _self.tick );
/*  236 */  			};
/*  237 */  
/*  238 */  			this.fps = function(value) {
/*  239 */  				if (!arguments.length) {
/*  240 */  					return _fps;
/*  241 */  				}
/*  242 */  				_fps = value;
/*  243 */  				_gap = 1 / (_fps || 60);
/*  244 */  				_nextTime = this.time + _gap;
/*  245 */  				_req = (_fps === 0) ? function(f){} : (!_useRAF || !_reqAnimFrame) ? function(f) { return window.setTimeout( f, (((_nextTime - _self.time) * 1000 + 1) >> 0) || 1);	} : _reqAnimFrame;
/*  246 */  				_cancelAnimFrame(_id);
/*  247 */  				_id = _req( _self.tick );
/*  248 */  			};
/*  249 */  
/*  250 */  			this.useRAF = function(value) {
/*  251 */  				if (!arguments.length) {
/*  252 */  					return _useRAF
/*  253 */  				}
/*  254 */  				_useRAF = value;
/*  255 */  				this.fps(_fps);
/*  256 */  			};
/*  257 */  
/*  258 */  			this.fps(fps);
/*  259 */  		});
/*  260 */  
/*  261 */  		p = gs.Ticker.prototype = new gs.events.EventDispatcher();
/*  262 */  		p.constructor = gs.Ticker;
/*  263 */  
/*  264 */  
/*  265 */  /*
    266      * ----------------------------------------------------------------
    267      * Animation
    268      * ----------------------------------------------------------------
    269      */
/*  270 */  		var Animation = _class("core.Animation", function(duration, vars) {
/*  271 */  				this.vars = vars || {};
/*  272 */  				this._duration = this._totalDuration = duration || 0;
/*  273 */  				this._delay = Number(this.vars.delay) || 0;
/*  274 */  				this._timeScale = 1;
/*  275 */  				this._active = (this.vars.immediateRender == true);
/*  276 */  				this.data = this.vars.data;
/*  277 */  				this._reversed = (this.vars.reversed == true);
/*  278 */  
/*  279 */  				if (!_rootTimeline) {
/*  280 */  					return;
/*  281 */  				}
/*  282 */  
/*  283 */  				var tl = this.vars.useFrames ? _rootFramesTimeline : _rootTimeline;
/*  284 */  				tl.insert(this, tl._time);
/*  285 */  
/*  286 */  				if (this.vars.paused) {
/*  287 */  					this.paused(true);
/*  288 */  				}
/*  289 */  			}),
/*  290 */  			_ticker = Animation.ticker = new gs.Ticker();
/*  291 */  
/*  292 */  		p = Animation.prototype;
/*  293 */  		p._dirty = p._gc = p._initted = p._paused = false;
/*  294 */  		p._totalTime = p._time = 0;
/*  295 */  		p._rawPrevTime = -1;
/*  296 */  		p._next = p._last = p._onUpdate = p._timeline = p.timeline = null;
/*  297 */  		p._paused = false;
/*  298 */  
/*  299 */  		p.play = function(from, suppressEvents) {
/*  300 */  			if (arguments.length) {
/*  301 */  				this.seek(from, suppressEvents);
/*  302 */  			}
/*  303 */  			this.reversed(false);
/*  304 */  			return this.paused(false);
/*  305 */  		};
/*  306 */  
/*  307 */  		p.pause = function(atTime, suppressEvents) {
/*  308 */  			if (arguments.length) {
/*  309 */  				this.seek(atTime, suppressEvents);
/*  310 */  			}
/*  311 */  			return this.paused(true);
/*  312 */  		};
/*  313 */  
/*  314 */  		p.resume = function(from, suppressEvents) {
/*  315 */  			if (arguments.length) {
/*  316 */  				this.seek(from, suppressEvents);
/*  317 */  			}
/*  318 */  			return this.paused(false);
/*  319 */  		};
/*  320 */  
/*  321 */  		p.seek = function(time, suppressEvents) {
/*  322 */  			return this.totalTime(Number(time), (suppressEvents != false));
/*  323 */  		};
/*  324 */  
/*  325 */  		p.restart = function(includeDelay, suppressEvents) {
/*  326 */  			this.reversed(false);
/*  327 */  			this.paused(false);
/*  328 */  			return this.totalTime((includeDelay) ? -this._delay : 0, (suppressEvents != false));
/*  329 */  		};
/*  330 */  
/*  331 */  		p.reverse = function(from, suppressEvents) {
/*  332 */  			if (arguments.length) {
/*  333 */  				this.seek((from || this.totalDuration()), suppressEvents);
/*  334 */  			}
/*  335 */  			this.reversed(true);
/*  336 */  			return this.paused(false);
/*  337 */  		};
/*  338 */  
/*  339 */  		p.render = function() {
/*  340 */  
/*  341 */  		};
/*  342 */  
/*  343 */  		p.invalidate = function() {
/*  344 */  			return this;
/*  345 */  		};
/*  346 */  
/*  347 */  		p._enabled = function (enabled, ignoreTimeline) {
/*  348 */  			this._gc = !enabled;
/*  349 */  			this._active = (enabled && !this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration);
/*  350 */  			if (ignoreTimeline != true) {
/*  351 */  				if (enabled && this.timeline == null) {
/*  352 */  					this._timeline.insert(this, this._startTime - this._delay);
/*  353 */  				} else if (!enabled && this.timeline != null) {
/*  354 */  					this._timeline._remove(this, true);
/*  355 */  				}
/*  356 */  			}
/*  357 */  			return false;
/*  358 */  		};
/*  359 */  
/*  360 */  
/*  361 */  		p._kill = function(vars, target) {
/*  362 */  			return this._enabled(false, false);
/*  363 */  		};
/*  364 */  
/*  365 */  		p.kill = function(vars, target) {
/*  366 */  			this._kill(vars, target);
/*  367 */  			return this;
/*  368 */  		};
/*  369 */  
/*  370 */  		p._uncache = function(includeSelf) {
/*  371 */  			var tween = includeSelf ? this : this.timeline;
/*  372 */  			while (tween) {
/*  373 */  				tween._dirty = true;
/*  374 */  				tween = tween.timeline;
/*  375 */  			}
/*  376 */  			return this;
/*  377 */  		};
/*  378 */  
/*  379 */  //----Animation getters/setters --------------------------------------------------------
/*  380 */  
/*  381 */  		p.eventCallback = function(type, callback, params, scope) {
/*  382 */  			if (type == null) {
/*  383 */  				return null;
/*  384 */  			} else if (type.substr(0,2) === "on") {
/*  385 */  				if (arguments.length === 1) {
/*  386 */  					return this.vars[type];
/*  387 */  				}
/*  388 */  				if (callback == null) {
/*  389 */  					delete this.vars[type];
/*  390 */  				} else {
/*  391 */  					this.vars[type] = callback;
/*  392 */  					this.vars[type + "Params"] = params;
/*  393 */  					this.vars[type + "Scope"] = scope;
/*  394 */  					if (params) {
/*  395 */  						var i = params.length;
/*  396 */  						while (--i > -1) {
/*  397 */  							if (params[i] === "{self}") {
/*  398 */  								params = this.vars[type + "Params"] = params.concat(); //copying the array avoids situations where the same array is passed to multiple tweens/timelines and {self} doesn't correctly point to each individual instance.
/*  399 */  								params[i] = this;
/*  400 */  							}
/*  401 */  						}
/*  402 */  					}
/*  403 */  				}
/*  404 */  				if (type === "onUpdate") {
/*  405 */  					this._onUpdate = callback;
/*  406 */  				}
/*  407 */  			}
/*  408 */  			return this;
/*  409 */  		}
/*  410 */  
/*  411 */  		p.delay = function(value) {
/*  412 */  			if (!arguments.length) {
/*  413 */  				return this._delay;
/*  414 */  			}
/*  415 */  			if (this._timeline.smoothChildTiming) {
/*  416 */  				this.startTime( this._startTime + value - this._delay );
/*  417 */  			}
/*  418 */  			this._delay = value;
/*  419 */  			return this;
/*  420 */  		};
/*  421 */  
/*  422 */  		p.duration = function(value) {
/*  423 */  			if (!arguments.length) {
/*  424 */  				this._dirty = false;
/*  425 */  				return this._duration;
/*  426 */  			}
/*  427 */  			this._duration = this._totalDuration = value;
/*  428 */  			this._uncache(true); //true in case it's a TweenMax or TimelineMax that has a repeat - we'll need to refresh the totalDuration.
/*  429 */  			if (this._timeline.smoothChildTiming) if (this._active) if (value != 0) {
/*  430 */  				this.totalTime(this._totalTime * (value / this._duration), true);
/*  431 */  			}
/*  432 */  			return this;
/*  433 */  		};
/*  434 */  
/*  435 */  		p.totalDuration = function(value) {
/*  436 */  			this._dirty = false;
/*  437 */  			return (!arguments.length) ? this._totalDuration : this.duration(value);
/*  438 */  		};
/*  439 */  
/*  440 */  		p.time = function(value, suppressEvents) {
/*  441 */  			if (!arguments.length) {
/*  442 */  				return this._time;
/*  443 */  			}
/*  444 */  			if (this._dirty) {
/*  445 */  				this.totalDuration();
/*  446 */  			}
/*  447 */  			if (value > this._duration) {
/*  448 */  				value = this._duration;
/*  449 */  			}
/*  450 */  			return this.totalTime(value, suppressEvents);
/*  451 */  		};
/*  452 */  
/*  453 */  		p.totalTime = function(time, suppressEvents) {
/*  454 */  			if (!arguments.length) {
/*  455 */  				return this._totalTime;
/*  456 */  			}
/*  457 */  			if (this._timeline) {
/*  458 */  				if (time < 0) {
/*  459 */  					time += this.totalDuration();
/*  460 */  				}
/*  461 */  				if (this._timeline.smoothChildTiming) {
/*  462 */  					if (this._dirty) {
/*  463 */  						this.totalDuration();
/*  464 */  					}
/*  465 */  					if (time > this._totalDuration) {
/*  466 */  						time = this._totalDuration;
/*  467 */  					}
/*  468 */  					this._startTime = (this._paused ? this._pauseTime : this._timeline._time) - ((!this._reversed ? time : this._totalDuration - time) / this._timeScale);
/*  469 */  					if (!this._timeline._dirty) { //for performance improvement. If the parent's cache is already dirty, it already took care of marking the anscestors as dirty too, so skip the function call here.
/*  470 */  						this._uncache(false);
/*  471 */  					}
/*  472 */  					if (!this._timeline._active) {
/*  473 */  						//in case any of the anscestors had completed but should now be enabled...
/*  474 */  						var tl = this._timeline;
/*  475 */  						while (tl._timeline) {
/*  476 */  							tl.totalTime(tl._totalTime, true);
/*  477 */  							tl = tl._timeline;
/*  478 */  						}
/*  479 */  					}
/*  480 */  				}
/*  481 */  				if (this._gc) {
/*  482 */  					this._enabled(true, false);
/*  483 */  				}
/*  484 */  				if (this._totalTime != time) {
/*  485 */  					this.render(time, suppressEvents, false);
/*  486 */  				}
/*  487 */  			}
/*  488 */  			return this;
/*  489 */  		};
/*  490 */  
/*  491 */  		p.startTime = function(value) {
/*  492 */  			if (!arguments.length) {
/*  493 */  				return this._startTime;
/*  494 */  			}
/*  495 */  			if (value != this._startTime) {
/*  496 */  				this._startTime = value;
/*  497 */  				if (this.timeline) if (this.timeline._sortChildren) {
/*  498 */  					this.timeline.insert(this, value - this._delay); //ensures that any necessary re-sequencing of Animations in the timeline occurs to make sure the rendering order is correct.
/*  499 */  				}
/*  500 */  			}
/*  501 */  			return this;
/*  502 */  		};
/*  503 */  
/*  504 */  		p.timeScale = function(value) {
/*  505 */  			if (!arguments.length) {
/*  506 */  				return this._timeScale;
/*  507 */  			}
/*  508 */  			value = value || 0.000001; //can't allow zero because it'll throw the math off
/*  509 */  			if (this._timeline && this._timeline.smoothChildTiming) {
/*  510 */  				var t = (this._pauseTime || this._pauseTime == 0) ? this._pauseTime : this._timeline._totalTime;
/*  511 */  				this._startTime = t - ((t - this._startTime) * this._timeScale / value);
/*  512 */  			}
/*  513 */  			this._timeScale = value;
/*  514 */  			return this._uncache(false);
/*  515 */  		};
/*  516 */  
/*  517 */  		p.reversed = function(value) {
/*  518 */  			if (!arguments.length) {
/*  519 */  				return this._reversed;
/*  520 */  			}
/*  521 */  			if (value != this._reversed) {
/*  522 */  				this._reversed = value;
/*  523 */  				this.totalTime(this._totalTime, true);
/*  524 */  			}
/*  525 */  			return this;
/*  526 */  		};
/*  527 */  
/*  528 */  		p.paused = function(value) {
/*  529 */  			if (!arguments.length) {
/*  530 */  				return this._paused;
/*  531 */  			}
/*  532 */  			if (value != this._paused) if (this._timeline) {
/*  533 */  				if (!value && this._timeline.smoothChildTiming) {
/*  534 */  					this._startTime += this._timeline.rawTime() - this._pauseTime;
/*  535 */  					this._uncache(false);
/*  536 */  				}
/*  537 */  				this._pauseTime = (value) ? this._timeline.rawTime() : null;
/*  538 */  				this._paused = value;
/*  539 */  				this._active = (!this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration);
/*  540 */  			}
/*  541 */  			if (this._gc) if (!value) {
/*  542 */  				this._enabled(true, false);
/*  543 */  			}
/*  544 */  			return this;
/*  545 */  		};
/*  546 */  
/*  547 */  
/*  548 */  /*
    549      * ----------------------------------------------------------------
    550      * SimpleTimeline
    551      * ----------------------------------------------------------------
    552      */
/*  553 */  		var SimpleTimeline = _class("core.SimpleTimeline", function(vars) {
/*  554 */  			Animation.call(this, 0, vars);
/*  555 */  			this.autoRemoveChildren = this.smoothChildTiming = true;
/*  556 */  		});
/*  557 */  
/*  558 */  		p = SimpleTimeline.prototype = new Animation();
/*  559 */  		p.constructor = SimpleTimeline;
/*  560 */  		p.kill()._gc = false;
/*  561 */  		p._first = p._last = null;
/*  562 */  		p._sortChildren = false;
/*  563 */  
/*  564 */  		p.insert = function(tween, time) {
/*  565 */  			tween._startTime = Number(time || 0) + tween._delay;
/*  566 */  			if (tween._paused) if (this !== tween._timeline) { //we only adjust the _pauseTime if it wasn't in this timeline already. Remember, sometimes a tween will be inserted again into the same timeline when its startTime is changed so that the tweens in the TimelineLite/Max are re-ordered properly in the linked list (so everything renders in the proper order).
/*  567 */  				tween._pauseTime = tween._startTime + ((this.rawTime() - tween._startTime) / tween._timeScale);
/*  568 */  			}
/*  569 */  			if (tween.timeline) {
/*  570 */  				tween.timeline._remove(tween, true); //removes from existing timeline so that it can be properly added to this one.
/*  571 */  			}
/*  572 */  			tween.timeline = tween._timeline = this;
/*  573 */  			if (tween._gc) {
/*  574 */  				tween._enabled(true, true);
/*  575 */  			}
/*  576 */  
/*  577 */  			var prevTween = this._last;
/*  578 */  			if (this._sortChildren) {
/*  579 */  				var st = tween._startTime;
/*  580 */  				while (prevTween && prevTween._startTime > st) {
/*  581 */  					prevTween = prevTween._prev;
/*  582 */  				}
/*  583 */  			}
/*  584 */  			if (prevTween) {
/*  585 */  				tween._next = prevTween._next;
/*  586 */  				prevTween._next = tween;
/*  587 */  			} else {
/*  588 */  				tween._next = this._first;
/*  589 */  				this._first = tween;
/*  590 */  			}
/*  591 */  			if (tween._next) {
/*  592 */  				tween._next._prev = tween;
/*  593 */  			} else {
/*  594 */  				this._last = tween;
/*  595 */  			}
/*  596 */  			tween._prev = prevTween;
/*  597 */  
/*  598 */  			if (this._timeline) {
/*  599 */  				this._uncache(true);
/*  600 */  			}
/*  601 */  			return this;
/*  602 */  		};
/*  603 */  
/*  604 */  		p._remove = function(tween, skipDisable) {
/*  605 */  			if (tween.timeline === this) {
/*  606 */  				if (!skipDisable) {
/*  607 */  					tween._enabled(false, true);
/*  608 */  				}
/*  609 */  				tween.timeline = null;
/*  610 */  
/*  611 */  				if (tween._prev) {
/*  612 */  					tween._prev._next = tween._next;
/*  613 */  				} else if (this._first === tween) {
/*  614 */  					this._first = tween._next;
/*  615 */  				}
/*  616 */  				if (tween._next) {
/*  617 */  					tween._next._prev = tween._prev;
/*  618 */  				} else if (this._last === tween) {
/*  619 */  					this._last = tween._prev;
/*  620 */  				}
/*  621 */  
/*  622 */  				if (this._timeline) {
/*  623 */  					this._uncache(true);
/*  624 */  				}
/*  625 */  			}
/*  626 */  			return this;
/*  627 */  		};
/*  628 */  
/*  629 */  		p.render = function(time, suppressEvents, force) {
/*  630 */  			var tween = this._first,
/*  631 */  				next;
/*  632 */  			this._totalTime = this._time = this._rawPrevTime = time;
/*  633 */  			while (tween) {
/*  634 */  				next = tween._next; //record it here because the value could change after rendering...
/*  635 */  				if (tween._active || (time >= tween._startTime && !tween._paused)) {
/*  636 */  					if (!tween._reversed) {
/*  637 */  						tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, false);
/*  638 */  					} else {
/*  639 */  						tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, false);
/*  640 */  					}
/*  641 */  				}
/*  642 */  				tween = next;
/*  643 */  			}
/*  644 */  		};
/*  645 */  
/*  646 */  		p.rawTime = function() {
/*  647 */  			return this._totalTime;
/*  648 */  		};
/*  649 */  
/*  650 */  
/*  651 */  /*
    652      * ----------------------------------------------------------------
    653      * TweenLite
    654      * ----------------------------------------------------------------
    655      */
/*  656 */  		var TweenLite = _class("TweenLite", function(target, duration, vars) {
/*  657 */  				Animation.call(this, duration, vars);
/*  658 */  
/*  659 */  				if (target == null) {
/*  660 */  					throw "Cannot tween an undefined reference.";
/*  661 */  				}
/*  662 */  				this.target = target;
/*  663 */  
/*  664 */  				this._overwrite = (this.vars.overwrite == null) ? _overwriteLookup[TweenLite.defaultOverwrite] : (typeof(this.vars.overwrite) === "number") ? this.vars.overwrite >> 0 : _overwriteLookup[this.vars.overwrite];
/*  665 */  
/*  666 */  				var jq, i, targ;
/*  667 */  				if ((target instanceof Array || target.jquery) && typeof(target[0]) === "object") {
/*  668 */  					this._targets = target.slice(0); //works for both jQuery and Array instances
/*  669 */  					this._propLookup = [];
/*  670 */  					this._siblings = [];
/*  671 */  					for (i = 0; i < this._targets.length; i++) {
/*  672 */  						targ = this._targets[i];
/*  673 */  						//in case the user is passing in an array of jQuery objects, for example, we need to check one more level and pull things out if necessary...
/*  674 */  						if (targ.jquery) {
/*  675 */  							this._targets.splice(i--, 1);
/*  676 */  							this._targets = this._targets.concat(targ.constructor.makeArray(targ));
/*  677 */  							continue;
/*  678 */  						}
/*  679 */  						this._siblings[i] = _register(targ, this, false);
/*  680 */  						if (this._overwrite === 1) if (this._siblings[i].length > 1) {
/*  681 */  							_applyOverwrite(targ, this, null, 1, this._siblings[i]);
/*  682 */  						}
/*  683 */  					}
/*  684 */  
/*  685 */  				} else {
/*  686 */  					this._propLookup = {};
/*  687 */  					this._siblings = _register(target, this, false);
/*  688 */  					if (this._overwrite === 1) if (this._siblings.length > 1) {
/*  689 */  						_applyOverwrite(target, this, null, 1, this._siblings);
/*  690 */  					}
/*  691 */  				}
/*  692 */  
/*  693 */  				if (this.vars.immediateRender || (duration === 0 && this._delay === 0 && this.vars.immediateRender != false)) {
/*  694 */  					this.render(-this._delay, false, true);
/*  695 */  				}
/*  696 */  			}, true);
/*  697 */  
/*  698 */  		p = TweenLite.prototype = new Animation();
/*  699 */  		p.constructor = TweenLite;
/*  700 */  		p.kill()._gc = false;
/*  701 */  
/*  702 */  //----TweenLite defaults, overwrite management, and root updates ----------------------------------------------------
/*  703 */  
/*  704 */  		p.ratio = 0;
/*  705 */  		p._firstPT = p._targets = p._overwrittenProps = null;
/*  706 */  		p._notifyPluginsOfEnabled = false;
/*  707 */  
/*  708 */  		TweenLite.version = 12;
/*  709 */  		TweenLite.defaultEase = p._ease = new Ease(null, null, 1, 1);
/*  710 */  		TweenLite.defaultOverwrite = "auto";
/*  711 */  		TweenLite.ticker = _ticker;
/*  712 */  
/*  713 */  		var _plugins = TweenLite._plugins = {},
/*  714 */  			_tweenLookup = {},
/*  715 */  			_tweenLookupNum = 0,
/*  716 */  			_reservedProps = {ease:1, delay:1, overwrite:1, onComplete:1, onCompleteParams:1, onCompleteScope:1, useFrames:1, runBackwards:1, startAt:1, onUpdate:1, onUpdateParams:1, onUpdateScope:1, onStart:1, onStartParams:1, onStartScope:1, onReverseComplete:1, onReverseCompleteParams:1, onReverseCompleteScope:1, onRepeat:1, onRepeatParams:1, onRepeatScope:1, easeParams:1, yoyo:1, orientToBezier:1, immediateRender:1, repeat:1, repeatDelay:1, data:1, paused:1, reversed:1},
/*  717 */  			_overwriteLookup = {none:0, all:1, auto:2, concurrent:3, allOnStart:4, preexisting:5, "true":1, "false":0},
/*  718 */  			_rootFramesTimeline = Animation._rootFramesTimeline = new SimpleTimeline(),
/*  719 */  			_rootTimeline = Animation._rootTimeline = new SimpleTimeline();
/*  720 */  
/*  721 */  		_rootTimeline._startTime = _ticker.time;
/*  722 */  		_rootFramesTimeline._startTime = _ticker.frame;
/*  723 */  		_rootTimeline._active = _rootFramesTimeline._active = true;
/*  724 */  
/*  725 */  		Animation._updateRoot = function() {
/*  726 */  				_rootTimeline.render((_ticker.time - _rootTimeline._startTime) * _rootTimeline._timeScale, false, false);
/*  727 */  				_rootFramesTimeline.render((_ticker.frame - _rootFramesTimeline._startTime) * _rootFramesTimeline._timeScale, false, false);
/*  728 */  				if (!(_ticker.frame % 120)) { //dump garbage every 120 frames...
/*  729 */  					var i, a, p;
/*  730 */  					for (p in _tweenLookup) {
/*  731 */  						a = _tweenLookup[p].tweens;
/*  732 */  						i = a.length;
/*  733 */  						while (--i > -1) {
/*  734 */  							if (a[i]._gc) {
/*  735 */  								a.splice(i, 1);
/*  736 */  							}
/*  737 */  						}
/*  738 */  						if (a.length === 0) {
/*  739 */  							delete _tweenLookup[p];
/*  740 */  						}
/*  741 */  					}
/*  742 */  				}
/*  743 */  			};
/*  744 */  
/*  745 */  		_ticker.addEventListener("tick", Animation._updateRoot);
/*  746 */  
/*  747 */  		var _register = function(target, tween, scrub) {
/*  748 */  				var id = target._gsTweenID, a, i;
/*  749 */  				if (!_tweenLookup[id || (target._gsTweenID = id = "t" + (_tweenLookupNum++))]) {
/*  750 */  					_tweenLookup[id] = {target:target, tweens:[]};
/*  751 */  				}
/*  752 */  				if (tween) {
/*  753 */  					a = _tweenLookup[id].tweens;
/*  754 */  					a[(i = a.length)] = tween;
/*  755 */  					if (scrub) {
/*  756 */  						while (--i > -1) {
/*  757 */  							if (a[i] === tween) {
/*  758 */  								a.splice(i, 1);
/*  759 */  							}
/*  760 */  						}
/*  761 */  					}
/*  762 */  				}
/*  763 */  				return _tweenLookup[id].tweens;
/*  764 */  			},
/*  765 */  
/*  766 */  			_applyOverwrite = function(target, tween, props, mode, siblings) {
/*  767 */  				var i, changed, curTween;
/*  768 */  				if (mode === 1 || mode >= 4) {
/*  769 */  					var l = siblings.length;
/*  770 */  					for (i = 0; i < l; i++) {
/*  771 */  						if ((curTween = siblings[i]) !== tween) {
/*  772 */  							if (!curTween._gc) if (curTween._enabled(false, false)) {
/*  773 */  								changed = true;
/*  774 */  							}
/*  775 */  						} else if (mode === 5) {
/*  776 */  							break;
/*  777 */  						}
/*  778 */  					}
/*  779 */  					return changed;
/*  780 */  				}
/*  781 */  				//NOTE: Add 0.0000000001 to overcome floating point errors that can cause the startTime to be VERY slightly off (when a tween's time() is set for example)
/*  782 */  				var startTime = tween._startTime + 0.0000000001,
/*  783 */  					overlaps = [],
/*  784 */  					oCount = 0,
/*  785 */  					globalStart;
/*  786 */  				i = siblings.length;
/*  787 */  				while (--i > -1) {
/*  788 */  					if ((curTween = siblings[i]) === tween || curTween._gc || curTween._paused) {
/*  789 */  						//ignore
/*  790 */  					} else if (curTween._timeline !== tween._timeline) {
/*  791 */  						globalStart = globalStart || _checkOverlap(tween, 0);
/*  792 */  						if (_checkOverlap(curTween, globalStart) === 0) {
/*  793 */  							overlaps[oCount++] = curTween;
/*  794 */  						}
/*  795 */  					} else if (curTween._startTime <= startTime) if (curTween._startTime + curTween.totalDuration() / curTween._timeScale + 0.0000000001 > startTime) if (!((tween._duration === 0 || !curTween._initted) && startTime - curTween._startTime <= 0.0000000002)) {
/*  796 */  						overlaps[oCount++] = curTween;
/*  797 */  					}
/*  798 */  				}
/*  799 */  
/*  800 */  				i = oCount;
/*  801 */  				while (--i > -1) {
/*  802 */  					curTween = overlaps[i];
/*  803 */  					if (mode === 2) if (curTween._kill(props, target)) {
/*  804 */  						changed = true;
/*  805 */  					}
/*  806 */  					if (mode !== 2 || (!curTween._firstPT && curTween._initted)) {
/*  807 */  						if (curTween._enabled(false, false)) { //if all property tweens have been overwritten, kill the tween.
/*  808 */  							changed = true;
/*  809 */  						}
/*  810 */  					}
/*  811 */  				}
/*  812 */  				return changed;
/*  813 */  			},
/*  814 */  
/*  815 */  			_checkOverlap = function(tween, reference) {
/*  816 */  				var tl = tween._timeline,
/*  817 */  					ts = tl._timeScale,
/*  818 */  					t = tween._startTime;
/*  819 */  				while (tl._timeline) {
/*  820 */  					t += tl._startTime;
/*  821 */  					ts *= tl._timeScale;
/*  822 */  					if (tl._paused) {
/*  823 */  						return -100;
/*  824 */  					}
/*  825 */  					tl = tl._timeline;
/*  826 */  				}
/*  827 */  				t /= ts;
/*  828 */  				return (t > reference) ? t - reference : (!tween._initted && t - reference < 0.0000000002) ? 0.0000000001 : ((t = t + tween.totalDuration() / tween._timeScale / ts) > reference) ? 0 : t - reference - 0.0000000001;
/*  829 */  			};
/*  830 */  
/*  831 */  
/*  832 */  //---- TweenLite instance methods -----------------------------------------------------------------------------
/*  833 */  
/*  834 */  		p._init = function() {
/*  835 */  			if (this.vars.startAt) {
/*  836 */  				this.vars.startAt.overwrite = 0;
/*  837 */  				this.vars.startAt.immediateRender = true;
/*  838 */  				TweenLite.to(this.target, 0, this.vars.startAt);
/*  839 */  			}
/*  840 */  			var i, initPlugins, pt;
/*  841 */  			if (this.vars.ease instanceof Ease) {
/*  842 */  				this._ease = (this.vars.easeParams instanceof Array) ? this.vars.ease.config.apply(this.vars.ease, this.vars.easeParams) : this.vars.ease;
/*  843 */  			} else if (typeof(this.vars.ease) === "function") {
/*  844 */  				this._ease = new Ease(this.vars.ease, this.vars.easeParams);
/*  845 */  			} else {
/*  846 */  				this._ease = TweenLite.defaultEase;
/*  847 */  			}
/*  848 */  			this._easeType = this._ease._type;
/*  849 */  			this._easePower = this._ease._power;
/*  850 */  			this._firstPT = null;
/*  851 */  
/*  852 */  			if (this._targets) {
/*  853 */  				i = this._targets.length;
/*  854 */  				while (--i > -1) {
/*  855 */  					if ( this._initProps( this._targets[i], (this._propLookup[i] = {}), this._siblings[i], (this._overwrittenProps ? this._overwrittenProps[i] : null)) ) {
/*  856 */  						initPlugins = true;
/*  857 */  					}
/*  858 */  				}
/*  859 */  			} else {
/*  860 */  				initPlugins = this._initProps(this.target, this._propLookup, this._siblings, this._overwrittenProps);
/*  861 */  			}
/*  862 */  
/*  863 */  			if (initPlugins) {
/*  864 */  				TweenLite._onPluginEvent("_onInitAllProps", this); //reorders the array in order of priority. Uses a static TweenPlugin method in order to minimize file size in TweenLite
/*  865 */  			}
/*  866 */  			if (this._overwrittenProps) if (this._firstPT == null) if (typeof(this.target) !== "function") { //if all tweening properties have been overwritten, kill the tween. If the target is a function, it's probably a delayedCall so let it live.
/*  867 */  				this._enabled(false, false);
/*  868 */  			}
/*  869 */  			if (this.vars.runBackwards) {
/*  870 */  				pt = this._firstPT;
/*  871 */  				while (pt) {
/*  872 */  					pt.s += pt.c;
/*  873 */  					pt.c = -pt.c;
/*  874 */  					pt = pt._next;
/*  875 */  				}
/*  876 */  			}
/*  877 */  			this._onUpdate = this.vars.onUpdate;
/*  878 */  			this._initted = true;
/*  879 */  		};
/*  880 */  
/*  881 */  		p._initProps = function(target, propLookup, siblings, overwrittenProps) {
/*  882 */  			var p, i, initPlugins, plugin, a, pt;
/*  883 */  			if (target == null) {
/*  884 */  				return false;
/*  885 */  			}
/*  886 */  			for (p in this.vars) {
/*  887 */  				if (_reservedProps[p]) {
/*  888 */  					if (p === "onStartParams" || p === "onUpdateParams" || p === "onCompleteParams" || p === "onReverseCompleteParams" || p === "onRepeatParams") if ((a = this.vars[p])) {
/*  889 */  						i = a.length;
/*  890 */  						while (--i > -1) {
/*  891 */  							if (a[i] === "{self}") {
/*  892 */  								a = this.vars[p] = a.concat(); //copy the array in case the user referenced the same array in multiple tweens/timelines (each {self} should be unique)
/*  893 */  								a[i] = this;
/*  894 */  							}
/*  895 */  						}
/*  896 */  					}
/*  897 */  
/*  898 */  				} else if (_plugins[p] && (plugin = new _plugins[p]())._onInitTween(target, this.vars[p], this)) {
/*  899 */  
/*  900 */  					//t - target 		[object]
/*  901 */  					//p - property 		[string]
/*  902 */  					//s - start			[number]
/*  903 */  					//c - change		[number]
/*  904 */  					//f - isFunction	[boolean]
/*  905 */  					//n - name			[string]
/*  906 */  					//pg - isPlugin 	[boolean]
/*  907 */  					//pr - priority		[number]
/*  908 */  					this._firstPT = pt = {_next:this._firstPT, t:plugin, p:"setRatio", s:0, c:1, f:true, n:p, pg:true, pr:plugin._priority};
/*  909 */  					i = plugin._overwriteProps.length;
/*  910 */  					while (--i > -1) {
/*  911 */  						propLookup[plugin._overwriteProps[i]] = this._firstPT;
/*  912 */  					}
/*  913 */  					if (plugin._priority || plugin._onInitAllProps) {
/*  914 */  						initPlugins = true;
/*  915 */  					}
/*  916 */  					if (plugin._onDisable || plugin._onEnable) {
/*  917 */  						this._notifyPluginsOfEnabled = true;
/*  918 */  					}
/*  919 */  
/*  920 */  				} else {
/*  921 */  					this._firstPT = propLookup[p] = pt = {_next:this._firstPT, t:target, p:p, f:(typeof(target[p]) === "function"), n:p, pg:false, pr:0};
/*  922 */  					pt.s = (!pt.f) ? parseFloat(target[p]) : target[ ((p.indexOf("set") || typeof(target["get" + p.substr(3)]) !== "function") ? p : "get" + p.substr(3)) ]();
/*  923 */  					pt.c = (typeof(this.vars[p]) === "number") ? this.vars[p] - pt.s : (typeof(this.vars[p]) === "string") ? parseFloat(this.vars[p].split("=").join("")) : 0;
/*  924 */  				}
/*  925 */  				if (pt) if (pt._next) {
/*  926 */  					pt._next._prev = pt;
/*  927 */  				}
/*  928 */  			}
/*  929 */  
/*  930 */  			if (overwrittenProps) if (this._kill(overwrittenProps, target)) { //another tween may have tried to overwrite properties of this tween before init() was called (like if two tweens start at the same time, the one created second will run first)
/*  931 */  				return this._initProps(target, propLookup, siblings, overwrittenProps);
/*  932 */  			}
/*  933 */  			if (this._overwrite > 1) if (this._firstPT) if (siblings.length > 1) if (_applyOverwrite(target, this, propLookup, this._overwrite, siblings)) {
/*  934 */  				this._kill(propLookup, target);
/*  935 */  				return this._initProps(target, propLookup, siblings, overwrittenProps);
/*  936 */  			}
/*  937 */  			return initPlugins;
/*  938 */  		};
/*  939 */  
/*  940 */  		p.render = function(time, suppressEvents, force) {
/*  941 */  			var prevTime = this._time,
/*  942 */  				isComplete, callback, pt;
/*  943 */  			if (time >= this._duration) {
/*  944 */  				this._totalTime = this._time = this._duration;
/*  945 */  				this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1;
/*  946 */  				if (!this._reversed) {
/*  947 */  					isComplete = true;
/*  948 */  					callback = "onComplete";
/*  949 */  				}
/*  950 */  				if (this._duration === 0) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the "playhead" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's "playhead" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.
/*  951 */  					if (time === 0 || this._rawPrevTime < 0) if (this._rawPrevTime !== time) {
/*  952 */  						force = true;
/*  953 */  					}
/*  954 */  					this._rawPrevTime = time;
/*  955 */  				}
/*  956 */  
/*  957 */  			} else if (time <= 0) {
/*  958 */  				this._totalTime = this._time = 0;
/*  959 */  				this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0;
/*  960 */  				if (prevTime !== 0 || (this._duration === 0 && this._rawPrevTime > 0)) {
/*  961 */  					callback = "onReverseComplete";
/*  962 */  					isComplete = this._reversed;
/*  963 */  				}
/*  964 */  				if (time < 0) {
/*  965 */  					this._active = false;
/*  966 */  					if (this._duration === 0) { //zero-duration tweens are tricky because we must discern the momentum/direction of time in order to determine whether the starting values should be rendered or the ending values. If the "playhead" of its timeline goes past the zero-duration tween in the forward direction or lands directly on it, the end values should be rendered, but if the timeline's "playhead" moves past it in the backward direction (from a postitive time to a negative time), the starting values must be rendered.
/*  967 */  						if (this._rawPrevTime >= 0) {
/*  968 */  							force = true;
/*  969 */  						}
/*  970 */  						this._rawPrevTime = time;
/*  971 */  					}
/*  972 */  				} else if (!this._initted) { //if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.
/*  973 */  					force = true;
/*  974 */  				}
/*  975 */  
/*  976 */  			} else {
/*  977 */  				this._totalTime = this._time = time;
/*  978 */  
/*  979 */  				if (this._easeType) {
/*  980 */  					var r = time / this._duration, type = this._easeType, pow = this._easePower;
/*  981 */  					if (type === 1 || (type === 3 && r >= 0.5)) {
/*  982 */  						r = 1 - r;
/*  983 */  					}
/*  984 */  					if (type === 3) {
/*  985 */  						r *= 2;
/*  986 */  					}
/*  987 */  					if (pow === 1) {
/*  988 */  						r *= r;
/*  989 */  					} else if (pow === 2) {
/*  990 */  						r *= r * r;
/*  991 */  					} else if (pow === 3) {
/*  992 */  						r *= r * r * r;
/*  993 */  					} else if (pow === 4) {
/*  994 */  						r *= r * r * r * r;
/*  995 */  					}
/*  996 */  
/*  997 */  					if (type === 1) {
/*  998 */  						this.ratio = 1 - r;
/*  999 */  					} else if (type === 2) {
/* 1000 */  						this.ratio = r;
/* 1001 */  					} else if (time / this._duration < 0.5) {
/* 1002 */  						this.ratio = r / 2;
/* 1003 */  					} else {
/* 1004 */  						this.ratio = 1 - (r / 2);
/* 1005 */  					}
/* 1006 */  
/* 1007 */  				} else {
/* 1008 */  					this.ratio = this._ease.getRatio(time / this._duration);
/* 1009 */  				}
/* 1010 */  
/* 1011 */  			}
/* 1012 */  
/* 1013 */  			if (this._time === prevTime && !force) {
/* 1014 */  				return;
/* 1015 */  			} else if (!this._initted) {
/* 1016 */  				this._init();
/* 1017 */  				if (!isComplete && this._time) { //_ease is initially set to defaultEase, so now that init() has run, _ease is set properly and we need to recalculate the ratio. Overall this is faster than using conditional logic earlier in the method to avoid having to set ratio twice because we only init() once but renderTime() gets called VERY frequently.
/* 1018 */  					this.ratio = this._ease.getRatio(this._time / this._duration);
/* 1019 */  				}
/* 1020 */  			}
/* 1021 */  
/* 1022 */  			if (!this._active) if (!this._paused) {
/* 1023 */  				this._active = true;  //so that if the user renders a tween (as opposed to the timeline rendering it), the timeline is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the tween already finished but the user manually re-renders it as halfway done.
/* 1024 */  			}
/* 1025 */  			if (prevTime === 0) if (this.vars.onStart) if (this._time !== 0 || this._duration === 0) if (!suppressEvents) {
/* 1026 */  				this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || _blankArray);
/* 1027 */  			}
/* 1028 */  
/* 1029 */  			pt = this._firstPT;
/* 1030 */  			while (pt) {
/* 1031 */  				if (pt.f) {
/* 1032 */  					pt.t[pt.p](pt.c * this.ratio + pt.s);
/* 1033 */  				} else {
/* 1034 */  					pt.t[pt.p] = pt.c * this.ratio + pt.s;
/* 1035 */  				}
/* 1036 */  				pt = pt._next;
/* 1037 */  			}
/* 1038 */  
/* 1039 */  
/* 1040 */  			if (this._onUpdate) if (!suppressEvents) {
/* 1041 */  				this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || _blankArray);
/* 1042 */  			}
/* 1043 */  
/* 1044 */  			if (callback) if (!this._gc) { //check _gc because there's a chance that kill() could be called in an onUpdate
/* 1045 */  				if (isComplete) {
/* 1046 */  					if (this._timeline.autoRemoveChildren) {
/* 1047 */  						this._enabled(false, false);
/* 1048 */  					}
/* 1049 */  					this._active = false;
/* 1050 */  				}
/* 1051 */  				if (!suppressEvents) if (this.vars[callback]) {
/* 1052 */  					this.vars[callback].apply(this.vars[callback + "Scope"] || this, this.vars[callback + "Params"] || _blankArray);
/* 1053 */  				}
/* 1054 */  			}
/* 1055 */  
/* 1056 */  		};
/* 1057 */  
/* 1058 */  		p._kill = function(vars, target) {
/* 1059 */  			if (vars === "all") {
/* 1060 */  				vars = null;
/* 1061 */  			}
/* 1062 */  			if (vars == null) if (target == null || target == this.target) {
/* 1063 */  				return this._enabled(false, false);
/* 1064 */  			}
/* 1065 */  			target = target || this._targets || this.target;
/* 1066 */  			var i, overwrittenProps, p, pt, propLookup, changed, killProps, record;
/* 1067 */  			if ((target instanceof Array || target.jquery) && typeof(target[0]) === "object") {
/* 1068 */  				i = target.length;
/* 1069 */  				while (--i > -1) {
/* 1070 */  					if (this._kill(vars, target[i])) {
/* 1071 */  						changed = true;
/* 1072 */  					}
/* 1073 */  				}
/* 1074 */  			} else {
/* 1075 */  				if (this._targets) {
/* 1076 */  					i = this._targets.length;
/* 1077 */  					while (--i > -1) {
/* 1078 */  						if (target === this._targets[i]) {
/* 1079 */  							propLookup = this._propLookup[i] || {};
/* 1080 */  							this._overwrittenProps = this._overwrittenProps || [];
/* 1081 */  							overwrittenProps = this._overwrittenProps[i] = vars ? this._overwrittenProps[i] || {} : "all";
/* 1082 */  							break;
/* 1083 */  						}
/* 1084 */  					}
/* 1085 */  				} else if (target !== this.target) {
/* 1086 */  					return false;
/* 1087 */  				} else {
/* 1088 */  					propLookup = this._propLookup;
/* 1089 */  					overwrittenProps = this._overwrittenProps = vars ? this._overwrittenProps || {} : "all";
/* 1090 */  				}
/* 1091 */  
/* 1092 */  				if (propLookup) {
/* 1093 */  					killProps = vars || propLookup;
/* 1094 */  					record = (vars != overwrittenProps && overwrittenProps != "all" && vars != propLookup && (vars == null || vars._tempKill != true)); //_tempKill is a super-secret way to delete a particular tweening property but NOT have it remembered as an official overwritten property (like in BezierPlugin)
/* 1095 */  					for (p in killProps) {
/* 1096 */  						if ((pt = propLookup[p])) {
/* 1097 */  							if (pt.pg && pt.t._kill(killProps)) {
/* 1098 */  								changed = true; //some plugins need to be notified so they can perform cleanup tasks first
/* 1099 */  							}
/* 1100 */  							if (!pt.pg || pt.t._overwriteProps.length === 0) {
/* 1101 */  								if (pt._prev) {
/* 1102 */  									pt._prev._next = pt._next;
/* 1103 */  								} else if (pt === this._firstPT) {
/* 1104 */  									this._firstPT = pt._next;
/* 1105 */  								}
/* 1106 */  								if (pt._next) {
/* 1107 */  									pt._next._prev = pt._prev;
/* 1108 */  								}
/* 1109 */  								pt._next = pt._prev = null;
/* 1110 */  							}
/* 1111 */  							delete propLookup[p];
/* 1112 */  						}
/* 1113 */  						if (record) {
/* 1114 */  							overwrittenProps[p] = 1;
/* 1115 */  						}
/* 1116 */  					}
/* 1117 */  				}
/* 1118 */  			}
/* 1119 */  			return changed;
/* 1120 */  		};
/* 1121 */  
/* 1122 */  		p.invalidate = function() {
/* 1123 */  			if (this._notifyPluginsOfEnabled) {
/* 1124 */  				TweenLite._onPluginEvent("_onDisable", this);
/* 1125 */  			}
/* 1126 */  			this._firstPT = null;
/* 1127 */  			this._overwrittenProps = null;
/* 1128 */  			this._onUpdate = null;
/* 1129 */  			this._initted = this._active = this._notifyPluginsOfEnabled = false;
/* 1130 */  			this._propLookup = (this._targets) ? {} : [];
/* 1131 */  			return this;
/* 1132 */  		};
/* 1133 */  
/* 1134 */  		p._enabled = function(enabled, ignoreTimeline) {
/* 1135 */  			if (enabled && this._gc) {
/* 1136 */  				if (this._targets) {
/* 1137 */  					var i = this._targets.length;
/* 1138 */  					while (--i > -1) {
/* 1139 */  						this._siblings[i] = _register(this._targets[i], this, true);
/* 1140 */  					}
/* 1141 */  				} else {
/* 1142 */  					this._siblings = _register(this.target, this, true);
/* 1143 */  				}
/* 1144 */  			}
/* 1145 */  			Animation.prototype._enabled.call(this, enabled, ignoreTimeline);
/* 1146 */  			if (this._notifyPluginsOfEnabled) if (this._firstPT) {
/* 1147 */  				return TweenLite._onPluginEvent(((enabled) ? "_onEnable" : "_onDisable"), this);
/* 1148 */  			}
/* 1149 */  			return false;
/* 1150 */  		};
/* 1151 */  
/* 1152 */  
/* 1153 */  //----TweenLite static methods -----------------------------------------------------
/* 1154 */  
/* 1155 */  		TweenLite.to = function(target, duration, vars) {
/* 1156 */  			return new TweenLite(target, duration, vars);
/* 1157 */  		};
/* 1158 */  
/* 1159 */  		TweenLite.from = function(target, duration, vars) {
/* 1160 */  			vars.runBackwards = true;
/* 1161 */  			if (vars.immediateRender != false) {
/* 1162 */  				vars.immediateRender = true;
/* 1163 */  			}
/* 1164 */  			return new TweenLite(target, duration, vars);
/* 1165 */  		};
/* 1166 */  
/* 1167 */  		TweenLite.fromTo = function(target, duration, fromVars, toVars) {
/* 1168 */  			toVars.startAt = fromVars;
/* 1169 */  			if (fromVars.immediateRender) {
/* 1170 */  				toVars.immediateRender = true;
/* 1171 */  			}
/* 1172 */  			return new TweenLite(target, duration, toVars);
/* 1173 */  		};
/* 1174 */  
/* 1175 */  		TweenLite.delayedCall = function(delay, callback, params, scope, useFrames) {
/* 1176 */  			return new TweenLite(callback, 0, {delay:delay, onComplete:callback, onCompleteParams:params, onCompleteScope:scope, onReverseComplete:callback, onReverseCompleteParams:params, onReverseCompleteScope:scope, immediateRender:false, useFrames:useFrames, overwrite:0});
/* 1177 */  		};
/* 1178 */  
/* 1179 */  		TweenLite.set = function(target, vars) {
/* 1180 */  			return new TweenLite(target, 0, vars);
/* 1181 */  		};
/* 1182 */  
/* 1183 */  		TweenLite.killTweensOf = TweenLite.killDelayedCallsTo = function(target, vars) {
/* 1184 */  			var a = TweenLite.getTweensOf(target),
/* 1185 */  				i = a.length;
/* 1186 */  			while (--i > -1) {
/* 1187 */  				a[i]._kill(vars, target);
/* 1188 */  			}
/* 1189 */  		};
/* 1190 */  
/* 1191 */  		TweenLite.getTweensOf = function(target) {
/* 1192 */  			if (target == null) { return; }
/* 1193 */  			var i, a, j, t;
/* 1194 */  			if ((target instanceof Array || target.jquery) && typeof(target[0]) === "object") {
/* 1195 */  				i = target.length;
/* 1196 */  				a = [];
/* 1197 */  				while (--i > -1) {
/* 1198 */  					a = a.concat(TweenLite.getTweensOf(target[i]));
/* 1199 */  				}
/* 1200 */  				i = a.length;
/* 1201 */  				//now get rid of any duplicates (tweens of arrays of objects could cause duplicates)
/* 1202 */  				while (--i > -1) {
/* 1203 */  					t = a[i];
/* 1204 */  					j = i;
/* 1205 */  					while (--j > -1) {
/* 1206 */  						if (t === a[j]) {
/* 1207 */  							a.splice(i, 1);
/* 1208 */  						}
/* 1209 */  					}
/* 1210 */  				}
/* 1211 */  			} else {
/* 1212 */  				a = _register(target).concat();
/* 1213 */  				i = a.length;
/* 1214 */  				while (--i > -1) {
/* 1215 */  					if (a[i]._gc) {
/* 1216 */  						a.splice(i, 1);
/* 1217 */  					}
/* 1218 */  				}
/* 1219 */  			}
/* 1220 */  			return a;
/* 1221 */  		};
/* 1222 */  
/* 1223 */  
/* 1224 */  
/* 1225 */  /*
   1226      * ----------------------------------------------------------------
   1227      * TweenPlugin   (could easily be split out as a separate file/class, but included for ease of use (so that people don't need to include another <script> call before loading plugins which is easy to forget)
   1228      * ----------------------------------------------------------------
   1229      */
/* 1230 */  		var TweenPlugin = _class("plugins.TweenPlugin", function(props, priority) {
/* 1231 */  					this._overwriteProps = (props || "").split(",");
/* 1232 */  					this._propName = this._overwriteProps[0];
/* 1233 */  					this._priority = priority || 0;
/* 1234 */  				}, true);
/* 1235 */  
/* 1236 */  		p = TweenPlugin.prototype;
/* 1237 */  		TweenPlugin.version = 12;
/* 1238 */  		TweenPlugin.API = 2;
/* 1239 */  		p._firstPT = null;
/* 1240 */  
/* 1241 */  		p._addTween = function(target, prop, start, end, overwriteProp, round) {
/* 1242 */  			var c;
/* 1243 */  			if (end != null && (c = (typeof(end) === "number" || end.charAt(1) !== "=") ? Number(end) - start : Number(end.split("=").join("")))) {
/* 1244 */  				this._firstPT = {_next:this._firstPT, t:target, p:prop, s:start, c:c, f:(typeof(target[prop]) === "function"), n:overwriteProp || prop, r:round};
/* 1245 */  				if (this._firstPT._next) {
/* 1246 */  					this._firstPT._next._prev = this._firstPT;
/* 1247 */  				}
/* 1248 */  			}
/* 1249 */  		}
/* 1250 */  
/* 1251 */  		p.setRatio = function(v) {
/* 1252 */  			var pt = this._firstPT,
/* 1253 */  				val;
/* 1254 */  			while (pt) {
/* 1255 */  				val = pt.c * v + pt.s;
/* 1256 */  				if (pt.r) {
/* 1257 */  					val = (val + ((val > 0) ? 0.5 : -0.5)) >> 0; //about 4x faster than Math.round()
/* 1258 */  				}
/* 1259 */  				if (pt.f) {
/* 1260 */  					pt.t[pt.p](val);
/* 1261 */  				} else {
/* 1262 */  					pt.t[pt.p] = val;
/* 1263 */  				}
/* 1264 */  				pt = pt._next;
/* 1265 */  			}
/* 1266 */  		}
/* 1267 */  
/* 1268 */  		p._kill = function(lookup) {
/* 1269 */  			if (lookup[this._propName] != null) {
/* 1270 */  				this._overwriteProps = [];
/* 1271 */  			} else {
/* 1272 */  				var i = this._overwriteProps.length;
/* 1273 */  				while (--i > -1) {
/* 1274 */  					if (lookup[this._overwriteProps[i]] != null) {
/* 1275 */  						this._overwriteProps.splice(i, 1);
/* 1276 */  					}
/* 1277 */  				}
/* 1278 */  			}
/* 1279 */  			var pt = this._firstPT;
/* 1280 */  			while (pt) {
/* 1281 */  				if (lookup[pt.n] != null) {
/* 1282 */  					if (pt._next) {
/* 1283 */  						pt._next._prev = pt._prev;
/* 1284 */  					}
/* 1285 */  					if (pt._prev) {
/* 1286 */  						pt._prev._next = pt._next;
/* 1287 */  						pt._prev = null;
/* 1288 */  					} else if (this._firstPT === pt) {
/* 1289 */  						this._firstPT = pt._next;
/* 1290 */  					}
/* 1291 */  				}
/* 1292 */  				pt = pt._next;
/* 1293 */  			}
/* 1294 */  			return false;
/* 1295 */  		}
/* 1296 */  
/* 1297 */  		p._roundProps = function(lookup, value) {
/* 1298 */  			var pt = this._firstPT;
/* 1299 */  			while (pt) {
/* 1300 */  				if (lookup[this._propName] || (pt.n != null && lookup[ pt.n.split(this._propName + "_").join("") ])) { //some properties that are very plugin-specific add a prefix named after the _propName plus an underscore, so we need to ignore that extra stuff here.
/* 1301 */  					pt.r = value;
/* 1302 */  				}
/* 1303 */  				pt = pt._next;
/* 1304 */  			}
/* 1305 */  		}
/* 1306 */  
/* 1307 */  		TweenLite._onPluginEvent = function(type, tween) {
/* 1308 */  			var pt = tween._firstPT,
/* 1309 */  				changed;
/* 1310 */  			if (type === "_onInitAllProps") {
/* 1311 */  				//sorts the PropTween linked list in order of priority because some plugins need to render earlier/later than others, like MotionBlurPlugin applies its effects after all x/y/alpha tweens have rendered on each frame.
/* 1312 */  				var pt2, first, last, next;
/* 1313 */  				while (pt) {
/* 1314 */  					next = pt._next;
/* 1315 */  					pt2 = first;
/* 1316 */  					while (pt2 && pt2.pr > pt.pr) {
/* 1317 */  						pt2 = pt2._next;
/* 1318 */  					}
/* 1319 */  					if ((pt._prev = pt2 ? pt2._prev : last)) {
/* 1320 */  						pt._prev._next = pt;
/* 1321 */  					} else {
/* 1322 */  						first = pt;
/* 1323 */  					}
/* 1324 */  					if ((pt._next = pt2)) {
/* 1325 */  						pt2._prev = pt;
/* 1326 */  					} else {
/* 1327 */  						last = pt;
/* 1328 */  					}
/* 1329 */  					pt = next;
/* 1330 */  				}
/* 1331 */  				pt = tween._firstPT = first;
/* 1332 */  			}
/* 1333 */  			while (pt) {
/* 1334 */  				if (pt.pg) if (typeof(pt.t[type]) === "function") if (pt.t[type]()) {
/* 1335 */  					changed = true;
/* 1336 */  				}
/* 1337 */  				pt = pt._next;
/* 1338 */  			}
/* 1339 */  			return changed;
/* 1340 */  		}
/* 1341 */  
/* 1342 */  		TweenPlugin.activate = function(plugins) {
/* 1343 */  			var i = plugins.length;
/* 1344 */  			while (--i > -1) {
/* 1345 */  				if (plugins[i].API === TweenPlugin.API) {
/* 1346 */  					TweenLite._plugins[(new plugins[i]())._propName] = plugins[i];
/* 1347 */  				}
/* 1348 */  			}
/* 1349 */  			return true;
/* 1350 */  		}
/* 1351 */  
/* 1352 */  
/* 1353 */  
/* 1354 */  		//now run through all the dependencies discovered and if any are missing, log that to the console as a warning. This is why it's best to have TweenLite load last - it can check all the dependencies for you.
/* 1355 */  		if ((a = window._gsQueue)) {
/* 1356 */  			for (i = 0; i < a.length; i++) {
/* 1357 */  				a[i]();
/* 1358 */  			}
/* 1359 */  			for (p in _classLookup) {
/* 1360 */  				if (!_classLookup[p].def) {
/* 1361 */  					console.log("Warning: TweenLite encountered missing dependency: com.greensock."+p);
/* 1362 */  				}
/* 1363 */  			}
/* 1364 */  		}
/* 1365 */  
/* 1366 */  
/* 1367 */  })(window);

/**
 * js/vendor/async.min.js
 */

/*    0 */  /*global setTimeout: false, console: false */(function(){var a={},b=this,c=b.async;typeof module!="undefined"&&module.exports?module.exports=a:b.async=a,a.noConflict=function(){return b.async=c,a};var d=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},e=function(a,b){if(a.map)return a.map(b);var c=[];return d(a,function(a,d,e){c.push(b(a,d,e))}),c},f=function(a,b,c){return a.reduce?a.reduce(b,c):(d(a,function(a,d,e){c=b(c,a,d,e)}),c)},g=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};typeof process=="undefined"||!process.nextTick?a.nextTick=function(a){setTimeout(a,0)}:a.nextTick=process.nextTick,a.forEach=function(a,b,c){c=c||function(){};if(!a.length)return c();var e=0;d(a,function(d){b(d,function(b){b?(c(b),c=function(){}):(e+=1,e===a.length&&c(null))})})},a.forEachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d===a.length?c(null):e())})};e()},a.forEachLimit=function(a,b,c,d){d=d||function(){};if(!a.length||b<=0)return d();var e=0,f=0,g=0;(function h(){if(e===a.length)return d();while(g<b&&f<a.length)f+=1,g+=1,c(a[f-1],function(b){b?(d(b),d=function(){}):(e+=1,g-=1,e===a.length?d():h())})})()};var h=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.forEach].concat(c))}},i=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.forEachSeries].concat(c))}},j=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){f[a.index]=d,b(c)})},function(a){d(a,f)})};a.map=h(j),a.mapSeries=i(j),a.reduce=function(b,c,d,e){a.forEachSeries(b,function(a,b){d(c,a,function(a,d){c=d,b(a)})},function(a){e(a,c)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(b,c,d,f){var g=e(b,function(a){return a}).reverse();a.reduce(g,c,d,f)},a.foldr=a.reduceRight;var k=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&f.push(a),b()})},function(a){d(e(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.filter=h(k),a.filterSeries=i(k),a.select=a.filter,a.selectSeries=a.filterSeries;var l=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||f.push(a),b()})},function(a){d(e(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.reject=h(l),a.rejectSeries=i(l);var m=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};a.detect=h(m),a.detectSeries=i(m),a.some=function(b,c,d){a.forEach(b,function(a,b){c(a,function(a){a&&(d(!0),d=function(){}),b()})},function(a){d(!1)})},a.any=a.some,a.every=function(b,c,d){a.forEach(b,function(a,b){c(a,function(a){a||(d(!1),d=function(){}),b()})},function(a){d(!0)})},a.all=a.every,a.sortBy=function(b,c,d){a.map(b,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);var c=function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0};d(null,e(b.sort(c),function(a){return a.value}))})},a.auto=function(a,b){b=b||function(){};var c=g(a);if(!c.length)return b(null);var e={},h=[],i=function(a){h.unshift(a)},j=function(a){for(var b=0;b<h.length;b+=1)if(h[b]===a){h.splice(b,1);return}},k=function(){d(h.slice(0),function(a){a()})};i(function(){g(e).length===c.length&&(b(null,e),b=function(){})}),d(c,function(c){var d=a[c]instanceof Function?[a[c]]:a[c],g=function(a){if(a)b(a),b=function(){};else{var d=Array.prototype.slice.call(arguments,1);d.length<=1&&(d=d[0]),e[c]=d,k()}},h=d.slice(0,Math.abs(d.length-1))||[],l=function(){return f(h,function(a,b){return a&&e.hasOwnProperty(b)},!0)&&!e.hasOwnProperty(c)};if(l())d[d.length-1](g,e);else{var m=function(){l()&&(j(m),d[d.length-1](g,e))};i(m)}})},a.waterfall=function(b,c){c=c||function(){};if(!b.length)return c();var d=function(b){return function(e){if(e)c(e),c=function(){};else{var f=Array.prototype.slice.call(arguments,1),g=b.next();g?f.push(d(g)):f.push(c),a.nextTick(function(){b.apply(null,f)})}}};d(a.iterator(b))()},a.parallel=function(b,c){c=c||function(){};if(b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.forEach(g(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}},a.series=function(b,c){c=c||function(){};if(b.constructor===Array)a.mapSeries(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.forEachSeries(g(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}},a.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},a.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var n=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};a.concat=h(n),a.concatSeries=i(n),a.whilst=function(b,c,d){b()?c(function(e){if(e)return d(e);a.whilst(b,c,d)}):d()},a.until=function(b,c,d){b()?d():c(function(e){if(e)return d(e);a.until(b,c,d)})},a.queue=function(b,c){var e=0,f={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(b,e){b.constructor!==Array&&(b=[b]),d(b,function(b){f.tasks.push({data:b,callback:typeof e=="function"?e:null}),f.saturated&&f.tasks.length==c&&f.saturated(),a.nextTick(f.process)})},process:function(){if(e<f.concurrency&&f.tasks.length){var a=f.tasks.shift();f.empty&&f.tasks.length==0&&f.empty(),e+=1,b(a.data,function(){e-=1,a.callback&&a.callback.apply(a,arguments),f.drain&&f.tasks.length+e==0&&f.drain(),f.process()})}},length:function(){return f.tasks.length},running:function(){return e}};return f};var o=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);typeof console!="undefined"&&(b?console.error&&console.error(b):console[a]&&d(c,function(b){console[a](b)}))}]))}};a.log=o("log"),a.dir=o("dir"),a.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;b<e;b++)a[b].apply(null,arguments)}])))};return e.unmemoized=a,e},a.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}}})();

/**
 * js/vendor/socket.io.js
 */

/*    0 */  /*! Socket.IO.js build:0.9.6, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */
/*    1 */  
/*    2 */  var io = ('undefined' === typeof module ? {} : module.exports);
/*    3 */  (function() {
/*    4 */  
/*    5 */  /**
      6      * socket.io
      7      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
      8      * MIT Licensed
      9      */
/*   10 */  
/*   11 */  (function (exports, global) {
/*   12 */  
/*   13 */    /**
     14        * IO namespace.
     15        *
     16        * @namespace
     17        */
/*   18 */  
/*   19 */    var io = exports;
/*   20 */  
/*   21 */    /**
     22        * Socket.IO version
     23        *
     24        * @api public
     25        */
/*   26 */  
/*   27 */    io.version = '0.9.6';
/*   28 */  
/*   29 */    /**
     30        * Protocol implemented.
     31        *
     32        * @api public
     33        */
/*   34 */  
/*   35 */    io.protocol = 1;
/*   36 */  
/*   37 */    /**
     38        * Available transports, these will be populated with the available transports
     39        *
     40        * @api public
     41        */
/*   42 */  
/*   43 */    io.transports = [];
/*   44 */  
/*   45 */    /**
     46        * Keep track of jsonp callbacks.
     47        *
     48        * @api private
     49        */
/*   50 */  
/*   51 */    io.j = [];
/*   52 */  
/*   53 */    /**
     54        * Keep track of our io.Sockets
     55        *
     56        * @api private
     57        */
/*   58 */    io.sockets = {};
/*   59 */  
/*   60 */  
/*   61 */    /**
     62        * Manages connections to hosts.
     63        *
     64        * @param {String} uri
     65        * @Param {Boolean} force creation of new socket (defaults to false)
     66        * @api public
     67        */
/*   68 */  
/*   69 */    io.connect = function (host, details) {
/*   70 */      var uri = io.util.parseUri(host)
/*   71 */        , uuri
/*   72 */        , socket;
/*   73 */  
/*   74 */      if (global && global.location) {
/*   75 */        uri.protocol = uri.protocol || global.location.protocol.slice(0, -1);
/*   76 */        uri.host = uri.host || (global.document
/*   77 */          ? global.document.domain : global.location.hostname);
/*   78 */        uri.port = uri.port || global.location.port;
/*   79 */      }
/*   80 */  
/*   81 */      uuri = io.util.uniqueUri(uri);
/*   82 */  
/*   83 */      var options = {
/*   84 */          host: uri.host
/*   85 */        , secure: 'https' == uri.protocol
/*   86 */        , port: uri.port || ('https' == uri.protocol ? 443 : 80)
/*   87 */        , query: uri.query || ''
/*   88 */      };
/*   89 */  
/*   90 */      io.util.merge(options, details);
/*   91 */  
/*   92 */      if (options['force new connection'] || !io.sockets[uuri]) {
/*   93 */        socket = new io.Socket(options);
/*   94 */      }
/*   95 */  
/*   96 */      if (!options['force new connection'] && socket) {
/*   97 */        io.sockets[uuri] = socket;
/*   98 */      }
/*   99 */  
/*  100 */      socket = socket || io.sockets[uuri];
/*  101 */  
/*  102 */      // if path is different from '' or /
/*  103 */      return socket.of(uri.path.length > 1 ? uri.path : '');
/*  104 */    };
/*  105 */  
/*  106 */  })('object' === typeof module ? module.exports : (this.io = {}), this);
/*  107 */  /**
    108      * socket.io
    109      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    110      * MIT Licensed
    111      */
/*  112 */  
/*  113 */  (function (exports, global) {
/*  114 */  
/*  115 */    /**
    116        * Utilities namespace.
    117        *
    118        * @namespace
    119        */
/*  120 */  
/*  121 */    var util = exports.util = {};
/*  122 */  
/*  123 */    /**
    124        * Parses an URI
    125        *
    126        * @author Steven Levithan <stevenlevithan.com> (MIT license)
    127        * @api public
    128        */
/*  129 */  
/*  130 */    var re = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
/*  131 */  
/*  132 */    var parts = ['source', 'protocol', 'authority', 'userInfo', 'user', 'password',
/*  133 */                 'host', 'port', 'relative', 'path', 'directory', 'file', 'query',
/*  134 */                 'anchor'];
/*  135 */  
/*  136 */    util.parseUri = function (str) {
/*  137 */      var m = re.exec(str || '')
/*  138 */        , uri = {}
/*  139 */        , i = 14;
/*  140 */  
/*  141 */      while (i--) {
/*  142 */        uri[parts[i]] = m[i] || '';
/*  143 */      }
/*  144 */  
/*  145 */      return uri;
/*  146 */    };
/*  147 */  
/*  148 */    /**
    149        * Produces a unique url that identifies a Socket.IO connection.
    150        *
    151        * @param {Object} uri
    152        * @api public
    153        */
/*  154 */  
/*  155 */    util.uniqueUri = function (uri) {
/*  156 */      var protocol = uri.protocol
/*  157 */        , host = uri.host
/*  158 */        , port = uri.port;
/*  159 */  
/*  160 */      if ('document' in global) {
/*  161 */        host = host || document.domain;
/*  162 */        port = port || (protocol == 'https'
/*  163 */          && document.location.protocol !== 'https:' ? 443 : document.location.port);
/*  164 */      } else {
/*  165 */        host = host || 'localhost';
/*  166 */  
/*  167 */        if (!port && protocol == 'https') {
/*  168 */          port = 443;
/*  169 */        }
/*  170 */      }
/*  171 */  
/*  172 */      return (protocol || 'http') + '://' + host + ':' + (port || 80);
/*  173 */    };
/*  174 */  
/*  175 */    /**
    176        * Mergest 2 query strings in to once unique query string
    177        *
    178        * @param {String} base
    179        * @param {String} addition
    180        * @api public
    181        */
/*  182 */  
/*  183 */    util.query = function (base, addition) {
/*  184 */      var query = util.chunkQuery(base || '')
/*  185 */        , components = [];
/*  186 */  
/*  187 */      util.merge(query, util.chunkQuery(addition || ''));
/*  188 */      for (var part in query) {
/*  189 */        if (query.hasOwnProperty(part)) {
/*  190 */          components.push(part + '=' + query[part]);
/*  191 */        }
/*  192 */      }
/*  193 */  
/*  194 */      return components.length ? '?' + components.join('&') : '';
/*  195 */    };
/*  196 */  
/*  197 */    /**
    198        * Transforms a querystring in to an object
    199        *
    200        * @param {String} qs
    201        * @api public
    202        */
/*  203 */  
/*  204 */    util.chunkQuery = function (qs) {
/*  205 */      var query = {}
/*  206 */        , params = qs.split('&')
/*  207 */        , i = 0
/*  208 */        , l = params.length
/*  209 */        , kv;
/*  210 */  
/*  211 */      for (; i < l; ++i) {
/*  212 */        kv = params[i].split('=');
/*  213 */        if (kv[0]) {
/*  214 */          query[kv[0]] = kv[1];
/*  215 */        }
/*  216 */      }
/*  217 */  
/*  218 */      return query;
/*  219 */    };
/*  220 */  
/*  221 */    /**
    222        * Executes the given function when the page is loaded.
    223        *
    224        *     io.util.load(function () { console.log('page loaded'); });
    225        *
    226        * @param {Function} fn
    227        * @api public
    228        */
/*  229 */  
/*  230 */    var pageLoaded = false;
/*  231 */  
/*  232 */    util.load = function (fn) {
/*  233 */      if ('document' in global && document.readyState === 'complete' || pageLoaded) {
/*  234 */        return fn();
/*  235 */      }
/*  236 */  
/*  237 */      util.on(global, 'load', fn, false);
/*  238 */    };
/*  239 */  
/*  240 */    /**
    241        * Adds an event.
    242        *
    243        * @api private
    244        */
/*  245 */  
/*  246 */    util.on = function (element, event, fn, capture) {
/*  247 */      if (element.attachEvent) {
/*  248 */        element.attachEvent('on' + event, fn);
/*  249 */      } else if (element.addEventListener) {
/*  250 */        element.addEventListener(event, fn, capture);
/*  251 */      }
/*  252 */    };
/*  253 */  
/*  254 */    /**
    255        * Generates the correct `XMLHttpRequest` for regular and cross domain requests.
    256        *
    257        * @param {Boolean} [xdomain] Create a request that can be used cross domain.
    258        * @returns {XMLHttpRequest|false} If we can create a XMLHttpRequest.
    259        * @api private
    260        */
/*  261 */  
/*  262 */    util.request = function (xdomain) {
/*  263 */  
/*  264 */      if (xdomain && 'undefined' != typeof XDomainRequest) {
/*  265 */        return new XDomainRequest();
/*  266 */      }
/*  267 */  
/*  268 */      if ('undefined' != typeof XMLHttpRequest && (!xdomain || util.ua.hasCORS)) {
/*  269 */        return new XMLHttpRequest();
/*  270 */      }
/*  271 */  
/*  272 */      if (!xdomain) {
/*  273 */        try {
/*  274 */          return new window[(['Active'].concat('Object').join('X'))]('Microsoft.XMLHTTP');
/*  275 */        } catch(e) { }
/*  276 */      }
/*  277 */  
/*  278 */      return null;
/*  279 */    };
/*  280 */  
/*  281 */    /**
    282        * XHR based transport constructor.
    283        *
    284        * @constructor
    285        * @api public
    286        */
/*  287 */  
/*  288 */    /**
    289        * Change the internal pageLoaded value.
    290        */
/*  291 */  
/*  292 */    if ('undefined' != typeof window) {
/*  293 */      util.load(function () {
/*  294 */        pageLoaded = true;
/*  295 */      });
/*  296 */    }
/*  297 */  
/*  298 */    /**
    299        * Defers a function to ensure a spinner is not displayed by the browser
    300        *
    301        * @param {Function} fn
    302        * @api public
    303        */
/*  304 */  
/*  305 */    util.defer = function (fn) {
/*  306 */      if (!util.ua.webkit || 'undefined' != typeof importScripts) {
/*  307 */        return fn();
/*  308 */      }
/*  309 */  
/*  310 */      util.load(function () {
/*  311 */        setTimeout(fn, 100);
/*  312 */      });
/*  313 */    };
/*  314 */  
/*  315 */    /**
    316        * Merges two objects.
    317        *
    318        * @api public
    319        */
/*  320 */    
/*  321 */    util.merge = function merge (target, additional, deep, lastseen) {
/*  322 */      var seen = lastseen || []
/*  323 */        , depth = typeof deep == 'undefined' ? 2 : deep
/*  324 */        , prop;
/*  325 */  
/*  326 */      for (prop in additional) {
/*  327 */        if (additional.hasOwnProperty(prop) && util.indexOf(seen, prop) < 0) {
/*  328 */          if (typeof target[prop] !== 'object' || !depth) {
/*  329 */            target[prop] = additional[prop];
/*  330 */            seen.push(additional[prop]);
/*  331 */          } else {
/*  332 */            util.merge(target[prop], additional[prop], depth - 1, seen);
/*  333 */          }
/*  334 */        }
/*  335 */      }
/*  336 */  
/*  337 */      return target;
/*  338 */    };
/*  339 */  
/*  340 */    /**
    341        * Merges prototypes from objects
    342        *
    343        * @api public
    344        */
/*  345 */    
/*  346 */    util.mixin = function (ctor, ctor2) {
/*  347 */      util.merge(ctor.prototype, ctor2.prototype);
/*  348 */    };
/*  349 */  
/*  350 */    /**
    351        * Shortcut for prototypical and static inheritance.
    352        *
    353        * @api private
    354        */
/*  355 */  
/*  356 */    util.inherit = function (ctor, ctor2) {
/*  357 */      function f() {};
/*  358 */      f.prototype = ctor2.prototype;
/*  359 */      ctor.prototype = new f;
/*  360 */    };
/*  361 */  
/*  362 */    /**
    363        * Checks if the given object is an Array.
    364        *
    365        *     io.util.isArray([]); // true
    366        *     io.util.isArray({}); // false
    367        *
    368        * @param Object obj
    369        * @api public
    370        */
/*  371 */  
/*  372 */    util.isArray = Array.isArray || function (obj) {
/*  373 */      return Object.prototype.toString.call(obj) === '[object Array]';
/*  374 */    };
/*  375 */  
/*  376 */    /**
    377        * Intersects values of two arrays into a third
    378        *
    379        * @api public
    380        */
/*  381 */  
/*  382 */    util.intersect = function (arr, arr2) {
/*  383 */      var ret = []
/*  384 */        , longest = arr.length > arr2.length ? arr : arr2
/*  385 */        , shortest = arr.length > arr2.length ? arr2 : arr;
/*  386 */  
/*  387 */      for (var i = 0, l = shortest.length; i < l; i++) {
/*  388 */        if (~util.indexOf(longest, shortest[i]))
/*  389 */          ret.push(shortest[i]);
/*  390 */      }
/*  391 */  
/*  392 */      return ret;
/*  393 */    }
/*  394 */  
/*  395 */    /**
    396        * Array indexOf compatibility.
    397        *
    398        * @see bit.ly/a5Dxa2
    399        * @api public
    400        */
/*  401 */  
/*  402 */    util.indexOf = function (arr, o, i) {
/*  403 */      
/*  404 */      for (var j = arr.length, i = i < 0 ? i + j < 0 ? 0 : i + j : i || 0; 
/*  405 */           i < j && arr[i] !== o; i++) {}
/*  406 */  
/*  407 */      return j <= i ? -1 : i;
/*  408 */    };
/*  409 */  
/*  410 */    /**
    411        * Converts enumerables to array.
    412        *
    413        * @api public
    414        */
/*  415 */  
/*  416 */    util.toArray = function (enu) {
/*  417 */      var arr = [];
/*  418 */  
/*  419 */      for (var i = 0, l = enu.length; i < l; i++)
/*  420 */        arr.push(enu[i]);
/*  421 */  
/*  422 */      return arr;
/*  423 */    };
/*  424 */  
/*  425 */    /**
    426        * UA / engines detection namespace.
    427        *
    428        * @namespace
    429        */
/*  430 */  
/*  431 */    util.ua = {};
/*  432 */  
/*  433 */    /**
    434        * Whether the UA supports CORS for XHR.
    435        *
    436        * @api public
    437        */
/*  438 */  
/*  439 */    util.ua.hasCORS = 'undefined' != typeof XMLHttpRequest && (function () {
/*  440 */      try {
/*  441 */        var a = new XMLHttpRequest();
/*  442 */      } catch (e) {
/*  443 */        return false;
/*  444 */      }
/*  445 */  
/*  446 */      return a.withCredentials != undefined;
/*  447 */    })();
/*  448 */  
/*  449 */    /**
    450        * Detect webkit.
    451        *
    452        * @api public
    453        */
/*  454 */  
/*  455 */    util.ua.webkit = 'undefined' != typeof navigator
/*  456 */      && /webkit/i.test(navigator.userAgent);
/*  457 */  
/*  458 */     /**
    459        * Detect iPad/iPhone/iPod.
    460        *
    461        * @api public
    462        */
/*  463 */  
/*  464 */    util.ua.iDevice = 'undefined' != typeof navigator
/*  465 */        && /iPad|iPhone|iPod/i.test(navigator.userAgent);
/*  466 */  
/*  467 */  })('undefined' != typeof io ? io : module.exports, this);
/*  468 */  
/*  469 */  /**
    470      * socket.io
    471      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    472      * MIT Licensed
    473      */
/*  474 */  
/*  475 */  (function (exports, io) {
/*  476 */  
/*  477 */    /**
    478        * Expose constructor.
    479        */
/*  480 */  
/*  481 */    exports.EventEmitter = EventEmitter;
/*  482 */  
/*  483 */    /**
    484        * Event emitter constructor.
    485        *
    486        * @api public.
    487        */
/*  488 */  
/*  489 */    function EventEmitter () {};
/*  490 */  
/*  491 */    /**
    492        * Adds a listener
    493        *
    494        * @api public
    495        */
/*  496 */  
/*  497 */    EventEmitter.prototype.on = function (name, fn) {
/*  498 */      if (!this.$events) {
/*  499 */        this.$events = {};
/*  500 */      }
/*  501 */  
/*  502 */      if (!this.$events[name]) {
/*  503 */        this.$events[name] = fn;
/*  504 */      } else if (io.util.isArray(this.$events[name])) {
/*  505 */        this.$events[name].push(fn);
/*  506 */      } else {
/*  507 */        this.$events[name] = [this.$events[name], fn];
/*  508 */      }
/*  509 */  
/*  510 */      return this;
/*  511 */    };
/*  512 */  
/*  513 */    EventEmitter.prototype.addListener = EventEmitter.prototype.on;
/*  514 */  
/*  515 */    /**
    516        * Adds a volatile listener.
    517        *
    518        * @api public
    519        */
/*  520 */  
/*  521 */    EventEmitter.prototype.once = function (name, fn) {
/*  522 */      var self = this;
/*  523 */  
/*  524 */      function on () {
/*  525 */        self.removeListener(name, on);
/*  526 */        fn.apply(this, arguments);
/*  527 */      };
/*  528 */  
/*  529 */      on.listener = fn;
/*  530 */      this.on(name, on);
/*  531 */  
/*  532 */      return this;
/*  533 */    };
/*  534 */  
/*  535 */    /**
    536        * Removes a listener.
    537        *
    538        * @api public
    539        */
/*  540 */  
/*  541 */    EventEmitter.prototype.removeListener = function (name, fn) {
/*  542 */      if (this.$events && this.$events[name]) {
/*  543 */        var list = this.$events[name];
/*  544 */  
/*  545 */        if (io.util.isArray(list)) {
/*  546 */          var pos = -1;
/*  547 */  
/*  548 */          for (var i = 0, l = list.length; i < l; i++) {
/*  549 */            if (list[i] === fn || (list[i].listener && list[i].listener === fn)) {
/*  550 */              pos = i;
/*  551 */              break;
/*  552 */            }
/*  553 */          }
/*  554 */  
/*  555 */          if (pos < 0) {
/*  556 */            return this;
/*  557 */          }
/*  558 */  
/*  559 */          list.splice(pos, 1);
/*  560 */  
/*  561 */          if (!list.length) {
/*  562 */            delete this.$events[name];
/*  563 */          }
/*  564 */        } else if (list === fn || (list.listener && list.listener === fn)) {
/*  565 */          delete this.$events[name];
/*  566 */        }
/*  567 */      }
/*  568 */  
/*  569 */      return this;
/*  570 */    };
/*  571 */  
/*  572 */    /**
    573        * Removes all listeners for an event.
    574        *
    575        * @api public
    576        */
/*  577 */  
/*  578 */    EventEmitter.prototype.removeAllListeners = function (name) {
/*  579 */      // TODO: enable this when node 0.5 is stable
/*  580 */      //if (name === undefined) {
/*  581 */        //this.$events = {};
/*  582 */        //return this;
/*  583 */      //}
/*  584 */  
/*  585 */      if (this.$events && this.$events[name]) {
/*  586 */        this.$events[name] = null;
/*  587 */      }
/*  588 */  
/*  589 */      return this;
/*  590 */    };
/*  591 */  
/*  592 */    /**
    593        * Gets all listeners for a certain event.
    594        *
    595        * @api publci
    596        */
/*  597 */  
/*  598 */    EventEmitter.prototype.listeners = function (name) {
/*  599 */      if (!this.$events) {
/*  600 */        this.$events = {};
/*  601 */      }
/*  602 */  
/*  603 */      if (!this.$events[name]) {
/*  604 */        this.$events[name] = [];
/*  605 */      }
/*  606 */  
/*  607 */      if (!io.util.isArray(this.$events[name])) {
/*  608 */        this.$events[name] = [this.$events[name]];
/*  609 */      }
/*  610 */  
/*  611 */      return this.$events[name];
/*  612 */    };
/*  613 */  
/*  614 */    /**
    615        * Emits an event.
    616        *
    617        * @api public
    618        */
/*  619 */  
/*  620 */    EventEmitter.prototype.emit = function (name) {
/*  621 */      if (!this.$events) {
/*  622 */        return false;
/*  623 */      }
/*  624 */  
/*  625 */      var handler = this.$events[name];
/*  626 */  
/*  627 */      if (!handler) {
/*  628 */        return false;
/*  629 */      }
/*  630 */  
/*  631 */      var args = Array.prototype.slice.call(arguments, 1);
/*  632 */  
/*  633 */      if ('function' == typeof handler) {
/*  634 */        handler.apply(this, args);
/*  635 */      } else if (io.util.isArray(handler)) {
/*  636 */        var listeners = handler.slice();
/*  637 */  
/*  638 */        for (var i = 0, l = listeners.length; i < l; i++) {
/*  639 */          listeners[i].apply(this, args);
/*  640 */        }
/*  641 */      } else {
/*  642 */        return false;
/*  643 */      }
/*  644 */  
/*  645 */      return true;
/*  646 */    };
/*  647 */  
/*  648 */  })(
/*  649 */      'undefined' != typeof io ? io : module.exports
/*  650 */    , 'undefined' != typeof io ? io : module.parent.exports
/*  651 */  );
/*  652 */  
/*  653 */  /**
    654      * socket.io
    655      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    656      * MIT Licensed
    657      */
/*  658 */  
/*  659 */  /**
    660      * Based on JSON2 (http://www.JSON.org/js.html).
    661      */
/*  662 */  
/*  663 */  (function (exports, nativeJSON) {
/*  664 */    "use strict";
/*  665 */  
/*  666 */    // use native JSON if it's available
/*  667 */    if (nativeJSON && nativeJSON.parse){
/*  668 */      return exports.JSON = {
/*  669 */        parse: nativeJSON.parse
/*  670 */      , stringify: nativeJSON.stringify
/*  671 */      }
/*  672 */    }
/*  673 */  
/*  674 */    var JSON = exports.JSON = {};
/*  675 */  
/*  676 */    function f(n) {
/*  677 */        // Format integers to have at least two digits.
/*  678 */        return n < 10 ? '0' + n : n;
/*  679 */    }
/*  680 */  
/*  681 */    function date(d, key) {
/*  682 */      return isFinite(d.valueOf()) ?
/*  683 */          d.getUTCFullYear()     + '-' +
/*  684 */          f(d.getUTCMonth() + 1) + '-' +
/*  685 */          f(d.getUTCDate())      + 'T' +
/*  686 */          f(d.getUTCHours())     + ':' +
/*  687 */          f(d.getUTCMinutes())   + ':' +
/*  688 */          f(d.getUTCSeconds())   + 'Z' : null;
/*  689 */    };
/*  690 */  
/*  691 */    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
/*  692 */        escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
/*  693 */        gap,
/*  694 */        indent,
/*  695 */        meta = {    // table of character substitutions
/*  696 */            '\b': '\\b',
/*  697 */            '\t': '\\t',
/*  698 */            '\n': '\\n',
/*  699 */            '\f': '\\f',
/*  700 */            '\r': '\\r',
/*  701 */            '"' : '\\"',
/*  702 */            '\\': '\\\\'
/*  703 */        },
/*  704 */        rep;
/*  705 */  
/*  706 */  
/*  707 */    function quote(string) {
/*  708 */  
/*  709 */  // If the string contains no control characters, no quote characters, and no
/*  710 */  // backslash characters, then we can safely slap some quotes around it.
/*  711 */  // Otherwise we must also replace the offending characters with safe escape
/*  712 */  // sequences.
/*  713 */  
/*  714 */        escapable.lastIndex = 0;
/*  715 */        return escapable.test(string) ? '"' + string.replace(escapable, function (a) {
/*  716 */            var c = meta[a];
/*  717 */            return typeof c === 'string' ? c :
/*  718 */                '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
/*  719 */        }) + '"' : '"' + string + '"';
/*  720 */    }
/*  721 */  
/*  722 */  
/*  723 */    function str(key, holder) {
/*  724 */  
/*  725 */  // Produce a string from holder[key].
/*  726 */  
/*  727 */        var i,          // The loop counter.
/*  728 */            k,          // The member key.
/*  729 */            v,          // The member value.
/*  730 */            length,
/*  731 */            mind = gap,
/*  732 */            partial,
/*  733 */            value = holder[key];
/*  734 */  
/*  735 */  // If the value has a toJSON method, call it to obtain a replacement value.
/*  736 */  
/*  737 */        if (value instanceof Date) {
/*  738 */            value = date(key);
/*  739 */        }
/*  740 */  
/*  741 */  // If we were called with a replacer function, then call the replacer to
/*  742 */  // obtain a replacement value.
/*  743 */  
/*  744 */        if (typeof rep === 'function') {
/*  745 */            value = rep.call(holder, key, value);
/*  746 */        }
/*  747 */  
/*  748 */  // What happens next depends on the value's type.
/*  749 */  
/*  750 */        switch (typeof value) {
/*  751 */        case 'string':
/*  752 */            return quote(value);
/*  753 */  
/*  754 */        case 'number':
/*  755 */  
/*  756 */  // JSON numbers must be finite. Encode non-finite numbers as null.
/*  757 */  
/*  758 */            return isFinite(value) ? String(value) : 'null';
/*  759 */  
/*  760 */        case 'boolean':
/*  761 */        case 'null':
/*  762 */  
/*  763 */  // If the value is a boolean or null, convert it to a string. Note:
/*  764 */  // typeof null does not produce 'null'. The case is included here in
/*  765 */  // the remote chance that this gets fixed someday.
/*  766 */  
/*  767 */            return String(value);
/*  768 */  
/*  769 */  // If the type is 'object', we might be dealing with an object or an array or
/*  770 */  // null.
/*  771 */  
/*  772 */        case 'object':
/*  773 */  
/*  774 */  // Due to a specification blunder in ECMAScript, typeof null is 'object',
/*  775 */  // so watch out for that case.
/*  776 */  
/*  777 */            if (!value) {
/*  778 */                return 'null';
/*  779 */            }
/*  780 */  
/*  781 */  // Make an array to hold the partial results of stringifying this object value.
/*  782 */  
/*  783 */            gap += indent;
/*  784 */            partial = [];
/*  785 */  
/*  786 */  // Is the value an array?
/*  787 */  
/*  788 */            if (Object.prototype.toString.apply(value) === '[object Array]') {
/*  789 */  
/*  790 */  // The value is an array. Stringify every element. Use null as a placeholder
/*  791 */  // for non-JSON values.
/*  792 */  
/*  793 */                length = value.length;
/*  794 */                for (i = 0; i < length; i += 1) {
/*  795 */                    partial[i] = str(i, value) || 'null';
/*  796 */                }
/*  797 */  
/*  798 */  // Join all of the elements together, separated with commas, and wrap them in
/*  799 */  // brackets.
/*  800 */  
/*  801 */                v = partial.length === 0 ? '[]' : gap ?
/*  802 */                    '[\n' + gap + partial.join(',\n' + gap) + '\n' + mind + ']' :
/*  803 */                    '[' + partial.join(',') + ']';
/*  804 */                gap = mind;
/*  805 */                return v;
/*  806 */            }
/*  807 */  
/*  808 */  // If the replacer is an array, use it to select the members to be stringified.
/*  809 */  
/*  810 */            if (rep && typeof rep === 'object') {
/*  811 */                length = rep.length;
/*  812 */                for (i = 0; i < length; i += 1) {
/*  813 */                    if (typeof rep[i] === 'string') {
/*  814 */                        k = rep[i];
/*  815 */                        v = str(k, value);
/*  816 */                        if (v) {
/*  817 */                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
/*  818 */                        }
/*  819 */                    }
/*  820 */                }
/*  821 */            } else {
/*  822 */  
/*  823 */  // Otherwise, iterate through all of the keys in the object.
/*  824 */  
/*  825 */                for (k in value) {
/*  826 */                    if (Object.prototype.hasOwnProperty.call(value, k)) {
/*  827 */                        v = str(k, value);
/*  828 */                        if (v) {
/*  829 */                            partial.push(quote(k) + (gap ? ': ' : ':') + v);
/*  830 */                        }
/*  831 */                    }
/*  832 */                }
/*  833 */            }
/*  834 */  
/*  835 */  // Join all of the member texts together, separated with commas,
/*  836 */  // and wrap them in braces.
/*  837 */  
/*  838 */            v = partial.length === 0 ? '{}' : gap ?
/*  839 */                '{\n' + gap + partial.join(',\n' + gap) + '\n' + mind + '}' :
/*  840 */                '{' + partial.join(',') + '}';
/*  841 */            gap = mind;
/*  842 */            return v;
/*  843 */        }
/*  844 */    }
/*  845 */  
/*  846 */  // If the JSON object does not yet have a stringify method, give it one.
/*  847 */  
/*  848 */    JSON.stringify = function (value, replacer, space) {
/*  849 */  
/*  850 */  // The stringify method takes a value and an optional replacer, and an optional
/*  851 */  // space parameter, and returns a JSON text. The replacer can be a function
/*  852 */  // that can replace values, or an array of strings that will select the keys.
/*  853 */  // A default replacer method can be provided. Use of the space parameter can
/*  854 */  // produce text that is more easily readable.
/*  855 */  
/*  856 */        var i;
/*  857 */        gap = '';
/*  858 */        indent = '';
/*  859 */  
/*  860 */  // If the space parameter is a number, make an indent string containing that
/*  861 */  // many spaces.
/*  862 */  
/*  863 */        if (typeof space === 'number') {
/*  864 */            for (i = 0; i < space; i += 1) {
/*  865 */                indent += ' ';
/*  866 */            }
/*  867 */  
/*  868 */  // If the space parameter is a string, it will be used as the indent string.
/*  869 */  
/*  870 */        } else if (typeof space === 'string') {
/*  871 */            indent = space;
/*  872 */        }
/*  873 */  
/*  874 */  // If there is a replacer, it must be a function or an array.
/*  875 */  // Otherwise, throw an error.
/*  876 */  
/*  877 */        rep = replacer;
/*  878 */        if (replacer && typeof replacer !== 'function' &&
/*  879 */                (typeof replacer !== 'object' ||
/*  880 */                typeof replacer.length !== 'number')) {
/*  881 */            throw new Error('JSON.stringify');
/*  882 */        }
/*  883 */  
/*  884 */  // Make a fake root object containing our value under the key of ''.
/*  885 */  // Return the result of stringifying the value.
/*  886 */  
/*  887 */        return str('', {'': value});
/*  888 */    };
/*  889 */  
/*  890 */  // If the JSON object does not yet have a parse method, give it one.
/*  891 */  
/*  892 */    JSON.parse = function (text, reviver) {
/*  893 */    // The parse method takes a text and an optional reviver function, and returns
/*  894 */    // a JavaScript value if the text is a valid JSON text.
/*  895 */  
/*  896 */        var j;
/*  897 */  
/*  898 */        function walk(holder, key) {
/*  899 */  
/*  900 */    // The walk method is used to recursively walk the resulting structure so
/*  901 */    // that modifications can be made.
/*  902 */  
/*  903 */            var k, v, value = holder[key];
/*  904 */            if (value && typeof value === 'object') {
/*  905 */                for (k in value) {
/*  906 */                    if (Object.prototype.hasOwnProperty.call(value, k)) {
/*  907 */                        v = walk(value, k);
/*  908 */                        if (v !== undefined) {
/*  909 */                            value[k] = v;
/*  910 */                        } else {
/*  911 */                            delete value[k];
/*  912 */                        }
/*  913 */                    }
/*  914 */                }
/*  915 */            }
/*  916 */            return reviver.call(holder, key, value);
/*  917 */        }
/*  918 */  
/*  919 */  
/*  920 */    // Parsing happens in four stages. In the first stage, we replace certain
/*  921 */    // Unicode characters with escape sequences. JavaScript handles many characters
/*  922 */    // incorrectly, either silently deleting them, or treating them as line endings.
/*  923 */  
/*  924 */        text = String(text);
/*  925 */        cx.lastIndex = 0;
/*  926 */        if (cx.test(text)) {
/*  927 */            text = text.replace(cx, function (a) {
/*  928 */                return '\\u' +
/*  929 */                    ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
/*  930 */            });
/*  931 */        }
/*  932 */  
/*  933 */    // In the second stage, we run the text against regular expressions that look
/*  934 */    // for non-JSON patterns. We are especially concerned with '()' and 'new'
/*  935 */    // because they can cause invocation, and '=' because it can cause mutation.
/*  936 */    // But just to be safe, we want to reject all unexpected forms.
/*  937 */  
/*  938 */    // We split the second stage into 4 regexp operations in order to work around
/*  939 */    // crippling inefficiencies in IE's and Safari's regexp engines. First we
/*  940 */    // replace the JSON backslash pairs with '@' (a non-JSON character). Second, we
/*  941 */    // replace all simple value tokens with ']' characters. Third, we delete all
/*  942 */    // open brackets that follow a colon or comma or that begin the text. Finally,
/*  943 */    // we look to see that the remaining characters are only whitespace or ']' or
/*  944 */    // ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.
/*  945 */  
/*  946 */        if (/^[\],:{}\s]*$/
/*  947 */                .test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')
/*  948 */                    .replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']')
/*  949 */                    .replace(/(?:^|:|,)(?:\s*\[)+/g, ''))) {
/*  950 */  
/*  951 */    // In the third stage we use the eval function to compile the text into a
/*  952 */    // JavaScript structure. The '{' operator is subject to a syntactic ambiguity
/*  953 */    // in JavaScript: it can begin a block or an object literal. We wrap the text
/*  954 */    // in parens to eliminate the ambiguity.
/*  955 */  
/*  956 */            j = eval('(' + text + ')');
/*  957 */  
/*  958 */    // In the optional fourth stage, we recursively walk the new structure, passing
/*  959 */    // each name/value pair to a reviver function for possible transformation.
/*  960 */  
/*  961 */            return typeof reviver === 'function' ?
/*  962 */                walk({'': j}, '') : j;
/*  963 */        }
/*  964 */  
/*  965 */    // If the text is not JSON parseable, then a SyntaxError is thrown.
/*  966 */  
/*  967 */        throw new SyntaxError('JSON.parse');
/*  968 */    };
/*  969 */  
/*  970 */  })(
/*  971 */      'undefined' != typeof io ? io : module.exports
/*  972 */    , typeof JSON !== 'undefined' ? JSON : undefined
/*  973 */  );
/*  974 */  
/*  975 */  /**
    976      * socket.io
    977      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
    978      * MIT Licensed
    979      */
/*  980 */  
/*  981 */  (function (exports, io) {
/*  982 */  
/*  983 */    /**
    984        * Parser namespace.
    985        *
    986        * @namespace
    987        */
/*  988 */  
/*  989 */    var parser = exports.parser = {};
/*  990 */  
/*  991 */    /**
    992        * Packet types.
    993        */
/*  994 */  
/*  995 */    var packets = parser.packets = [
/*  996 */        'disconnect'
/*  997 */      , 'connect'
/*  998 */      , 'heartbeat'
/*  999 */      , 'message'
/* 1000 */      , 'json'
/* 1001 */      , 'event'
/* 1002 */      , 'ack'
/* 1003 */      , 'error'
/* 1004 */      , 'noop'
/* 1005 */    ];
/* 1006 */  
/* 1007 */    /**
   1008        * Errors reasons.
   1009        */
/* 1010 */  
/* 1011 */    var reasons = parser.reasons = [
/* 1012 */        'transport not supported'
/* 1013 */      , 'client not handshaken'
/* 1014 */      , 'unauthorized'
/* 1015 */    ];
/* 1016 */  
/* 1017 */    /**
   1018        * Errors advice.
   1019        */
/* 1020 */  
/* 1021 */    var advice = parser.advice = [
/* 1022 */        'reconnect'
/* 1023 */    ];
/* 1024 */  
/* 1025 */    /**
   1026        * Shortcuts.
   1027        */
/* 1028 */  
/* 1029 */    var JSON = io.JSON
/* 1030 */      , indexOf = io.util.indexOf;
/* 1031 */  
/* 1032 */    /**
   1033        * Encodes a packet.
   1034        *
   1035        * @api private
   1036        */
/* 1037 */  
/* 1038 */    parser.encodePacket = function (packet) {
/* 1039 */      var type = indexOf(packets, packet.type)
/* 1040 */        , id = packet.id || ''
/* 1041 */        , endpoint = packet.endpoint || ''
/* 1042 */        , ack = packet.ack
/* 1043 */        , data = null;
/* 1044 */  
/* 1045 */      switch (packet.type) {
/* 1046 */        case 'error':
/* 1047 */          var reason = packet.reason ? indexOf(reasons, packet.reason) : ''
/* 1048 */            , adv = packet.advice ? indexOf(advice, packet.advice) : '';
/* 1049 */  
/* 1050 */          if (reason !== '' || adv !== '')
/* 1051 */            data = reason + (adv !== '' ? ('+' + adv) : '');
/* 1052 */  
/* 1053 */          break;
/* 1054 */  
/* 1055 */        case 'message':
/* 1056 */          if (packet.data !== '')
/* 1057 */            data = packet.data;
/* 1058 */          break;
/* 1059 */  
/* 1060 */        case 'event':
/* 1061 */          var ev = { name: packet.name };
/* 1062 */  
/* 1063 */          if (packet.args && packet.args.length) {
/* 1064 */            ev.args = packet.args;
/* 1065 */          }
/* 1066 */  
/* 1067 */          data = JSON.stringify(ev);
/* 1068 */          break;
/* 1069 */  
/* 1070 */        case 'json':
/* 1071 */          data = JSON.stringify(packet.data);
/* 1072 */          break;
/* 1073 */  
/* 1074 */        case 'connect':
/* 1075 */          if (packet.qs)
/* 1076 */            data = packet.qs;
/* 1077 */          break;
/* 1078 */  
/* 1079 */        case 'ack':
/* 1080 */          data = packet.ackId
/* 1081 */            + (packet.args && packet.args.length
/* 1082 */                ? '+' + JSON.stringify(packet.args) : '');
/* 1083 */          break;
/* 1084 */      }
/* 1085 */  
/* 1086 */      // construct packet with required fragments
/* 1087 */      var encoded = [
/* 1088 */          type
/* 1089 */        , id + (ack == 'data' ? '+' : '')
/* 1090 */        , endpoint
/* 1091 */      ];
/* 1092 */  
/* 1093 */      // data fragment is optional
/* 1094 */      if (data !== null && data !== undefined)
/* 1095 */        encoded.push(data);
/* 1096 */  
/* 1097 */      return encoded.join(':');
/* 1098 */    };
/* 1099 */  
/* 1100 */    /**
   1101        * Encodes multiple messages (payload).
   1102        *
   1103        * @param {Array} messages
   1104        * @api private
   1105        */
/* 1106 */  
/* 1107 */    parser.encodePayload = function (packets) {
/* 1108 */      var decoded = '';
/* 1109 */  
/* 1110 */      if (packets.length == 1)
/* 1111 */        return packets[0];
/* 1112 */  
/* 1113 */      for (var i = 0, l = packets.length; i < l; i++) {
/* 1114 */        var packet = packets[i];
/* 1115 */        decoded += '\ufffd' + packet.length + '\ufffd' + packets[i];
/* 1116 */      }
/* 1117 */  
/* 1118 */      return decoded;
/* 1119 */    };
/* 1120 */  
/* 1121 */    /**
   1122        * Decodes a packet
   1123        *
   1124        * @api private
   1125        */
/* 1126 */  
/* 1127 */    var regexp = /([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;
/* 1128 */  
/* 1129 */    parser.decodePacket = function (data) {
/* 1130 */      var pieces = data.match(regexp);
/* 1131 */  
/* 1132 */      if (!pieces) return {};
/* 1133 */  
/* 1134 */      var id = pieces[2] || ''
/* 1135 */        , data = pieces[5] || ''
/* 1136 */        , packet = {
/* 1137 */              type: packets[pieces[1]]
/* 1138 */            , endpoint: pieces[4] || ''
/* 1139 */          };
/* 1140 */  
/* 1141 */      // whether we need to acknowledge the packet
/* 1142 */      if (id) {
/* 1143 */        packet.id = id;
/* 1144 */        if (pieces[3])
/* 1145 */          packet.ack = 'data';
/* 1146 */        else
/* 1147 */          packet.ack = true;
/* 1148 */      }
/* 1149 */  
/* 1150 */      // handle different packet types
/* 1151 */      switch (packet.type) {
/* 1152 */        case 'error':
/* 1153 */          var pieces = data.split('+');
/* 1154 */          packet.reason = reasons[pieces[0]] || '';
/* 1155 */          packet.advice = advice[pieces[1]] || '';
/* 1156 */          break;
/* 1157 */  
/* 1158 */        case 'message':
/* 1159 */          packet.data = data || '';
/* 1160 */          break;
/* 1161 */  
/* 1162 */        case 'event':
/* 1163 */          try {
/* 1164 */            var opts = JSON.parse(data);
/* 1165 */            packet.name = opts.name;
/* 1166 */            packet.args = opts.args;
/* 1167 */          } catch (e) { }
/* 1168 */  
/* 1169 */          packet.args = packet.args || [];
/* 1170 */          break;
/* 1171 */  
/* 1172 */        case 'json':
/* 1173 */          try {
/* 1174 */            packet.data = JSON.parse(data);
/* 1175 */          } catch (e) { }
/* 1176 */          break;
/* 1177 */  
/* 1178 */        case 'connect':
/* 1179 */          packet.qs = data || '';
/* 1180 */          break;
/* 1181 */  
/* 1182 */        case 'ack':
/* 1183 */          var pieces = data.match(/^([0-9]+)(\+)?(.*)/);
/* 1184 */          if (pieces) {
/* 1185 */            packet.ackId = pieces[1];
/* 1186 */            packet.args = [];
/* 1187 */  
/* 1188 */            if (pieces[3]) {
/* 1189 */              try {
/* 1190 */                packet.args = pieces[3] ? JSON.parse(pieces[3]) : [];
/* 1191 */              } catch (e) { }
/* 1192 */            }
/* 1193 */          }
/* 1194 */          break;
/* 1195 */  
/* 1196 */        case 'disconnect':
/* 1197 */        case 'heartbeat':
/* 1198 */          break;
/* 1199 */      };
/* 1200 */  
/* 1201 */      return packet;
/* 1202 */    };
/* 1203 */  
/* 1204 */    /**
   1205        * Decodes data payload. Detects multiple messages
   1206        *
   1207        * @return {Array} messages
   1208        * @api public
   1209        */
/* 1210 */  
/* 1211 */    parser.decodePayload = function (data) {
/* 1212 */      // IE doesn't like data[i] for unicode chars, charAt works fine
/* 1213 */      if (data.charAt(0) == '\ufffd') {
/* 1214 */        var ret = [];
/* 1215 */  
/* 1216 */        for (var i = 1, length = ''; i < data.length; i++) {
/* 1217 */          if (data.charAt(i) == '\ufffd') {
/* 1218 */            ret.push(parser.decodePacket(data.substr(i + 1).substr(0, length)));
/* 1219 */            i += Number(length) + 1;
/* 1220 */            length = '';
/* 1221 */          } else {
/* 1222 */            length += data.charAt(i);
/* 1223 */          }
/* 1224 */        }
/* 1225 */  
/* 1226 */        return ret;
/* 1227 */      } else {
/* 1228 */        return [parser.decodePacket(data)];
/* 1229 */      }
/* 1230 */    };
/* 1231 */  
/* 1232 */  })(
/* 1233 */      'undefined' != typeof io ? io : module.exports
/* 1234 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 1235 */  );
/* 1236 */  /**
   1237      * socket.io
   1238      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   1239      * MIT Licensed
   1240      */
/* 1241 */  
/* 1242 */  (function (exports, io) {
/* 1243 */  
/* 1244 */    /**
   1245        * Expose constructor.
   1246        */
/* 1247 */  
/* 1248 */    exports.Transport = Transport;
/* 1249 */  
/* 1250 */    /**
   1251        * This is the transport template for all supported transport methods.
   1252        *
   1253        * @constructor
   1254        * @api public
   1255        */
/* 1256 */  
/* 1257 */    function Transport (socket, sessid) {
/* 1258 */      this.socket = socket;
/* 1259 */      this.sessid = sessid;
/* 1260 */    };
/* 1261 */  
/* 1262 */    /**
   1263        * Apply EventEmitter mixin.
   1264        */
/* 1265 */  
/* 1266 */    io.util.mixin(Transport, io.EventEmitter);
/* 1267 */  
/* 1268 */    /**
   1269        * Handles the response from the server. When a new response is received
   1270        * it will automatically update the timeout, decode the message and
   1271        * forwards the response to the onMessage function for further processing.
   1272        *
   1273        * @param {String} data Response from the server.
   1274        * @api private
   1275        */
/* 1276 */  
/* 1277 */    Transport.prototype.onData = function (data) {
/* 1278 */      this.clearCloseTimeout();
/* 1279 */      
/* 1280 */      // If the connection in currently open (or in a reopening state) reset the close 
/* 1281 */      // timeout since we have just received data. This check is necessary so
/* 1282 */      // that we don't reset the timeout on an explicitly disconnected connection.
/* 1283 */      if (this.socket.connected || this.socket.connecting || this.socket.reconnecting) {
/* 1284 */        this.setCloseTimeout();
/* 1285 */      }
/* 1286 */  
/* 1287 */      if (data !== '') {
/* 1288 */        // todo: we should only do decodePayload for xhr transports
/* 1289 */        var msgs = io.parser.decodePayload(data);
/* 1290 */  
/* 1291 */        if (msgs && msgs.length) {
/* 1292 */          for (var i = 0, l = msgs.length; i < l; i++) {
/* 1293 */            this.onPacket(msgs[i]);
/* 1294 */          }
/* 1295 */        }
/* 1296 */      }
/* 1297 */  
/* 1298 */      return this;
/* 1299 */    };
/* 1300 */  
/* 1301 */    /**
   1302        * Handles packets.
   1303        *
   1304        * @api private
   1305        */
/* 1306 */  
/* 1307 */    Transport.prototype.onPacket = function (packet) {
/* 1308 */      this.socket.setHeartbeatTimeout();
/* 1309 */  
/* 1310 */      if (packet.type == 'heartbeat') {
/* 1311 */        return this.onHeartbeat();
/* 1312 */      }
/* 1313 */  
/* 1314 */      if (packet.type == 'connect' && packet.endpoint == '') {
/* 1315 */        this.onConnect();
/* 1316 */      }
/* 1317 */  
/* 1318 */      if (packet.type == 'error' && packet.advice == 'reconnect') {
/* 1319 */        this.open = false;
/* 1320 */      }
/* 1321 */  
/* 1322 */      this.socket.onPacket(packet);
/* 1323 */  
/* 1324 */      return this;
/* 1325 */    };
/* 1326 */  
/* 1327 */    /**
   1328        * Sets close timeout
   1329        *
   1330        * @api private
   1331        */
/* 1332 */    
/* 1333 */    Transport.prototype.setCloseTimeout = function () {
/* 1334 */      if (!this.closeTimeout) {
/* 1335 */        var self = this;
/* 1336 */  
/* 1337 */        this.closeTimeout = setTimeout(function () {
/* 1338 */          self.onDisconnect();
/* 1339 */        }, this.socket.closeTimeout);
/* 1340 */      }
/* 1341 */    };
/* 1342 */  
/* 1343 */    /**
   1344        * Called when transport disconnects.
   1345        *
   1346        * @api private
   1347        */
/* 1348 */  
/* 1349 */    Transport.prototype.onDisconnect = function () {
/* 1350 */      if (this.close && this.open) this.close();
/* 1351 */      this.clearTimeouts();
/* 1352 */      this.socket.onDisconnect();
/* 1353 */      return this;
/* 1354 */    };
/* 1355 */  
/* 1356 */    /**
   1357        * Called when transport connects
   1358        *
   1359        * @api private
   1360        */
/* 1361 */  
/* 1362 */    Transport.prototype.onConnect = function () {
/* 1363 */      this.socket.onConnect();
/* 1364 */      return this;
/* 1365 */    }
/* 1366 */  
/* 1367 */    /**
   1368        * Clears close timeout
   1369        *
   1370        * @api private
   1371        */
/* 1372 */  
/* 1373 */    Transport.prototype.clearCloseTimeout = function () {
/* 1374 */      if (this.closeTimeout) {
/* 1375 */        clearTimeout(this.closeTimeout);
/* 1376 */        this.closeTimeout = null;
/* 1377 */      }
/* 1378 */    };
/* 1379 */  
/* 1380 */    /**
   1381        * Clear timeouts
   1382        *
   1383        * @api private
   1384        */
/* 1385 */  
/* 1386 */    Transport.prototype.clearTimeouts = function () {
/* 1387 */      this.clearCloseTimeout();
/* 1388 */  
/* 1389 */      if (this.reopenTimeout) {
/* 1390 */        clearTimeout(this.reopenTimeout);
/* 1391 */      }
/* 1392 */    };
/* 1393 */  
/* 1394 */    /**
   1395        * Sends a packet
   1396        *
   1397        * @param {Object} packet object.
   1398        * @api private
   1399        */
/* 1400 */  
/* 1401 */    Transport.prototype.packet = function (packet) {
/* 1402 */      this.send(io.parser.encodePacket(packet));
/* 1403 */    };
/* 1404 */  
/* 1405 */    /**
   1406        * Send the received heartbeat message back to server. So the server
   1407        * knows we are still connected.
   1408        *
   1409        * @param {String} heartbeat Heartbeat response from the server.
   1410        * @api private
   1411        */
/* 1412 */  
/* 1413 */    Transport.prototype.onHeartbeat = function (heartbeat) {
/* 1414 */      this.packet({ type: 'heartbeat' });
/* 1415 */    };
/* 1416 */   
/* 1417 */    /**
   1418        * Called when the transport opens.
   1419        *
   1420        * @api private
   1421        */
/* 1422 */  
/* 1423 */    Transport.prototype.onOpen = function () {
/* 1424 */      this.open = true;
/* 1425 */      this.clearCloseTimeout();
/* 1426 */      this.socket.onOpen();
/* 1427 */    };
/* 1428 */  
/* 1429 */    /**
   1430        * Notifies the base when the connection with the Socket.IO server
   1431        * has been disconnected.
   1432        *
   1433        * @api private
   1434        */
/* 1435 */  
/* 1436 */    Transport.prototype.onClose = function () {
/* 1437 */      var self = this;
/* 1438 */  
/* 1439 */      /* FIXME: reopen delay causing a infinit loop
   1440         this.reopenTimeout = setTimeout(function () {
   1441           self.open();
   1442         }, this.socket.options['reopen delay']);*/
/* 1443 */  
/* 1444 */      this.open = false;
/* 1445 */      this.socket.onClose();
/* 1446 */      this.onDisconnect();
/* 1447 */    };
/* 1448 */  
/* 1449 */    /**
   1450        * Generates a connection url based on the Socket.IO URL Protocol.
   1451        * See <https://github.com/learnboost/socket.io-node/> for more details.
   1452        *
   1453        * @returns {String} Connection url
   1454        * @api private
   1455        */
/* 1456 */  
/* 1457 */    Transport.prototype.prepareUrl = function () {
/* 1458 */      var options = this.socket.options;
/* 1459 */  
/* 1460 */      return this.scheme() + '://'
/* 1461 */        + options.host + ':' + options.port + '/'
/* 1462 */        + options.resource + '/' + io.protocol
/* 1463 */        + '/' + this.name + '/' + this.sessid;
/* 1464 */    };
/* 1465 */  
/* 1466 */    /**
   1467        * Checks if the transport is ready to start a connection.
   1468        *
   1469        * @param {Socket} socket The socket instance that needs a transport
   1470        * @param {Function} fn The callback
   1471        * @api private
   1472        */
/* 1473 */  
/* 1474 */    Transport.prototype.ready = function (socket, fn) {
/* 1475 */      fn.call(this);
/* 1476 */    };
/* 1477 */  })(
/* 1478 */      'undefined' != typeof io ? io : module.exports
/* 1479 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 1480 */  );
/* 1481 */  /**
   1482      * socket.io
   1483      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   1484      * MIT Licensed
   1485      */
/* 1486 */  
/* 1487 */  (function (exports, io, global) {
/* 1488 */  
/* 1489 */    /**
   1490        * Expose constructor.
   1491        */
/* 1492 */  
/* 1493 */    exports.Socket = Socket;
/* 1494 */  
/* 1495 */    /**
   1496        * Create a new `Socket.IO client` which can establish a persistent
   1497        * connection with a Socket.IO enabled server.
   1498        *
   1499        * @api public
   1500        */
/* 1501 */  
/* 1502 */    function Socket (options) {
/* 1503 */      this.options = {
/* 1504 */          port: 80
/* 1505 */        , secure: false
/* 1506 */        , document: 'document' in global ? document : false
/* 1507 */        , resource: 'socket.io'
/* 1508 */        , transports: io.transports
/* 1509 */        , 'connect timeout': 10000
/* 1510 */        , 'try multiple transports': true
/* 1511 */        , 'reconnect': true
/* 1512 */        , 'reconnection delay': 500
/* 1513 */        , 'reconnection limit': Infinity
/* 1514 */        , 'reopen delay': 3000
/* 1515 */        , 'max reconnection attempts': 10
/* 1516 */        , 'sync disconnect on unload': true
/* 1517 */        , 'auto connect': true
/* 1518 */        , 'flash policy port': 10843
/* 1519 */      };
/* 1520 */  
/* 1521 */      io.util.merge(this.options, options);
/* 1522 */  
/* 1523 */      this.connected = false;
/* 1524 */      this.open = false;
/* 1525 */      this.connecting = false;
/* 1526 */      this.reconnecting = false;
/* 1527 */      this.namespaces = {};
/* 1528 */      this.buffer = [];
/* 1529 */      this.doBuffer = false;
/* 1530 */  
/* 1531 */      if (this.options['sync disconnect on unload'] &&
/* 1532 */          (!this.isXDomain() || io.util.ua.hasCORS)) {
/* 1533 */        var self = this;
/* 1534 */  
/* 1535 */        io.util.on(global, 'unload', function () {
/* 1536 */          self.disconnectSync();
/* 1537 */        }, false);
/* 1538 */      }
/* 1539 */  
/* 1540 */      if (this.options['auto connect']) {
/* 1541 */        this.connect();
/* 1542 */      }
/* 1543 */  };
/* 1544 */  
/* 1545 */    /**
   1546        * Apply EventEmitter mixin.
   1547        */
/* 1548 */  
/* 1549 */    io.util.mixin(Socket, io.EventEmitter);
/* 1550 */  
/* 1551 */    /**
   1552        * Returns a namespace listener/emitter for this socket
   1553        *
   1554        * @api public
   1555        */
/* 1556 */  
/* 1557 */    Socket.prototype.of = function (name) {
/* 1558 */      if (!this.namespaces[name]) {
/* 1559 */        this.namespaces[name] = new io.SocketNamespace(this, name);
/* 1560 */  
/* 1561 */        if (name !== '') {
/* 1562 */          this.namespaces[name].packet({ type: 'connect' });
/* 1563 */        }
/* 1564 */      }
/* 1565 */  
/* 1566 */      return this.namespaces[name];
/* 1567 */    };
/* 1568 */  
/* 1569 */    /**
   1570        * Emits the given event to the Socket and all namespaces
   1571        *
   1572        * @api private
   1573        */
/* 1574 */  
/* 1575 */    Socket.prototype.publish = function () {
/* 1576 */      this.emit.apply(this, arguments);
/* 1577 */  
/* 1578 */      var nsp;
/* 1579 */  
/* 1580 */      for (var i in this.namespaces) {
/* 1581 */        if (this.namespaces.hasOwnProperty(i)) {
/* 1582 */          nsp = this.of(i);
/* 1583 */          nsp.$emit.apply(nsp, arguments);
/* 1584 */        }
/* 1585 */      }
/* 1586 */    };
/* 1587 */  
/* 1588 */    /**
   1589        * Performs the handshake
   1590        *
   1591        * @api private
   1592        */
/* 1593 */  
/* 1594 */    function empty () { };
/* 1595 */  
/* 1596 */    Socket.prototype.handshake = function (fn) {
/* 1597 */      var self = this
/* 1598 */        , options = this.options;
/* 1599 */  
/* 1600 */      function complete (data) {
/* 1601 */        if (data instanceof Error) {
/* 1602 */          self.connecting = false;
/* 1603 */          self.onError(data.message);
/* 1604 */        } else {
/* 1605 */          fn.apply(null, data.split(':'));
/* 1606 */        }
/* 1607 */      };
/* 1608 */  
/* 1609 */      var url = [
/* 1610 */            'http' + (options.secure ? 's' : '') + ':/'
/* 1611 */          , options.host + ':' + options.port
/* 1612 */          , options.resource
/* 1613 */          , io.protocol
/* 1614 */          , io.util.query(this.options.query, 't=' + +new Date)
/* 1615 */        ].join('/');
/* 1616 */  
/* 1617 */      if (this.isXDomain() && !io.util.ua.hasCORS) {
/* 1618 */        var insertAt = document.getElementsByTagName('script')[0]
/* 1619 */          , script = document.createElement('script');
/* 1620 */  
/* 1621 */        script.src = url + '&jsonp=' + io.j.length;
/* 1622 */        insertAt.parentNode.insertBefore(script, insertAt);
/* 1623 */  
/* 1624 */        io.j.push(function (data) {
/* 1625 */          complete(data);
/* 1626 */          script.parentNode.removeChild(script);
/* 1627 */        });
/* 1628 */      } else {
/* 1629 */        var xhr = io.util.request();
/* 1630 */  
/* 1631 */        xhr.open('GET', url, true);
/* 1632 */        xhr.withCredentials = true;
/* 1633 */        xhr.onreadystatechange = function () {
/* 1634 */          if (xhr.readyState == 4) {
/* 1635 */            xhr.onreadystatechange = empty;
/* 1636 */  
/* 1637 */            if (xhr.status == 200) {
/* 1638 */              complete(xhr.responseText);
/* 1639 */            } else {
/* 1640 */              self.connecting = false;            
/* 1641 */              !self.reconnecting && self.onError(xhr.responseText);
/* 1642 */            }
/* 1643 */          }
/* 1644 */        };
/* 1645 */        xhr.send(null);
/* 1646 */      }
/* 1647 */    };
/* 1648 */  
/* 1649 */    /**
   1650        * Find an available transport based on the options supplied in the constructor.
   1651        *
   1652        * @api private
   1653        */
/* 1654 */  
/* 1655 */    Socket.prototype.getTransport = function (override) {
/* 1656 */      var transports = override || this.transports, match;
/* 1657 */  
/* 1658 */      for (var i = 0, transport; transport = transports[i]; i++) {
/* 1659 */        if (io.Transport[transport]
/* 1660 */          && io.Transport[transport].check(this)
/* 1661 */          && (!this.isXDomain() || io.Transport[transport].xdomainCheck())) {
/* 1662 */          return new io.Transport[transport](this, this.sessionid);
/* 1663 */        }
/* 1664 */      }
/* 1665 */  
/* 1666 */      return null;
/* 1667 */    };
/* 1668 */  
/* 1669 */    /**
   1670        * Connects to the server.
   1671        *
   1672        * @param {Function} [fn] Callback.
   1673        * @returns {io.Socket}
   1674        * @api public
   1675        */
/* 1676 */  
/* 1677 */    Socket.prototype.connect = function (fn) {
/* 1678 */      if (this.connecting) {
/* 1679 */        return this;
/* 1680 */      }
/* 1681 */  
/* 1682 */      var self = this;
/* 1683 */      self.connecting = true;
/* 1684 */      
/* 1685 */      this.handshake(function (sid, heartbeat, close, transports) {
/* 1686 */        self.sessionid = sid;
/* 1687 */        self.closeTimeout = close * 1000;
/* 1688 */        self.heartbeatTimeout = heartbeat * 1000;
/* 1689 */        self.transports = transports ? io.util.intersect(
/* 1690 */            transports.split(',')
/* 1691 */          , self.options.transports
/* 1692 */        ) : self.options.transports;
/* 1693 */  
/* 1694 */        self.setHeartbeatTimeout();
/* 1695 */  
/* 1696 */        function connect (transports){
/* 1697 */          if (self.transport) self.transport.clearTimeouts();
/* 1698 */  
/* 1699 */          self.transport = self.getTransport(transports);
/* 1700 */          if (!self.transport) return self.publish('connect_failed');
/* 1701 */  
/* 1702 */          // once the transport is ready
/* 1703 */          self.transport.ready(self, function () {
/* 1704 */            self.connecting = true;
/* 1705 */            self.publish('connecting', self.transport.name);
/* 1706 */            self.transport.open();
/* 1707 */  
/* 1708 */            if (self.options['connect timeout']) {
/* 1709 */              self.connectTimeoutTimer = setTimeout(function () {
/* 1710 */                if (!self.connected) {
/* 1711 */                  self.connecting = false;
/* 1712 */  
/* 1713 */                  if (self.options['try multiple transports']) {
/* 1714 */                    if (!self.remainingTransports) {
/* 1715 */                      self.remainingTransports = self.transports.slice(0);
/* 1716 */                    }
/* 1717 */  
/* 1718 */                    var remaining = self.remainingTransports;
/* 1719 */  
/* 1720 */                    while (remaining.length > 0 && remaining.splice(0,1)[0] !=
/* 1721 */                           self.transport.name) {}
/* 1722 */  
/* 1723 */                      if (remaining.length){
/* 1724 */                        connect(remaining);
/* 1725 */                      } else {
/* 1726 */                        self.publish('connect_failed');
/* 1727 */                      }
/* 1728 */                  }
/* 1729 */                }
/* 1730 */              }, self.options['connect timeout']);
/* 1731 */            }
/* 1732 */          });
/* 1733 */        }
/* 1734 */  
/* 1735 */        connect(self.transports);
/* 1736 */  
/* 1737 */        self.once('connect', function (){
/* 1738 */          clearTimeout(self.connectTimeoutTimer);
/* 1739 */  
/* 1740 */          fn && typeof fn == 'function' && fn();
/* 1741 */        });
/* 1742 */      });
/* 1743 */  
/* 1744 */      return this;
/* 1745 */    };
/* 1746 */  
/* 1747 */    /**
   1748        * Clears and sets a new heartbeat timeout using the value given by the
   1749        * server during the handshake.
   1750        *
   1751        * @api private
   1752        */
/* 1753 */  
/* 1754 */    Socket.prototype.setHeartbeatTimeout = function () {
/* 1755 */      clearTimeout(this.heartbeatTimeoutTimer);
/* 1756 */  
/* 1757 */      var self = this;
/* 1758 */      this.heartbeatTimeoutTimer = setTimeout(function () {
/* 1759 */        self.transport.onClose();
/* 1760 */      }, this.heartbeatTimeout);
/* 1761 */    };
/* 1762 */  
/* 1763 */    /**
   1764        * Sends a message.
   1765        *
   1766        * @param {Object} data packet.
   1767        * @returns {io.Socket}
   1768        * @api public
   1769        */
/* 1770 */  
/* 1771 */    Socket.prototype.packet = function (data) {
/* 1772 */      if (this.connected && !this.doBuffer) {
/* 1773 */        this.transport.packet(data);
/* 1774 */      } else {
/* 1775 */        this.buffer.push(data);
/* 1776 */      }
/* 1777 */  
/* 1778 */      return this;
/* 1779 */    };
/* 1780 */  
/* 1781 */    /**
   1782        * Sets buffer state
   1783        *
   1784        * @api private
   1785        */
/* 1786 */  
/* 1787 */    Socket.prototype.setBuffer = function (v) {
/* 1788 */      this.doBuffer = v;
/* 1789 */  
/* 1790 */      if (!v && this.connected && this.buffer.length) {
/* 1791 */        this.transport.payload(this.buffer);
/* 1792 */        this.buffer = [];
/* 1793 */      }
/* 1794 */    };
/* 1795 */  
/* 1796 */    /**
   1797        * Disconnect the established connect.
   1798        *
   1799        * @returns {io.Socket}
   1800        * @api public
   1801        */
/* 1802 */  
/* 1803 */    Socket.prototype.disconnect = function () {
/* 1804 */      if (this.connected || this.connecting) {
/* 1805 */        if (this.open) {
/* 1806 */          this.of('').packet({ type: 'disconnect' });
/* 1807 */        }
/* 1808 */  
/* 1809 */        // handle disconnection immediately
/* 1810 */        this.onDisconnect('booted');
/* 1811 */      }
/* 1812 */  
/* 1813 */      return this;
/* 1814 */    };
/* 1815 */  
/* 1816 */    /**
   1817        * Disconnects the socket with a sync XHR.
   1818        *
   1819        * @api private
   1820        */
/* 1821 */  
/* 1822 */    Socket.prototype.disconnectSync = function () {
/* 1823 */      // ensure disconnection
/* 1824 */      var xhr = io.util.request()
/* 1825 */        , uri = this.resource + '/' + io.protocol + '/' + this.sessionid;
/* 1826 */  
/* 1827 */      xhr.open('GET', uri, true);
/* 1828 */  
/* 1829 */      // handle disconnection immediately
/* 1830 */      this.onDisconnect('booted');
/* 1831 */    };
/* 1832 */  
/* 1833 */    /**
   1834        * Check if we need to use cross domain enabled transports. Cross domain would
   1835        * be a different port or different domain name.
   1836        *
   1837        * @returns {Boolean}
   1838        * @api private
   1839        */
/* 1840 */  
/* 1841 */    Socket.prototype.isXDomain = function () {
/* 1842 */  
/* 1843 */      var port = global.location.port ||
/* 1844 */        ('https:' == global.location.protocol ? 443 : 80);
/* 1845 */  
/* 1846 */      return this.options.host !== global.location.hostname 
/* 1847 */        || this.options.port != port;
/* 1848 */    };
/* 1849 */  
/* 1850 */    /**
   1851        * Called upon handshake.
   1852        *
   1853        * @api private
   1854        */
/* 1855 */  
/* 1856 */    Socket.prototype.onConnect = function () {
/* 1857 */      if (!this.connected) {
/* 1858 */        this.connected = true;
/* 1859 */        this.connecting = false;
/* 1860 */        if (!this.doBuffer) {
/* 1861 */          // make sure to flush the buffer
/* 1862 */          this.setBuffer(false);
/* 1863 */        }
/* 1864 */        this.emit('connect');
/* 1865 */      }
/* 1866 */    };
/* 1867 */  
/* 1868 */    /**
   1869        * Called when the transport opens
   1870        *
   1871        * @api private
   1872        */
/* 1873 */  
/* 1874 */    Socket.prototype.onOpen = function () {
/* 1875 */      this.open = true;
/* 1876 */    };
/* 1877 */  
/* 1878 */    /**
   1879        * Called when the transport closes.
   1880        *
   1881        * @api private
   1882        */
/* 1883 */  
/* 1884 */    Socket.prototype.onClose = function () {
/* 1885 */      this.open = false;
/* 1886 */      clearTimeout(this.heartbeatTimeoutTimer);
/* 1887 */    };
/* 1888 */  
/* 1889 */    /**
   1890        * Called when the transport first opens a connection
   1891        *
   1892        * @param text
   1893        */
/* 1894 */  
/* 1895 */    Socket.prototype.onPacket = function (packet) {
/* 1896 */      this.of(packet.endpoint).onPacket(packet);
/* 1897 */    };
/* 1898 */  
/* 1899 */    /**
   1900        * Handles an error.
   1901        *
   1902        * @api private
   1903        */
/* 1904 */  
/* 1905 */    Socket.prototype.onError = function (err) {
/* 1906 */      if (err && err.advice) {
/* 1907 */        if (err.advice === 'reconnect' && (this.connected || this.connecting)) {
/* 1908 */          this.disconnect();
/* 1909 */          if (this.options.reconnect) {
/* 1910 */            this.reconnect();
/* 1911 */          }
/* 1912 */        }
/* 1913 */      }
/* 1914 */  
/* 1915 */      this.publish('error', err && err.reason ? err.reason : err);
/* 1916 */    };
/* 1917 */  
/* 1918 */    /**
   1919        * Called when the transport disconnects.
   1920        *
   1921        * @api private
   1922        */
/* 1923 */  
/* 1924 */    Socket.prototype.onDisconnect = function (reason) {
/* 1925 */      var wasConnected = this.connected
/* 1926 */        , wasConnecting = this.connecting;
/* 1927 */  
/* 1928 */      this.connected = false;
/* 1929 */      this.connecting = false;
/* 1930 */      this.open = false;
/* 1931 */  
/* 1932 */      if (wasConnected || wasConnecting) {
/* 1933 */        this.transport.close();
/* 1934 */        this.transport.clearTimeouts();
/* 1935 */        if (wasConnected) {
/* 1936 */          this.publish('disconnect', reason);
/* 1937 */  
/* 1938 */          if ('booted' != reason && this.options.reconnect && !this.reconnecting) {
/* 1939 */            this.reconnect();
/* 1940 */          }
/* 1941 */        }
/* 1942 */      }
/* 1943 */    };
/* 1944 */  
/* 1945 */    /**
   1946        * Called upon reconnection.
   1947        *
   1948        * @api private
   1949        */
/* 1950 */  
/* 1951 */    Socket.prototype.reconnect = function () {
/* 1952 */      this.reconnecting = true;
/* 1953 */      this.reconnectionAttempts = 0;
/* 1954 */      this.reconnectionDelay = this.options['reconnection delay'];
/* 1955 */  
/* 1956 */      var self = this
/* 1957 */        , maxAttempts = this.options['max reconnection attempts']
/* 1958 */        , tryMultiple = this.options['try multiple transports']
/* 1959 */        , limit = this.options['reconnection limit'];
/* 1960 */  
/* 1961 */      function reset () {
/* 1962 */        if (self.connected) {
/* 1963 */          for (var i in self.namespaces) {
/* 1964 */            if (self.namespaces.hasOwnProperty(i) && '' !== i) {
/* 1965 */                self.namespaces[i].packet({ type: 'connect' });
/* 1966 */            }
/* 1967 */          }
/* 1968 */          self.publish('reconnect', self.transport.name, self.reconnectionAttempts);
/* 1969 */        }
/* 1970 */  
/* 1971 */        clearTimeout(self.reconnectionTimer);
/* 1972 */  
/* 1973 */        self.removeListener('connect_failed', maybeReconnect);
/* 1974 */        self.removeListener('connect', maybeReconnect);
/* 1975 */  
/* 1976 */        self.reconnecting = false;
/* 1977 */  
/* 1978 */        delete self.reconnectionAttempts;
/* 1979 */        delete self.reconnectionDelay;
/* 1980 */        delete self.reconnectionTimer;
/* 1981 */        delete self.redoTransports;
/* 1982 */  
/* 1983 */        self.options['try multiple transports'] = tryMultiple;
/* 1984 */      };
/* 1985 */  
/* 1986 */      function maybeReconnect () {
/* 1987 */        if (!self.reconnecting) {
/* 1988 */          return;
/* 1989 */        }
/* 1990 */  
/* 1991 */        if (self.connected) {
/* 1992 */          return reset();
/* 1993 */        };
/* 1994 */  
/* 1995 */        if (self.connecting && self.reconnecting) {
/* 1996 */          return self.reconnectionTimer = setTimeout(maybeReconnect, 1000);
/* 1997 */        }
/* 1998 */  
/* 1999 */        if (self.reconnectionAttempts++ >= maxAttempts) {
/* 2000 */          if (!self.redoTransports) {
/* 2001 */            self.on('connect_failed', maybeReconnect);
/* 2002 */            self.options['try multiple transports'] = true;
/* 2003 */            self.transport = self.getTransport();
/* 2004 */            self.redoTransports = true;
/* 2005 */            self.connect();
/* 2006 */          } else {
/* 2007 */            self.publish('reconnect_failed');
/* 2008 */            reset();
/* 2009 */          }
/* 2010 */        } else {
/* 2011 */          if (self.reconnectionDelay < limit) {
/* 2012 */            self.reconnectionDelay *= 2; // exponential back off
/* 2013 */          }
/* 2014 */  
/* 2015 */          self.connect();
/* 2016 */          self.publish('reconnecting', self.reconnectionDelay, self.reconnectionAttempts);
/* 2017 */          self.reconnectionTimer = setTimeout(maybeReconnect, self.reconnectionDelay);
/* 2018 */        }
/* 2019 */      };
/* 2020 */  
/* 2021 */      this.options['try multiple transports'] = false;
/* 2022 */      this.reconnectionTimer = setTimeout(maybeReconnect, this.reconnectionDelay);
/* 2023 */  
/* 2024 */      this.on('connect', maybeReconnect);
/* 2025 */    };
/* 2026 */  
/* 2027 */  })(
/* 2028 */      'undefined' != typeof io ? io : module.exports
/* 2029 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2030 */    , this
/* 2031 */  );
/* 2032 */  /**
   2033      * socket.io
   2034      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   2035      * MIT Licensed
   2036      */
/* 2037 */  
/* 2038 */  (function (exports, io) {
/* 2039 */  
/* 2040 */    /**
   2041        * Expose constructor.
   2042        */
/* 2043 */  
/* 2044 */    exports.SocketNamespace = SocketNamespace;
/* 2045 */  
/* 2046 */    /**
   2047        * Socket namespace constructor.
   2048        *
   2049        * @constructor
   2050        * @api public
   2051        */
/* 2052 */  
/* 2053 */    function SocketNamespace (socket, name) {
/* 2054 */      this.socket = socket;
/* 2055 */      this.name = name || '';
/* 2056 */      this.flags = {};
/* 2057 */      this.json = new Flag(this, 'json');
/* 2058 */      this.ackPackets = 0;
/* 2059 */      this.acks = {};
/* 2060 */    };
/* 2061 */  
/* 2062 */    /**
   2063        * Apply EventEmitter mixin.
   2064        */
/* 2065 */  
/* 2066 */    io.util.mixin(SocketNamespace, io.EventEmitter);
/* 2067 */  
/* 2068 */    /**
   2069        * Copies emit since we override it
   2070        *
   2071        * @api private
   2072        */
/* 2073 */  
/* 2074 */    SocketNamespace.prototype.$emit = io.EventEmitter.prototype.emit;
/* 2075 */  
/* 2076 */    /**
   2077        * Creates a new namespace, by proxying the request to the socket. This
   2078        * allows us to use the synax as we do on the server.
   2079        *
   2080        * @api public
   2081        */
/* 2082 */  
/* 2083 */    SocketNamespace.prototype.of = function () {
/* 2084 */      return this.socket.of.apply(this.socket, arguments);
/* 2085 */    };
/* 2086 */  
/* 2087 */    /**
   2088        * Sends a packet.
   2089        *
   2090        * @api private
   2091        */
/* 2092 */  
/* 2093 */    SocketNamespace.prototype.packet = function (packet) {
/* 2094 */      packet.endpoint = this.name;
/* 2095 */      this.socket.packet(packet);
/* 2096 */      this.flags = {};
/* 2097 */      return this;
/* 2098 */    };
/* 2099 */  
/* 2100 */    /**
   2101        * Sends a message
   2102        *
   2103        * @api public
   2104        */
/* 2105 */  
/* 2106 */    SocketNamespace.prototype.send = function (data, fn) {
/* 2107 */      var packet = {
/* 2108 */          type: this.flags.json ? 'json' : 'message'
/* 2109 */        , data: data
/* 2110 */      };
/* 2111 */  
/* 2112 */      if ('function' == typeof fn) {
/* 2113 */        packet.id = ++this.ackPackets;
/* 2114 */        packet.ack = true;
/* 2115 */        this.acks[packet.id] = fn;
/* 2116 */      }
/* 2117 */  
/* 2118 */      return this.packet(packet);
/* 2119 */    };
/* 2120 */  
/* 2121 */    /**
   2122        * Emits an event
   2123        *
   2124        * @api public
   2125        */
/* 2126 */    
/* 2127 */    SocketNamespace.prototype.emit = function (name) {
/* 2128 */      var args = Array.prototype.slice.call(arguments, 1)
/* 2129 */        , lastArg = args[args.length - 1]
/* 2130 */        , packet = {
/* 2131 */              type: 'event'
/* 2132 */            , name: name
/* 2133 */          };
/* 2134 */  
/* 2135 */      if ('function' == typeof lastArg) {
/* 2136 */        packet.id = ++this.ackPackets;
/* 2137 */        packet.ack = 'data';
/* 2138 */        this.acks[packet.id] = lastArg;
/* 2139 */        args = args.slice(0, args.length - 1);
/* 2140 */      }
/* 2141 */  
/* 2142 */      packet.args = args;
/* 2143 */  
/* 2144 */      return this.packet(packet);
/* 2145 */    };
/* 2146 */  
/* 2147 */    /**
   2148        * Disconnects the namespace
   2149        *
   2150        * @api private
   2151        */
/* 2152 */  
/* 2153 */    SocketNamespace.prototype.disconnect = function () {
/* 2154 */      if (this.name === '') {
/* 2155 */        this.socket.disconnect();
/* 2156 */      } else {
/* 2157 */        this.packet({ type: 'disconnect' });
/* 2158 */        this.$emit('disconnect');
/* 2159 */      }
/* 2160 */  
/* 2161 */      return this;
/* 2162 */    };
/* 2163 */  
/* 2164 */    /**
   2165        * Handles a packet
   2166        *
   2167        * @api private
   2168        */
/* 2169 */  
/* 2170 */    SocketNamespace.prototype.onPacket = function (packet) {
/* 2171 */      var self = this;
/* 2172 */  
/* 2173 */      function ack () {
/* 2174 */        self.packet({
/* 2175 */            type: 'ack'
/* 2176 */          , args: io.util.toArray(arguments)
/* 2177 */          , ackId: packet.id
/* 2178 */        });
/* 2179 */      };
/* 2180 */  
/* 2181 */      switch (packet.type) {
/* 2182 */        case 'connect':
/* 2183 */          this.$emit('connect');
/* 2184 */          break;
/* 2185 */  
/* 2186 */        case 'disconnect':
/* 2187 */          if (this.name === '') {
/* 2188 */            this.socket.onDisconnect(packet.reason || 'booted');
/* 2189 */          } else {
/* 2190 */            this.$emit('disconnect', packet.reason);
/* 2191 */          }
/* 2192 */          break;
/* 2193 */  
/* 2194 */        case 'message':
/* 2195 */        case 'json':
/* 2196 */          var params = ['message', packet.data];
/* 2197 */  
/* 2198 */          if (packet.ack == 'data') {
/* 2199 */            params.push(ack);
/* 2200 */          } else if (packet.ack) {
/* 2201 */            this.packet({ type: 'ack', ackId: packet.id });
/* 2202 */          }
/* 2203 */  
/* 2204 */          this.$emit.apply(this, params);
/* 2205 */          break;
/* 2206 */  
/* 2207 */        case 'event':
/* 2208 */          var params = [packet.name].concat(packet.args);
/* 2209 */  
/* 2210 */          if (packet.ack == 'data')
/* 2211 */            params.push(ack);
/* 2212 */  
/* 2213 */          this.$emit.apply(this, params);
/* 2214 */          break;
/* 2215 */  
/* 2216 */        case 'ack':
/* 2217 */          if (this.acks[packet.ackId]) {
/* 2218 */            this.acks[packet.ackId].apply(this, packet.args);
/* 2219 */            delete this.acks[packet.ackId];
/* 2220 */          }
/* 2221 */          break;
/* 2222 */  
/* 2223 */        case 'error':
/* 2224 */          if (packet.advice){
/* 2225 */            this.socket.onError(packet);
/* 2226 */          } else {
/* 2227 */            if (packet.reason == 'unauthorized') {
/* 2228 */              this.$emit('connect_failed', packet.reason);
/* 2229 */            } else {
/* 2230 */              this.$emit('error', packet.reason);
/* 2231 */            }
/* 2232 */          }
/* 2233 */          break;
/* 2234 */      }
/* 2235 */    };
/* 2236 */  
/* 2237 */    /**
   2238        * Flag interface.
   2239        *
   2240        * @api private
   2241        */
/* 2242 */  
/* 2243 */    function Flag (nsp, name) {
/* 2244 */      this.namespace = nsp;
/* 2245 */      this.name = name;
/* 2246 */    };
/* 2247 */  
/* 2248 */    /**
   2249        * Send a message
   2250        *
   2251        * @api public
   2252        */
/* 2253 */  
/* 2254 */    Flag.prototype.send = function () {
/* 2255 */      this.namespace.flags[this.name] = true;
/* 2256 */      this.namespace.send.apply(this.namespace, arguments);
/* 2257 */    };
/* 2258 */  
/* 2259 */    /**
   2260        * Emit an event
   2261        *
   2262        * @api public
   2263        */
/* 2264 */  
/* 2265 */    Flag.prototype.emit = function () {
/* 2266 */      this.namespace.flags[this.name] = true;
/* 2267 */      this.namespace.emit.apply(this.namespace, arguments);
/* 2268 */    };
/* 2269 */  
/* 2270 */  })(
/* 2271 */      'undefined' != typeof io ? io : module.exports
/* 2272 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2273 */  );
/* 2274 */  
/* 2275 */  /**
   2276      * socket.io
   2277      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   2278      * MIT Licensed
   2279      */
/* 2280 */  
/* 2281 */  (function (exports, io, global) {
/* 2282 */  
/* 2283 */    /**
   2284        * Expose constructor.
   2285        */
/* 2286 */  
/* 2287 */    exports.websocket = WS;
/* 2288 */  
/* 2289 */    /**
   2290        * The WebSocket transport uses the HTML5 WebSocket API to establish an
   2291        * persistent connection with the Socket.IO server. This transport will also
   2292        * be inherited by the FlashSocket fallback as it provides a API compatible
   2293        * polyfill for the WebSockets.
   2294        *
   2295        * @constructor
   2296        * @extends {io.Transport}
   2297        * @api public
   2298        */
/* 2299 */  
/* 2300 */    function WS (socket) {
/* 2301 */      io.Transport.apply(this, arguments);
/* 2302 */    };
/* 2303 */  
/* 2304 */    /**
   2305        * Inherits from Transport.
   2306        */
/* 2307 */  
/* 2308 */    io.util.inherit(WS, io.Transport);
/* 2309 */  
/* 2310 */    /**
   2311        * Transport name
   2312        *
   2313        * @api public
   2314        */
/* 2315 */  
/* 2316 */    WS.prototype.name = 'websocket';
/* 2317 */  
/* 2318 */    /**
   2319        * Initializes a new `WebSocket` connection with the Socket.IO server. We attach
   2320        * all the appropriate listeners to handle the responses from the server.
   2321        *
   2322        * @returns {Transport}
   2323        * @api public
   2324        */
/* 2325 */  
/* 2326 */    WS.prototype.open = function () {
/* 2327 */      var query = io.util.query(this.socket.options.query)
/* 2328 */        , self = this
/* 2329 */        , Socket
/* 2330 */  
/* 2331 */  
/* 2332 */      if (!Socket) {
/* 2333 */        Socket = global.MozWebSocket || global.WebSocket;
/* 2334 */      }
/* 2335 */  
/* 2336 */      this.websocket = new Socket(this.prepareUrl() + query);
/* 2337 */  
/* 2338 */      this.websocket.onopen = function () {
/* 2339 */        self.onOpen();
/* 2340 */        self.socket.setBuffer(false);
/* 2341 */      };
/* 2342 */      this.websocket.onmessage = function (ev) {
/* 2343 */        self.onData(ev.data);
/* 2344 */      };
/* 2345 */      this.websocket.onclose = function () {
/* 2346 */        self.onClose();
/* 2347 */        self.socket.setBuffer(true);
/* 2348 */      };
/* 2349 */      this.websocket.onerror = function (e) {
/* 2350 */        self.onError(e);
/* 2351 */      };
/* 2352 */  
/* 2353 */      return this;
/* 2354 */    };
/* 2355 */  
/* 2356 */    /**
   2357        * Send a message to the Socket.IO server. The message will automatically be
   2358        * encoded in the correct message format.
   2359        *
   2360        * @returns {Transport}
   2361        * @api public
   2362        */
/* 2363 */  
/* 2364 */    // Do to a bug in the current IDevices browser, we need to wrap the send in a 
/* 2365 */    // setTimeout, when they resume from sleeping the browser will crash if 
/* 2366 */    // we don't allow the browser time to detect the socket has been closed
/* 2367 */    if (io.util.ua.iDevice) {
/* 2368 */      WS.prototype.send = function (data) {
/* 2369 */        var self = this;
/* 2370 */        setTimeout(function() {
/* 2371 */           self.websocket.send(data);
/* 2372 */        },0);
/* 2373 */        return this;
/* 2374 */      };
/* 2375 */    } else {
/* 2376 */      WS.prototype.send = function (data) {
/* 2377 */        this.websocket.send(data);
/* 2378 */        return this;
/* 2379 */      };
/* 2380 */    }
/* 2381 */  
/* 2382 */    /**
   2383        * Payload
   2384        *
   2385        * @api private
   2386        */
/* 2387 */  
/* 2388 */    WS.prototype.payload = function (arr) {
/* 2389 */      for (var i = 0, l = arr.length; i < l; i++) {
/* 2390 */        this.packet(arr[i]);
/* 2391 */      }
/* 2392 */      return this;
/* 2393 */    };
/* 2394 */  
/* 2395 */    /**
   2396        * Disconnect the established `WebSocket` connection.
   2397        *
   2398        * @returns {Transport}
   2399        * @api public
   2400        */
/* 2401 */  
/* 2402 */    WS.prototype.close = function () {
/* 2403 */      this.websocket.close();
/* 2404 */      return this;
/* 2405 */    };
/* 2406 */  
/* 2407 */    /**
   2408        * Handle the errors that `WebSocket` might be giving when we
   2409        * are attempting to connect or send messages.
   2410        *
   2411        * @param {Error} e The error.
   2412        * @api private
   2413        */
/* 2414 */  
/* 2415 */    WS.prototype.onError = function (e) {
/* 2416 */      this.socket.onError(e);
/* 2417 */    };
/* 2418 */  
/* 2419 */    /**
   2420        * Returns the appropriate scheme for the URI generation.
   2421        *
   2422        * @api private
   2423        */
/* 2424 */    WS.prototype.scheme = function () {
/* 2425 */      return this.socket.options.secure ? 'wss' : 'ws';
/* 2426 */    };
/* 2427 */  
/* 2428 */    /**
   2429        * Checks if the browser has support for native `WebSockets` and that
   2430        * it's not the polyfill created for the FlashSocket transport.
   2431        *
   2432        * @return {Boolean}
   2433        * @api public
   2434        */
/* 2435 */  
/* 2436 */    WS.check = function () {
/* 2437 */      return ('WebSocket' in global && !('__addTask' in WebSocket))
/* 2438 */            || 'MozWebSocket' in global;
/* 2439 */    };
/* 2440 */  
/* 2441 */    /**
   2442        * Check if the `WebSocket` transport support cross domain communications.
   2443        *
   2444        * @returns {Boolean}
   2445        * @api public
   2446        */
/* 2447 */  
/* 2448 */    WS.xdomainCheck = function () {
/* 2449 */      return true;
/* 2450 */    };
/* 2451 */  
/* 2452 */    /**
   2453        * Add the transport to your public io.transports array.
   2454        *
   2455        * @api private
   2456        */
/* 2457 */  
/* 2458 */    io.transports.push('websocket');
/* 2459 */  
/* 2460 */  })(
/* 2461 */      'undefined' != typeof io ? io.Transport : module.exports
/* 2462 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2463 */    , this
/* 2464 */  );
/* 2465 */  
/* 2466 */  /**
   2467      * socket.io
   2468      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   2469      * MIT Licensed
   2470      */
/* 2471 */  
/* 2472 */  (function (exports, io) {
/* 2473 */  
/* 2474 */    /**
   2475        * Expose constructor.
   2476        */
/* 2477 */  
/* 2478 */    exports.flashsocket = Flashsocket;
/* 2479 */  
/* 2480 */    /**
   2481        * The FlashSocket transport. This is a API wrapper for the HTML5 WebSocket
   2482        * specification. It uses a .swf file to communicate with the server. If you want
   2483        * to serve the .swf file from a other server than where the Socket.IO script is
   2484        * coming from you need to use the insecure version of the .swf. More information
   2485        * about this can be found on the github page.
   2486        *
   2487        * @constructor
   2488        * @extends {io.Transport.websocket}
   2489        * @api public
   2490        */
/* 2491 */  
/* 2492 */    function Flashsocket () {
/* 2493 */      io.Transport.websocket.apply(this, arguments);
/* 2494 */    };
/* 2495 */  
/* 2496 */    /**
   2497        * Inherits from Transport.
   2498        */
/* 2499 */  
/* 2500 */    io.util.inherit(Flashsocket, io.Transport.websocket);
/* 2501 */  
/* 2502 */    /**
   2503        * Transport name
   2504        *
   2505        * @api public
   2506        */
/* 2507 */  
/* 2508 */    Flashsocket.prototype.name = 'flashsocket';
/* 2509 */  
/* 2510 */    /**
   2511        * Disconnect the established `FlashSocket` connection. This is done by adding a 
   2512        * new task to the FlashSocket. The rest will be handled off by the `WebSocket` 
   2513        * transport.
   2514        *
   2515        * @returns {Transport}
   2516        * @api public
   2517        */
/* 2518 */  
/* 2519 */    Flashsocket.prototype.open = function () {
/* 2520 */      var self = this
/* 2521 */        , args = arguments;
/* 2522 */  
/* 2523 */      WebSocket.__addTask(function () {
/* 2524 */        io.Transport.websocket.prototype.open.apply(self, args);
/* 2525 */      });
/* 2526 */      return this;
/* 2527 */    };
/* 2528 */    
/* 2529 */    /**
   2530        * Sends a message to the Socket.IO server. This is done by adding a new
   2531        * task to the FlashSocket. The rest will be handled off by the `WebSocket` 
   2532        * transport.
   2533        *
   2534        * @returns {Transport}
   2535        * @api public
   2536        */
/* 2537 */  
/* 2538 */    Flashsocket.prototype.send = function () {
/* 2539 */      var self = this, args = arguments;
/* 2540 */      WebSocket.__addTask(function () {
/* 2541 */        io.Transport.websocket.prototype.send.apply(self, args);
/* 2542 */      });
/* 2543 */      return this;
/* 2544 */    };
/* 2545 */  
/* 2546 */    /**
   2547        * Disconnects the established `FlashSocket` connection.
   2548        *
   2549        * @returns {Transport}
   2550        * @api public
   2551        */
/* 2552 */  
/* 2553 */    Flashsocket.prototype.close = function () {
/* 2554 */      WebSocket.__tasks.length = 0;
/* 2555 */      io.Transport.websocket.prototype.close.call(this);
/* 2556 */      return this;
/* 2557 */    };
/* 2558 */  
/* 2559 */    /**
   2560        * The WebSocket fall back needs to append the flash container to the body
   2561        * element, so we need to make sure we have access to it. Or defer the call
   2562        * until we are sure there is a body element.
   2563        *
   2564        * @param {Socket} socket The socket instance that needs a transport
   2565        * @param {Function} fn The callback
   2566        * @api private
   2567        */
/* 2568 */  
/* 2569 */    Flashsocket.prototype.ready = function (socket, fn) {
/* 2570 */      function init () {
/* 2571 */        var options = socket.options
/* 2572 */          , port = options['flash policy port']
/* 2573 */          , path = [
/* 2574 */                'http' + (options.secure ? 's' : '') + ':/'
/* 2575 */              , options.host + ':' + options.port
/* 2576 */              , options.resource
/* 2577 */              , 'static/flashsocket'
/* 2578 */              , 'WebSocketMain' + (socket.isXDomain() ? 'Insecure' : '') + '.swf'
/* 2579 */            ];
/* 2580 */  
/* 2581 */        // Only start downloading the swf file when the checked that this browser
/* 2582 */        // actually supports it
/* 2583 */        if (!Flashsocket.loaded) {
/* 2584 */          if (typeof WEB_SOCKET_SWF_LOCATION === 'undefined') {
/* 2585 */            // Set the correct file based on the XDomain settings
/* 2586 */            WEB_SOCKET_SWF_LOCATION = path.join('/');
/* 2587 */          }
/* 2588 */  
/* 2589 */          if (port !== 843) {
/* 2590 */            WebSocket.loadFlashPolicyFile('xmlsocket://' + options.host + ':' + port);
/* 2591 */          }
/* 2592 */  
/* 2593 */          WebSocket.__initialize();
/* 2594 */          Flashsocket.loaded = true;
/* 2595 */        }
/* 2596 */  
/* 2597 */        fn.call(self);
/* 2598 */      }
/* 2599 */  
/* 2600 */      var self = this;
/* 2601 */      if (document.body) return init();
/* 2602 */  
/* 2603 */      io.util.load(init);
/* 2604 */    };
/* 2605 */  
/* 2606 */    /**
   2607        * Check if the FlashSocket transport is supported as it requires that the Adobe
   2608        * Flash Player plug-in version `10.0.0` or greater is installed. And also check if
   2609        * the polyfill is correctly loaded.
   2610        *
   2611        * @returns {Boolean}
   2612        * @api public
   2613        */
/* 2614 */  
/* 2615 */    Flashsocket.check = function () {
/* 2616 */      if (
/* 2617 */          typeof WebSocket == 'undefined'
/* 2618 */        || !('__initialize' in WebSocket) || !swfobject
/* 2619 */      ) return false;
/* 2620 */  
/* 2621 */      return swfobject.getFlashPlayerVersion().major >= 10;
/* 2622 */    };
/* 2623 */  
/* 2624 */    /**
   2625        * Check if the FlashSocket transport can be used as cross domain / cross origin 
   2626        * transport. Because we can't see which type (secure or insecure) of .swf is used
   2627        * we will just return true.
   2628        *
   2629        * @returns {Boolean}
   2630        * @api public
   2631        */
/* 2632 */  
/* 2633 */    Flashsocket.xdomainCheck = function () {
/* 2634 */      return true;
/* 2635 */    };
/* 2636 */  
/* 2637 */    /**
   2638        * Disable AUTO_INITIALIZATION
   2639        */
/* 2640 */  
/* 2641 */    if (typeof window != 'undefined') {
/* 2642 */      WEB_SOCKET_DISABLE_AUTO_INITIALIZATION = true;
/* 2643 */    }
/* 2644 */  
/* 2645 */    /**
   2646        * Add the transport to your public io.transports array.
   2647        *
   2648        * @api private
   2649        */
/* 2650 */  
/* 2651 */    io.transports.push('flashsocket');
/* 2652 */  })(
/* 2653 */      'undefined' != typeof io ? io.Transport : module.exports
/* 2654 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 2655 */  );
/* 2656 */  /*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
   2657     	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
   2658     */
/* 2659 */  if ('undefined' != typeof window) {
/* 2660 */  var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O[(['Active'].concat('Object').join('X'))]!=D){try{var ad=new window[(['Active'].concat('Object').join('X'))](W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?(['Active'].concat('').join('X')):"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();
/* 2661 */  }
/* 2662 */  // Copyright: Hiroshi Ichikawa <http://gimite.net/en/>
/* 2663 */  // License: New BSD License
/* 2664 */  // Reference: http://dev.w3.org/html5/websockets/
/* 2665 */  // Reference: http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol
/* 2666 */  
/* 2667 */  (function() {
/* 2668 */    
/* 2669 */    if ('undefined' == typeof window || window.WebSocket) return;
/* 2670 */  
/* 2671 */    var console = window.console;
/* 2672 */    if (!console || !console.log || !console.error) {
/* 2673 */      console = {log: function(){ }, error: function(){ }};
/* 2674 */    }
/* 2675 */    
/* 2676 */    if (!swfobject.hasFlashPlayerVersion("10.0.0")) {
/* 2677 */      console.error("Flash Player >= 10.0.0 is required.");
/* 2678 */      return;
/* 2679 */    }
/* 2680 */    if (location.protocol == "file:") {
/* 2681 */      console.error(
/* 2682 */        "WARNING: web-socket-js doesn't work in file:///... URL " +
/* 2683 */        "unless you set Flash Security Settings properly. " +
/* 2684 */        "Open the page via Web server i.e. http://...");
/* 2685 */    }
/* 2686 */  
/* 2687 */    /**
   2688        * This class represents a faux web socket.
   2689        * @param {string} url
   2690        * @param {array or string} protocols
   2691        * @param {string} proxyHost
   2692        * @param {int} proxyPort
   2693        * @param {string} headers
   2694        */
/* 2695 */    WebSocket = function(url, protocols, proxyHost, proxyPort, headers) {
/* 2696 */      var self = this;
/* 2697 */      self.__id = WebSocket.__nextId++;
/* 2698 */      WebSocket.__instances[self.__id] = self;
/* 2699 */      self.readyState = WebSocket.CONNECTING;
/* 2700 */      self.bufferedAmount = 0;
/* 2701 */      self.__events = {};
/* 2702 */      if (!protocols) {
/* 2703 */        protocols = [];
/* 2704 */      } else if (typeof protocols == "string") {
/* 2705 */        protocols = [protocols];
/* 2706 */      }
/* 2707 */      // Uses setTimeout() to make sure __createFlash() runs after the caller sets ws.onopen etc.
/* 2708 */      // Otherwise, when onopen fires immediately, onopen is called before it is set.
/* 2709 */      setTimeout(function() {
/* 2710 */        WebSocket.__addTask(function() {
/* 2711 */          WebSocket.__flash.create(
/* 2712 */              self.__id, url, protocols, proxyHost || null, proxyPort || 0, headers || null);
/* 2713 */        });
/* 2714 */      }, 0);
/* 2715 */    };
/* 2716 */  
/* 2717 */    /**
   2718        * Send data to the web socket.
   2719        * @param {string} data  The data to send to the socket.
   2720        * @return {boolean}  True for success, false for failure.
   2721        */
/* 2722 */    WebSocket.prototype.send = function(data) {
/* 2723 */      if (this.readyState == WebSocket.CONNECTING) {
/* 2724 */        throw "INVALID_STATE_ERR: Web Socket connection has not been established";
/* 2725 */      }
/* 2726 */      // We use encodeURIComponent() here, because FABridge doesn't work if
/* 2727 */      // the argument includes some characters. We don't use escape() here
/* 2728 */      // because of this:
/* 2729 */      // https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Functions#escape_and_unescape_Functions
/* 2730 */      // But it looks decodeURIComponent(encodeURIComponent(s)) doesn't
/* 2731 */      // preserve all Unicode characters either e.g. "\uffff" in Firefox.
/* 2732 */      // Note by wtritch: Hopefully this will not be necessary using ExternalInterface.  Will require
/* 2733 */      // additional testing.
/* 2734 */      var result = WebSocket.__flash.send(this.__id, encodeURIComponent(data));
/* 2735 */      if (result < 0) { // success
/* 2736 */        return true;
/* 2737 */      } else {
/* 2738 */        this.bufferedAmount += result;
/* 2739 */        return false;
/* 2740 */      }
/* 2741 */    };
/* 2742 */  
/* 2743 */    /**
   2744        * Close this web socket gracefully.
   2745        */
/* 2746 */    WebSocket.prototype.close = function() {
/* 2747 */      if (this.readyState == WebSocket.CLOSED || this.readyState == WebSocket.CLOSING) {
/* 2748 */        return;
/* 2749 */      }
/* 2750 */      this.readyState = WebSocket.CLOSING;
/* 2751 */      WebSocket.__flash.close(this.__id);
/* 2752 */    };
/* 2753 */  
/* 2754 */    /**
   2755        * Implementation of {@link <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration">DOM 2 EventTarget Interface</a>}
   2756        *
   2757        * @param {string} type
   2758        * @param {function} listener
   2759        * @param {boolean} useCapture
   2760        * @return void
   2761        */
/* 2762 */    WebSocket.prototype.addEventListener = function(type, listener, useCapture) {
/* 2763 */      if (!(type in this.__events)) {
/* 2764 */        this.__events[type] = [];
/* 2765 */      }
/* 2766 */      this.__events[type].push(listener);
/* 2767 */    };
/* 2768 */  
/* 2769 */    /**
   2770        * Implementation of {@link <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration">DOM 2 EventTarget Interface</a>}
   2771        *
   2772        * @param {string} type
   2773        * @param {function} listener
   2774        * @param {boolean} useCapture
   2775        * @return void
   2776        */
/* 2777 */    WebSocket.prototype.removeEventListener = function(type, listener, useCapture) {
/* 2778 */      if (!(type in this.__events)) return;
/* 2779 */      var events = this.__events[type];
/* 2780 */      for (var i = events.length - 1; i >= 0; --i) {
/* 2781 */        if (events[i] === listener) {
/* 2782 */          events.splice(i, 1);
/* 2783 */          break;
/* 2784 */        }
/* 2785 */      }
/* 2786 */    };
/* 2787 */  
/* 2788 */    /**
   2789        * Implementation of {@link <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration">DOM 2 EventTarget Interface</a>}
   2790        *
   2791        * @param {Event} event
   2792        * @return void
   2793        */
/* 2794 */    WebSocket.prototype.dispatchEvent = function(event) {
/* 2795 */      var events = this.__events[event.type] || [];
/* 2796 */      for (var i = 0; i < events.length; ++i) {
/* 2797 */        events[i](event);
/* 2798 */      }
/* 2799 */      var handler = this["on" + event.type];
/* 2800 */      if (handler) handler(event);
/* 2801 */    };
/* 2802 */  
/* 2803 */    /**
   2804        * Handles an event from Flash.
   2805        * @param {Object} flashEvent
   2806        */
/* 2807 */    WebSocket.prototype.__handleEvent = function(flashEvent) {
/* 2808 */      if ("readyState" in flashEvent) {
/* 2809 */        this.readyState = flashEvent.readyState;
/* 2810 */      }
/* 2811 */      if ("protocol" in flashEvent) {
/* 2812 */        this.protocol = flashEvent.protocol;
/* 2813 */      }
/* 2814 */      
/* 2815 */      var jsEvent;
/* 2816 */      if (flashEvent.type == "open" || flashEvent.type == "error") {
/* 2817 */        jsEvent = this.__createSimpleEvent(flashEvent.type);
/* 2818 */      } else if (flashEvent.type == "close") {
/* 2819 */        // TODO implement jsEvent.wasClean
/* 2820 */        jsEvent = this.__createSimpleEvent("close");
/* 2821 */      } else if (flashEvent.type == "message") {
/* 2822 */        var data = decodeURIComponent(flashEvent.message);
/* 2823 */        jsEvent = this.__createMessageEvent("message", data);
/* 2824 */      } else {
/* 2825 */        throw "unknown event type: " + flashEvent.type;
/* 2826 */      }
/* 2827 */      
/* 2828 */      this.dispatchEvent(jsEvent);
/* 2829 */    };
/* 2830 */    
/* 2831 */    WebSocket.prototype.__createSimpleEvent = function(type) {
/* 2832 */      if (document.createEvent && window.Event) {
/* 2833 */        var event = document.createEvent("Event");
/* 2834 */        event.initEvent(type, false, false);
/* 2835 */        return event;
/* 2836 */      } else {
/* 2837 */        return {type: type, bubbles: false, cancelable: false};
/* 2838 */      }
/* 2839 */    };
/* 2840 */    
/* 2841 */    WebSocket.prototype.__createMessageEvent = function(type, data) {
/* 2842 */      if (document.createEvent && window.MessageEvent && !window.opera) {
/* 2843 */        var event = document.createEvent("MessageEvent");
/* 2844 */        event.initMessageEvent("message", false, false, data, null, null, window, null);
/* 2845 */        return event;
/* 2846 */      } else {
/* 2847 */        // IE and Opera, the latter one truncates the data parameter after any 0x00 bytes.
/* 2848 */        return {type: type, data: data, bubbles: false, cancelable: false};
/* 2849 */      }
/* 2850 */    };
/* 2851 */    
/* 2852 */    /**
   2853        * Define the WebSocket readyState enumeration.
   2854        */
/* 2855 */    WebSocket.CONNECTING = 0;
/* 2856 */    WebSocket.OPEN = 1;
/* 2857 */    WebSocket.CLOSING = 2;
/* 2858 */    WebSocket.CLOSED = 3;
/* 2859 */  
/* 2860 */    WebSocket.__flash = null;
/* 2861 */    WebSocket.__instances = {};
/* 2862 */    WebSocket.__tasks = [];
/* 2863 */    WebSocket.__nextId = 0;
/* 2864 */    
/* 2865 */    /**
   2866        * Load a new flash security policy file.
   2867        * @param {string} url
   2868        */
/* 2869 */    WebSocket.loadFlashPolicyFile = function(url){
/* 2870 */      WebSocket.__addTask(function() {
/* 2871 */        WebSocket.__flash.loadManualPolicyFile(url);
/* 2872 */      });
/* 2873 */    };
/* 2874 */  
/* 2875 */    /**
   2876        * Loads WebSocketMain.swf and creates WebSocketMain object in Flash.
   2877        */
/* 2878 */    WebSocket.__initialize = function() {
/* 2879 */      if (WebSocket.__flash) return;
/* 2880 */      
/* 2881 */      if (WebSocket.__swfLocation) {
/* 2882 */        // For backword compatibility.
/* 2883 */        window.WEB_SOCKET_SWF_LOCATION = WebSocket.__swfLocation;
/* 2884 */      }
/* 2885 */      if (!window.WEB_SOCKET_SWF_LOCATION) {
/* 2886 */        console.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");
/* 2887 */        return;
/* 2888 */      }
/* 2889 */      var container = document.createElement("div");
/* 2890 */      container.id = "webSocketContainer";
/* 2891 */      // Hides Flash box. We cannot use display: none or visibility: hidden because it prevents
/* 2892 */      // Flash from loading at least in IE. So we move it out of the screen at (-100, -100).
/* 2893 */      // But this even doesn't work with Flash Lite (e.g. in Droid Incredible). So with Flash
/* 2894 */      // Lite, we put it at (0, 0). This shows 1x1 box visible at left-top corner but this is
/* 2895 */      // the best we can do as far as we know now.
/* 2896 */      container.style.position = "absolute";
/* 2897 */      if (WebSocket.__isFlashLite()) {
/* 2898 */        container.style.left = "0px";
/* 2899 */        container.style.top = "0px";
/* 2900 */      } else {
/* 2901 */        container.style.left = "-100px";
/* 2902 */        container.style.top = "-100px";
/* 2903 */      }
/* 2904 */      var holder = document.createElement("div");
/* 2905 */      holder.id = "webSocketFlash";
/* 2906 */      container.appendChild(holder);
/* 2907 */      document.body.appendChild(container);
/* 2908 */      // See this article for hasPriority:
/* 2909 */      // http://help.adobe.com/en_US/as3/mobile/WS4bebcd66a74275c36cfb8137124318eebc6-7ffd.html
/* 2910 */      swfobject.embedSWF(
/* 2911 */        WEB_SOCKET_SWF_LOCATION,
/* 2912 */        "webSocketFlash",
/* 2913 */        "1" /* width */,
/* 2914 */        "1" /* height */,
/* 2915 */        "10.0.0" /* SWF version */,
/* 2916 */        null,
/* 2917 */        null,
/* 2918 */        {hasPriority: true, swliveconnect : true, allowScriptAccess: "always"},
/* 2919 */        null,
/* 2920 */        function(e) {
/* 2921 */          if (!e.success) {
/* 2922 */            console.error("[WebSocket] swfobject.embedSWF failed");
/* 2923 */          }
/* 2924 */        });
/* 2925 */    };
/* 2926 */    
/* 2927 */    /**
   2928        * Called by Flash to notify JS that it's fully loaded and ready
   2929        * for communication.
   2930        */
/* 2931 */    WebSocket.__onFlashInitialized = function() {
/* 2932 */      // We need to set a timeout here to avoid round-trip calls
/* 2933 */      // to flash during the initialization process.
/* 2934 */      setTimeout(function() {
/* 2935 */        WebSocket.__flash = document.getElementById("webSocketFlash");
/* 2936 */        WebSocket.__flash.setCallerUrl(location.href);
/* 2937 */        WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);
/* 2938 */        for (var i = 0; i < WebSocket.__tasks.length; ++i) {
/* 2939 */          WebSocket.__tasks[i]();
/* 2940 */        }
/* 2941 */        WebSocket.__tasks = [];
/* 2942 */      }, 0);
/* 2943 */    };
/* 2944 */    
/* 2945 */    /**
   2946        * Called by Flash to notify WebSockets events are fired.
   2947        */
/* 2948 */    WebSocket.__onFlashEvent = function() {
/* 2949 */      setTimeout(function() {
/* 2950 */        try {
/* 2951 */          // Gets events using receiveEvents() instead of getting it from event object
/* 2952 */          // of Flash event. This is to make sure to keep message order.
/* 2953 */          // It seems sometimes Flash events don't arrive in the same order as they are sent.
/* 2954 */          var events = WebSocket.__flash.receiveEvents();
/* 2955 */          for (var i = 0; i < events.length; ++i) {
/* 2956 */            WebSocket.__instances[events[i].webSocketId].__handleEvent(events[i]);
/* 2957 */          }
/* 2958 */        } catch (e) {
/* 2959 */          console.error(e);
/* 2960 */        }
/* 2961 */      }, 0);
/* 2962 */      return true;
/* 2963 */    };
/* 2964 */    
/* 2965 */    // Called by Flash.
/* 2966 */    WebSocket.__log = function(message) {
/* 2967 */      console.log(decodeURIComponent(message));
/* 2968 */    };
/* 2969 */    
/* 2970 */    // Called by Flash.
/* 2971 */    WebSocket.__error = function(message) {
/* 2972 */      console.error(decodeURIComponent(message));
/* 2973 */    };
/* 2974 */    
/* 2975 */    WebSocket.__addTask = function(task) {
/* 2976 */      if (WebSocket.__flash) {
/* 2977 */        task();
/* 2978 */      } else {
/* 2979 */        WebSocket.__tasks.push(task);
/* 2980 */      }
/* 2981 */    };
/* 2982 */    
/* 2983 */    /**
   2984        * Test if the browser is running flash lite.
   2985        * @return {boolean} True if flash lite is running, false otherwise.
   2986        */
/* 2987 */    WebSocket.__isFlashLite = function() {
/* 2988 */      if (!window.navigator || !window.navigator.mimeTypes) {
/* 2989 */        return false;
/* 2990 */      }
/* 2991 */      var mimeType = window.navigator.mimeTypes["application/x-shockwave-flash"];
/* 2992 */      if (!mimeType || !mimeType.enabledPlugin || !mimeType.enabledPlugin.filename) {
/* 2993 */        return false;
/* 2994 */      }
/* 2995 */      return mimeType.enabledPlugin.filename.match(/flashlite/i) ? true : false;
/* 2996 */    };
/* 2997 */    
/* 2998 */    if (!window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION) {
/* 2999 */      if (window.addEventListener) {
/* 3000 */        window.addEventListener("load", function(){
/* 3001 */          WebSocket.__initialize();
/* 3002 */        }, false);
/* 3003 */      } else {
/* 3004 */        window.attachEvent("onload", function(){
/* 3005 */          WebSocket.__initialize();
/* 3006 */        });
/* 3007 */      }
/* 3008 */    }
/* 3009 */    
/* 3010 */  })();
/* 3011 */  
/* 3012 */  /**
   3013      * socket.io
   3014      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3015      * MIT Licensed
   3016      */
/* 3017 */  
/* 3018 */  (function (exports, io, global) {
/* 3019 */  
/* 3020 */    /**
   3021        * Expose constructor.
   3022        *
   3023        * @api public
   3024        */
/* 3025 */  
/* 3026 */    exports.XHR = XHR;
/* 3027 */  
/* 3028 */    /**
   3029        * XHR constructor
   3030        *
   3031        * @costructor
   3032        * @api public
   3033        */
/* 3034 */  
/* 3035 */    function XHR (socket) {
/* 3036 */      if (!socket) return;
/* 3037 */  
/* 3038 */      io.Transport.apply(this, arguments);
/* 3039 */      this.sendBuffer = [];
/* 3040 */    };
/* 3041 */  
/* 3042 */    /**
   3043        * Inherits from Transport.
   3044        */
/* 3045 */  
/* 3046 */    io.util.inherit(XHR, io.Transport);
/* 3047 */  
/* 3048 */    /**
   3049        * Establish a connection
   3050        *
   3051        * @returns {Transport}
   3052        * @api public
   3053        */
/* 3054 */  
/* 3055 */    XHR.prototype.open = function () {
/* 3056 */      this.socket.setBuffer(false);
/* 3057 */      this.onOpen();
/* 3058 */      this.get();
/* 3059 */  
/* 3060 */      // we need to make sure the request succeeds since we have no indication
/* 3061 */      // whether the request opened or not until it succeeded.
/* 3062 */      this.setCloseTimeout();
/* 3063 */  
/* 3064 */      return this;
/* 3065 */    };
/* 3066 */  
/* 3067 */    /**
   3068        * Check if we need to send data to the Socket.IO server, if we have data in our
   3069        * buffer we encode it and forward it to the `post` method.
   3070        *
   3071        * @api private
   3072        */
/* 3073 */  
/* 3074 */    XHR.prototype.payload = function (payload) {
/* 3075 */      var msgs = [];
/* 3076 */  
/* 3077 */      for (var i = 0, l = payload.length; i < l; i++) {
/* 3078 */        msgs.push(io.parser.encodePacket(payload[i]));
/* 3079 */      }
/* 3080 */  
/* 3081 */      this.send(io.parser.encodePayload(msgs));
/* 3082 */    };
/* 3083 */  
/* 3084 */    /**
   3085        * Send data to the Socket.IO server.
   3086        *
   3087        * @param data The message
   3088        * @returns {Transport}
   3089        * @api public
   3090        */
/* 3091 */  
/* 3092 */    XHR.prototype.send = function (data) {
/* 3093 */      this.post(data);
/* 3094 */      return this;
/* 3095 */    };
/* 3096 */  
/* 3097 */    /**
   3098        * Posts a encoded message to the Socket.IO server.
   3099        *
   3100        * @param {String} data A encoded message.
   3101        * @api private
   3102        */
/* 3103 */  
/* 3104 */    function empty () { };
/* 3105 */  
/* 3106 */    XHR.prototype.post = function (data) {
/* 3107 */      var self = this;
/* 3108 */      this.socket.setBuffer(true);
/* 3109 */  
/* 3110 */      function stateChange () {
/* 3111 */        if (this.readyState == 4) {
/* 3112 */          this.onreadystatechange = empty;
/* 3113 */          self.posting = false;
/* 3114 */  
/* 3115 */          if (this.status == 200){
/* 3116 */            self.socket.setBuffer(false);
/* 3117 */          } else {
/* 3118 */            self.onClose();
/* 3119 */          }
/* 3120 */        }
/* 3121 */      }
/* 3122 */  
/* 3123 */      function onload () {
/* 3124 */        this.onload = empty;
/* 3125 */        self.socket.setBuffer(false);
/* 3126 */      };
/* 3127 */  
/* 3128 */      this.sendXHR = this.request('POST');
/* 3129 */  
/* 3130 */      if (global.XDomainRequest && this.sendXHR instanceof XDomainRequest) {
/* 3131 */        this.sendXHR.onload = this.sendXHR.onerror = onload;
/* 3132 */      } else {
/* 3133 */        this.sendXHR.onreadystatechange = stateChange;
/* 3134 */      }
/* 3135 */  
/* 3136 */      this.sendXHR.send(data);
/* 3137 */    };
/* 3138 */  
/* 3139 */    /**
   3140        * Disconnects the established `XHR` connection.
   3141        *
   3142        * @returns {Transport}
   3143        * @api public
   3144        */
/* 3145 */  
/* 3146 */    XHR.prototype.close = function () {
/* 3147 */      this.onClose();
/* 3148 */      return this;
/* 3149 */    };
/* 3150 */  
/* 3151 */    /**
   3152        * Generates a configured XHR request
   3153        *
   3154        * @param {String} url The url that needs to be requested.
   3155        * @param {String} method The method the request should use.
   3156        * @returns {XMLHttpRequest}
   3157        * @api private
   3158        */
/* 3159 */  
/* 3160 */    XHR.prototype.request = function (method) {
/* 3161 */      var req = io.util.request(this.socket.isXDomain())
/* 3162 */        , query = io.util.query(this.socket.options.query, 't=' + +new Date);
/* 3163 */  
/* 3164 */      req.open(method || 'GET', this.prepareUrl() + query, true);
/* 3165 */  
/* 3166 */      if (method == 'POST') {
/* 3167 */        try {
/* 3168 */          if (req.setRequestHeader) {
/* 3169 */            req.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');
/* 3170 */          } else {
/* 3171 */            // XDomainRequest
/* 3172 */            req.contentType = 'text/plain';
/* 3173 */          }
/* 3174 */        } catch (e) {}
/* 3175 */      }
/* 3176 */  
/* 3177 */      return req;
/* 3178 */    };
/* 3179 */  
/* 3180 */    /**
   3181        * Returns the scheme to use for the transport URLs.
   3182        *
   3183        * @api private
   3184        */
/* 3185 */  
/* 3186 */    XHR.prototype.scheme = function () {
/* 3187 */      return this.socket.options.secure ? 'https' : 'http';
/* 3188 */    };
/* 3189 */  
/* 3190 */    /**
   3191        * Check if the XHR transports are supported
   3192        *
   3193        * @param {Boolean} xdomain Check if we support cross domain requests.
   3194        * @returns {Boolean}
   3195        * @api public
   3196        */
/* 3197 */  
/* 3198 */    XHR.check = function (socket, xdomain) {
/* 3199 */      try {
/* 3200 */        var request = io.util.request(xdomain),
/* 3201 */            usesXDomReq = (global.XDomainRequest && request instanceof XDomainRequest),
/* 3202 */            socketProtocol = (socket && socket.options && socket.options.secure ? 'https:' : 'http:'),
/* 3203 */            isXProtocol = (socketProtocol != global.location.protocol);
/* 3204 */        if (request && !(usesXDomReq && isXProtocol)) {
/* 3205 */          return true;
/* 3206 */        }
/* 3207 */      } catch(e) {}
/* 3208 */  
/* 3209 */      return false;
/* 3210 */    };
/* 3211 */  
/* 3212 */    /**
   3213        * Check if the XHR transport supports cross domain requests.
   3214        *
   3215        * @returns {Boolean}
   3216        * @api public
   3217        */
/* 3218 */  
/* 3219 */    XHR.xdomainCheck = function () {
/* 3220 */      return XHR.check(null, true);
/* 3221 */    };
/* 3222 */  
/* 3223 */  })(
/* 3224 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3225 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3226 */    , this
/* 3227 */  );
/* 3228 */  /**
   3229      * socket.io
   3230      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3231      * MIT Licensed
   3232      */
/* 3233 */  
/* 3234 */  (function (exports, io) {
/* 3235 */  
/* 3236 */    /**
   3237        * Expose constructor.
   3238        */
/* 3239 */  
/* 3240 */    exports.htmlfile = HTMLFile;
/* 3241 */  
/* 3242 */    /**
   3243        * The HTMLFile transport creates a `forever iframe` based transport
   3244        * for Internet Explorer. Regular forever iframe implementations will 
   3245        * continuously trigger the browsers buzy indicators. If the forever iframe
   3246        * is created inside a `htmlfile` these indicators will not be trigged.
   3247        *
   3248        * @constructor
   3249        * @extends {io.Transport.XHR}
   3250        * @api public
   3251        */
/* 3252 */  
/* 3253 */    function HTMLFile (socket) {
/* 3254 */      io.Transport.XHR.apply(this, arguments);
/* 3255 */    };
/* 3256 */  
/* 3257 */    /**
   3258        * Inherits from XHR transport.
   3259        */
/* 3260 */  
/* 3261 */    io.util.inherit(HTMLFile, io.Transport.XHR);
/* 3262 */  
/* 3263 */    /**
   3264        * Transport name
   3265        *
   3266        * @api public
   3267        */
/* 3268 */  
/* 3269 */    HTMLFile.prototype.name = 'htmlfile';
/* 3270 */  
/* 3271 */    /**
   3272        * Creates a new Ac...eX `htmlfile` with a forever loading iframe
   3273        * that can be used to listen to messages. Inside the generated
   3274        * `htmlfile` a reference will be made to the HTMLFile transport.
   3275        *
   3276        * @api private
   3277        */
/* 3278 */  
/* 3279 */    HTMLFile.prototype.get = function () {
/* 3280 */      this.doc = new window[(['Active'].concat('Object').join('X'))]('htmlfile');
/* 3281 */      this.doc.open();
/* 3282 */      this.doc.write('<html></html>');
/* 3283 */      this.doc.close();
/* 3284 */      this.doc.parentWindow.s = this;
/* 3285 */  
/* 3286 */      var iframeC = this.doc.createElement('div');
/* 3287 */      iframeC.className = 'socketio';
/* 3288 */  
/* 3289 */      this.doc.body.appendChild(iframeC);
/* 3290 */      this.iframe = this.doc.createElement('iframe');
/* 3291 */  
/* 3292 */      iframeC.appendChild(this.iframe);
/* 3293 */  
/* 3294 */      var self = this
/* 3295 */        , query = io.util.query(this.socket.options.query, 't='+ +new Date);
/* 3296 */  
/* 3297 */      this.iframe.src = this.prepareUrl() + query;
/* 3298 */  
/* 3299 */      io.util.on(window, 'unload', function () {
/* 3300 */        self.destroy();
/* 3301 */      });
/* 3302 */    };
/* 3303 */  
/* 3304 */    /**
   3305        * The Socket.IO server will write script tags inside the forever
   3306        * iframe, this function will be used as callback for the incoming
   3307        * information.
   3308        *
   3309        * @param {String} data The message
   3310        * @param {document} doc Reference to the context
   3311        * @api private
   3312        */
/* 3313 */  
/* 3314 */    HTMLFile.prototype._ = function (data, doc) {
/* 3315 */      this.onData(data);
/* 3316 */      try {
/* 3317 */        var script = doc.getElementsByTagName('script')[0];
/* 3318 */        script.parentNode.removeChild(script);
/* 3319 */      } catch (e) { }
/* 3320 */    };
/* 3321 */  
/* 3322 */    /**
   3323        * Destroy the established connection, iframe and `htmlfile`.
   3324        * And calls the `CollectGarbage` function of Internet Explorer
   3325        * to release the memory.
   3326        *
   3327        * @api private
   3328        */
/* 3329 */  
/* 3330 */    HTMLFile.prototype.destroy = function () {
/* 3331 */      if (this.iframe){
/* 3332 */        try {
/* 3333 */          this.iframe.src = 'about:blank';
/* 3334 */        } catch(e){}
/* 3335 */  
/* 3336 */        this.doc = null;
/* 3337 */        this.iframe.parentNode.removeChild(this.iframe);
/* 3338 */        this.iframe = null;
/* 3339 */  
/* 3340 */        CollectGarbage();
/* 3341 */      }
/* 3342 */    };
/* 3343 */  
/* 3344 */    /**
   3345        * Disconnects the established connection.
   3346        *
   3347        * @returns {Transport} Chaining.
   3348        * @api public
   3349        */
/* 3350 */  
/* 3351 */    HTMLFile.prototype.close = function () {
/* 3352 */      this.destroy();
/* 3353 */      return io.Transport.XHR.prototype.close.call(this);
/* 3354 */    };
/* 3355 */  
/* 3356 */    /**
   3357        * Checks if the browser supports this transport. The browser
   3358        * must have an `Ac...eXObject` implementation.
   3359        *
   3360        * @return {Boolean}
   3361        * @api public
   3362        */
/* 3363 */  
/* 3364 */    HTMLFile.check = function () {
/* 3365 */      if (typeof window != "undefined" && (['Active'].concat('Object').join('X')) in window){
/* 3366 */        try {
/* 3367 */          var a = new window[(['Active'].concat('Object').join('X'))]('htmlfile');
/* 3368 */          return a && io.Transport.XHR.check();
/* 3369 */        } catch(e){}
/* 3370 */      }
/* 3371 */      return false;
/* 3372 */    };
/* 3373 */  
/* 3374 */    /**
   3375        * Check if cross domain requests are supported.
   3376        *
   3377        * @returns {Boolean}
   3378        * @api public
   3379        */
/* 3380 */  
/* 3381 */    HTMLFile.xdomainCheck = function () {
/* 3382 */      // we can probably do handling for sub-domains, we should
/* 3383 */      // test that it's cross domain but a subdomain here
/* 3384 */      return false;
/* 3385 */    };
/* 3386 */  
/* 3387 */    /**
   3388        * Add the transport to your public io.transports array.
   3389        *
   3390        * @api private
   3391        */
/* 3392 */  
/* 3393 */    io.transports.push('htmlfile');
/* 3394 */  
/* 3395 */  })(
/* 3396 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3397 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3398 */  );
/* 3399 */  
/* 3400 */  /**
   3401      * socket.io
   3402      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3403      * MIT Licensed
   3404      */
/* 3405 */  
/* 3406 */  (function (exports, io, global) {
/* 3407 */  
/* 3408 */    /**
   3409        * Expose constructor.
   3410        */
/* 3411 */  
/* 3412 */    exports['xhr-polling'] = XHRPolling;
/* 3413 */  
/* 3414 */    /**
   3415        * The XHR-polling transport uses long polling XHR requests to create a
   3416        * "persistent" connection with the server.
   3417        *
   3418        * @constructor
   3419        * @api public
   3420        */
/* 3421 */  
/* 3422 */    function XHRPolling () {
/* 3423 */      io.Transport.XHR.apply(this, arguments);
/* 3424 */    };
/* 3425 */  
/* 3426 */    /**
   3427        * Inherits from XHR transport.
   3428        */
/* 3429 */  
/* 3430 */    io.util.inherit(XHRPolling, io.Transport.XHR);
/* 3431 */  
/* 3432 */    /**
   3433        * Merge the properties from XHR transport
   3434        */
/* 3435 */  
/* 3436 */    io.util.merge(XHRPolling, io.Transport.XHR);
/* 3437 */  
/* 3438 */    /**
   3439        * Transport name
   3440        *
   3441        * @api public
   3442        */
/* 3443 */  
/* 3444 */    XHRPolling.prototype.name = 'xhr-polling';
/* 3445 */  
/* 3446 */    /** 
   3447        * Establish a connection, for iPhone and Android this will be done once the page
   3448        * is loaded.
   3449        *
   3450        * @returns {Transport} Chaining.
   3451        * @api public
   3452        */
/* 3453 */  
/* 3454 */    XHRPolling.prototype.open = function () {
/* 3455 */      var self = this;
/* 3456 */  
/* 3457 */      io.Transport.XHR.prototype.open.call(self);
/* 3458 */      return false;
/* 3459 */    };
/* 3460 */  
/* 3461 */    /**
   3462        * Starts a XHR request to wait for incoming messages.
   3463        *
   3464        * @api private
   3465        */
/* 3466 */  
/* 3467 */    function empty () {};
/* 3468 */  
/* 3469 */    XHRPolling.prototype.get = function () {
/* 3470 */      if (!this.open) return;
/* 3471 */  
/* 3472 */      var self = this;
/* 3473 */  
/* 3474 */      function stateChange () {
/* 3475 */        if (this.readyState == 4) {
/* 3476 */          this.onreadystatechange = empty;
/* 3477 */  
/* 3478 */          if (this.status == 200) {
/* 3479 */            self.onData(this.responseText);
/* 3480 */            self.get();
/* 3481 */          } else {
/* 3482 */            self.onClose();
/* 3483 */          }
/* 3484 */        }
/* 3485 */      };
/* 3486 */  
/* 3487 */      function onload () {
/* 3488 */        this.onload = empty;
/* 3489 */        this.onerror = empty;
/* 3490 */        self.onData(this.responseText);
/* 3491 */        self.get();
/* 3492 */      };
/* 3493 */  
/* 3494 */      function onerror () {
/* 3495 */        self.onClose();
/* 3496 */      };
/* 3497 */  
/* 3498 */      this.xhr = this.request();
/* 3499 */  
/* 3500 */      if (global.XDomainRequest && this.xhr instanceof XDomainRequest) {
/* 3501 */        this.xhr.onload = onload;
/* 3502 */        this.xhr.onerror = onerror;
/* 3503 */      } else {
/* 3504 */        this.xhr.onreadystatechange = stateChange;
/* 3505 */      }
/* 3506 */  
/* 3507 */      this.xhr.send(null);
/* 3508 */    };
/* 3509 */  
/* 3510 */    /**
   3511        * Handle the unclean close behavior.
   3512        *
   3513        * @api private
   3514        */
/* 3515 */  
/* 3516 */    XHRPolling.prototype.onClose = function () {
/* 3517 */      io.Transport.XHR.prototype.onClose.call(this);
/* 3518 */  
/* 3519 */      if (this.xhr) {
/* 3520 */        this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = empty;
/* 3521 */        try {
/* 3522 */          this.xhr.abort();
/* 3523 */        } catch(e){}
/* 3524 */        this.xhr = null;
/* 3525 */      }
/* 3526 */    };
/* 3527 */  
/* 3528 */    /**
   3529        * Webkit based browsers show a infinit spinner when you start a XHR request
   3530        * before the browsers onload event is called so we need to defer opening of
   3531        * the transport until the onload event is called. Wrapping the cb in our
   3532        * defer method solve this.
   3533        *
   3534        * @param {Socket} socket The socket instance that needs a transport
   3535        * @param {Function} fn The callback
   3536        * @api private
   3537        */
/* 3538 */  
/* 3539 */    XHRPolling.prototype.ready = function (socket, fn) {
/* 3540 */      var self = this;
/* 3541 */  
/* 3542 */      io.util.defer(function () {
/* 3543 */        fn.call(self);
/* 3544 */      });
/* 3545 */    };
/* 3546 */  
/* 3547 */    /**
   3548        * Add the transport to your public io.transports array.
   3549        *
   3550        * @api private
   3551        */
/* 3552 */  
/* 3553 */    io.transports.push('xhr-polling');
/* 3554 */  
/* 3555 */  })(
/* 3556 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3557 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3558 */    , this
/* 3559 */  );
/* 3560 */  
/* 3561 */  /**
   3562      * socket.io
   3563      * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
   3564      * MIT Licensed
   3565      */
/* 3566 */  
/* 3567 */  (function (exports, io, global) {
/* 3568 */    /**
   3569        * There is a way to hide the loading indicator in Firefox. If you create and
   3570        * remove a iframe it will stop showing the current loading indicator.
   3571        * Unfortunately we can't feature detect that and UA sniffing is evil.
   3572        *
   3573        * @api private
   3574        */
/* 3575 */  
/* 3576 */    var indicator = global.document && "MozAppearance" in
/* 3577 */      global.document.documentElement.style;
/* 3578 */  
/* 3579 */    /**
   3580        * Expose constructor.
   3581        */
/* 3582 */  
/* 3583 */    exports['jsonp-polling'] = JSONPPolling;
/* 3584 */  
/* 3585 */    /**
   3586        * The JSONP transport creates an persistent connection by dynamically
   3587        * inserting a script tag in the page. This script tag will receive the
   3588        * information of the Socket.IO server. When new information is received
   3589        * it creates a new script tag for the new data stream.
   3590        *
   3591        * @constructor
   3592        * @extends {io.Transport.xhr-polling}
   3593        * @api public
   3594        */
/* 3595 */  
/* 3596 */    function JSONPPolling (socket) {
/* 3597 */      io.Transport['xhr-polling'].apply(this, arguments);
/* 3598 */  
/* 3599 */      this.index = io.j.length;
/* 3600 */  
/* 3601 */      var self = this;
/* 3602 */  
/* 3603 */      io.j.push(function (msg) {
/* 3604 */        self._(msg);
/* 3605 */      });
/* 3606 */    };
/* 3607 */  
/* 3608 */    /**
   3609        * Inherits from XHR polling transport.
   3610        */
/* 3611 */  
/* 3612 */    io.util.inherit(JSONPPolling, io.Transport['xhr-polling']);
/* 3613 */  
/* 3614 */    /**
   3615        * Transport name
   3616        *
   3617        * @api public
   3618        */
/* 3619 */  
/* 3620 */    JSONPPolling.prototype.name = 'jsonp-polling';
/* 3621 */  
/* 3622 */    /**
   3623        * Posts a encoded message to the Socket.IO server using an iframe.
   3624        * The iframe is used because script tags can create POST based requests.
   3625        * The iframe is positioned outside of the view so the user does not
   3626        * notice it's existence.
   3627        *
   3628        * @param {String} data A encoded message.
   3629        * @api private
   3630        */
/* 3631 */  
/* 3632 */    JSONPPolling.prototype.post = function (data) {
/* 3633 */      var self = this
/* 3634 */        , query = io.util.query(
/* 3635 */               this.socket.options.query
/* 3636 */            , 't='+ (+new Date) + '&i=' + this.index
/* 3637 */          );
/* 3638 */  
/* 3639 */      if (!this.form) {
/* 3640 */        var form = document.createElement('form')
/* 3641 */          , area = document.createElement('textarea')
/* 3642 */          , id = this.iframeId = 'socketio_iframe_' + this.index
/* 3643 */          , iframe;
/* 3644 */  
/* 3645 */        form.className = 'socketio';
/* 3646 */        form.style.position = 'absolute';
/* 3647 */        form.style.top = '0px';
/* 3648 */        form.style.left = '0px';
/* 3649 */        form.style.display = 'none';
/* 3650 */        form.target = id;
/* 3651 */        form.method = 'POST';
/* 3652 */        form.setAttribute('accept-charset', 'utf-8');
/* 3653 */        area.name = 'd';
/* 3654 */        form.appendChild(area);
/* 3655 */        document.body.appendChild(form);
/* 3656 */  
/* 3657 */        this.form = form;
/* 3658 */        this.area = area;
/* 3659 */      }
/* 3660 */  
/* 3661 */      this.form.action = this.prepareUrl() + query;
/* 3662 */  
/* 3663 */      function complete () {
/* 3664 */        initIframe();
/* 3665 */        self.socket.setBuffer(false);
/* 3666 */      };
/* 3667 */  
/* 3668 */      function initIframe () {
/* 3669 */        if (self.iframe) {
/* 3670 */          self.form.removeChild(self.iframe);
/* 3671 */        }
/* 3672 */  
/* 3673 */        try {
/* 3674 */          // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
/* 3675 */          iframe = document.createElement('<iframe name="'+ self.iframeId +'">');
/* 3676 */        } catch (e) {
/* 3677 */          iframe = document.createElement('iframe');
/* 3678 */          iframe.name = self.iframeId;
/* 3679 */        }
/* 3680 */  
/* 3681 */        iframe.id = self.iframeId;
/* 3682 */  
/* 3683 */        self.form.appendChild(iframe);
/* 3684 */        self.iframe = iframe;
/* 3685 */      };
/* 3686 */  
/* 3687 */      initIframe();
/* 3688 */  
/* 3689 */      // we temporarily stringify until we figure out how to prevent
/* 3690 */      // browsers from turning `\n` into `\r\n` in form inputs
/* 3691 */      this.area.value = io.JSON.stringify(data);
/* 3692 */  
/* 3693 */      try {
/* 3694 */        this.form.submit();
/* 3695 */      } catch(e) {}
/* 3696 */  
/* 3697 */      if (this.iframe.attachEvent) {
/* 3698 */        iframe.onreadystatechange = function () {
/* 3699 */          if (self.iframe.readyState == 'complete') {
/* 3700 */            complete();
/* 3701 */          }
/* 3702 */        };
/* 3703 */      } else {
/* 3704 */        this.iframe.onload = complete;
/* 3705 */      }
/* 3706 */  
/* 3707 */      this.socket.setBuffer(true);
/* 3708 */    };
/* 3709 */    
/* 3710 */    /**
   3711        * Creates a new JSONP poll that can be used to listen
   3712        * for messages from the Socket.IO server.
   3713        *
   3714        * @api private
   3715        */
/* 3716 */  
/* 3717 */    JSONPPolling.prototype.get = function () {
/* 3718 */      var self = this
/* 3719 */        , script = document.createElement('script')
/* 3720 */        , query = io.util.query(
/* 3721 */               this.socket.options.query
/* 3722 */            , 't='+ (+new Date) + '&i=' + this.index
/* 3723 */          );
/* 3724 */  
/* 3725 */      if (this.script) {
/* 3726 */        this.script.parentNode.removeChild(this.script);
/* 3727 */        this.script = null;
/* 3728 */      }
/* 3729 */  
/* 3730 */      script.async = true;
/* 3731 */      script.src = this.prepareUrl() + query;
/* 3732 */      script.onerror = function () {
/* 3733 */        self.onClose();
/* 3734 */      };
/* 3735 */  
/* 3736 */      var insertAt = document.getElementsByTagName('script')[0]
/* 3737 */      insertAt.parentNode.insertBefore(script, insertAt);
/* 3738 */      this.script = script;
/* 3739 */  
/* 3740 */      if (indicator) {
/* 3741 */        setTimeout(function () {
/* 3742 */          var iframe = document.createElement('iframe');
/* 3743 */          document.body.appendChild(iframe);
/* 3744 */          document.body.removeChild(iframe);
/* 3745 */        }, 100);
/* 3746 */      }
/* 3747 */    };
/* 3748 */  
/* 3749 */    /**
   3750        * Callback function for the incoming message stream from the Socket.IO server.
   3751        *
   3752        * @param {String} data The message
   3753        * @api private
   3754        */
/* 3755 */  
/* 3756 */    JSONPPolling.prototype._ = function (msg) {
/* 3757 */      this.onData(msg);
/* 3758 */      if (this.open) {
/* 3759 */        this.get();
/* 3760 */      }
/* 3761 */      return this;
/* 3762 */    };
/* 3763 */  
/* 3764 */    /**
   3765        * The indicator hack only works after onload
   3766        *
   3767        * @param {Socket} socket The socket instance that needs a transport
   3768        * @param {Function} fn The callback
   3769        * @api private
   3770        */
/* 3771 */  
/* 3772 */    JSONPPolling.prototype.ready = function (socket, fn) {
/* 3773 */      var self = this;
/* 3774 */      if (!indicator) return fn.call(this);
/* 3775 */  
/* 3776 */      io.util.load(function () {
/* 3777 */        fn.call(self);
/* 3778 */      });
/* 3779 */    };
/* 3780 */  
/* 3781 */    /**
   3782        * Checks if browser supports this transport.
   3783        *
   3784        * @return {Boolean}
   3785        * @api public
   3786        */
/* 3787 */  
/* 3788 */    JSONPPolling.check = function () {
/* 3789 */      return 'document' in global;
/* 3790 */    };
/* 3791 */  
/* 3792 */    /**
   3793        * Check if cross domain requests are supported
   3794        *
   3795        * @returns {Boolean}
   3796        * @api public
   3797        */
/* 3798 */  
/* 3799 */    JSONPPolling.xdomainCheck = function () {
/* 3800 */      return true;
/* 3801 */    };
/* 3802 */  
/* 3803 */    /**
   3804        * Add the transport to your public io.transports array.
   3805        *
   3806        * @api private
   3807        */
/* 3808 */  
/* 3809 */    io.transports.push('jsonp-polling');
/* 3810 */  
/* 3811 */  })(
/* 3812 */      'undefined' != typeof io ? io.Transport : module.exports
/* 3813 */    , 'undefined' != typeof io ? io : module.parent.exports
/* 3814 */    , this
/* 3815 */  );
/* 3816 */  
/* 3817 */  })();

/**
 * js/vendor/jquery-1.7.2.min.js
 */

/*    0 */  /*! jQuery v1.7.2 jquery.com | jquery.org/license */
/*    1 */  (function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close();d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&f.type(b)==="object")for(var e in b)b_(a+"["+e+"]",b[e],c,d);else d(a,b)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border")for(;e<g;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}d=by(a,b);if(d<0||d==null)d=a.style[b];if(bt.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<g;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o;j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div>"+"<table "+n+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++)h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d)return f.queue(this[0],a);return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(
/*    2 */  a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f
/*    3 */  .clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!_.test(l))l=b.createTextNode(l);else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}var u;if(!f.support.appendChecked)if(l[0]&&typeof (u=l.length)=="number")for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return!a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=bZ(bT,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ct("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed")break;d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;if(!d)return null;if(c===d.body)return f.offset.bodyOffset(c);return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e])return i[d];return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);

/**
 * js/vendor/jquery-ui-1.8.21.custom.min.js
 */

/*    0 */  /*! jQuery UI - v1.8.21 - 2012-06-05
      1     * https://github.com/jquery/jquery-ui
      2     * Includes: jquery.ui.core.js
      3     * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
/*    4 */  (function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.21",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);;/*! jQuery UI - v1.8.21 - 2012-06-05
      5     * https://github.com/jquery/jquery-ui
      6     * Includes: jquery.ui.widget.js
      7     * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
/*    8 */  (function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);;/*! jQuery UI - v1.8.21 - 2012-06-05
      9     * https://github.com/jquery/jquery-ui
     10     * Includes: jquery.ui.mouse.js
     11     * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
/*   12 */  (function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);;/*! jQuery UI - v1.8.21 - 2012-06-05
     13     * https://github.com/jquery/jquery-ui
     14     * Includes: jquery.ui.draggable.js
     15     * Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */
/*   16 */  (function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable"))return;return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);var d=this.element[0],e=!1;while(d&&(d=d.parentNode))d==document&&(e=!0);if(!e&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.21"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);;

/**
 * node_modules/dustjs-linkedin/dist/dust-core-1.0.0.js
 */

/*    0 */  //
/*    1 */  // Dust - Asynchronous Templating v1.0.0
/*    2 */  // http://akdubya.github.com/dustjs
/*    3 */  //
/*    4 */  // Copyright (c) 2010, Aleksander Williams
/*    5 */  // Released under the MIT License.
/*    6 */  //
/*    7 */  
/*    8 */  var dust = {};
/*    9 */  
/*   10 */  function getGlobal(){	
/*   11 */    return (function(){	
/*   12 */      return this.dust;	
/*   13 */        }).call(null);
/*   14 */  }
/*   15 */  
/*   16 */  (function(dust) {
/*   17 */  
/*   18 */  dust.cache = {};
/*   19 */  
/*   20 */  dust.register = function(name, tmpl) {
/*   21 */    if (!name) return;
/*   22 */    dust.cache[name] = tmpl;
/*   23 */  };
/*   24 */  
/*   25 */  dust.render = function(name, context, callback) {
/*   26 */    var chunk = new Stub(callback).head;
/*   27 */    dust.load(name, chunk, Context.wrap(context)).end();
/*   28 */  };
/*   29 */  
/*   30 */  dust.stream = function(name, context) {
/*   31 */    var stream = new Stream();
/*   32 */    dust.nextTick(function() {
/*   33 */      dust.load(name, stream.head, Context.wrap(context)).end();
/*   34 */    });
/*   35 */    return stream;
/*   36 */  };
/*   37 */  
/*   38 */  dust.renderSource = function(source, context, callback) {
/*   39 */    return dust.compileFn(source)(context, callback);
/*   40 */  };
/*   41 */  
/*   42 */  dust.compileFn = function(source, name) {
/*   43 */    var tmpl = dust.loadSource(dust.compile(source, name));
/*   44 */    return function(context, callback) {
/*   45 */      var master = callback ? new Stub(callback) : new Stream();
/*   46 */      dust.nextTick(function() {
/*   47 */        tmpl(master.head, Context.wrap(context)).end();
/*   48 */      });
/*   49 */      return master;
/*   50 */    }
/*   51 */  };
/*   52 */  
/*   53 */  dust.load = function(name, chunk, context) {
/*   54 */    var tmpl = dust.cache[name];
/*   55 */    if (tmpl) {
/*   56 */      return tmpl(chunk, context);
/*   57 */    } else {
/*   58 */      if (dust.onLoad) {
/*   59 */        return chunk.map(function(chunk) {
/*   60 */          dust.onLoad(name, function(err, src) {
/*   61 */            if (err) return chunk.setError(err);
/*   62 */            if (!dust.cache[name]) dust.loadSource(dust.compile(src, name));
/*   63 */            dust.cache[name](chunk, context).end();
/*   64 */          });
/*   65 */        });
/*   66 */      }
/*   67 */      return chunk.setError(new Error("Template Not Found: " + name));
/*   68 */    }
/*   69 */  };
/*   70 */  
/*   71 */  dust.loadSource = function(source, path) {
/*   72 */    return eval(source);
/*   73 */  };
/*   74 */  
/*   75 */  if (Array.isArray) {
/*   76 */    dust.isArray = Array.isArray;
/*   77 */  } else {
/*   78 */    dust.isArray = function(arr) {
/*   79 */      return Object.prototype.toString.call(arr) == "[object Array]";
/*   80 */    };
/*   81 */  }
/*   82 */  
/*   83 */  dust.nextTick = (function() {
/*   84 */    if (typeof process !== "undefined") {
/*   85 */      return process.nextTick;
/*   86 */    } else {
/*   87 */      return function(callback) {
/*   88 */        setTimeout(callback,0);
/*   89 */      }
/*   90 */    }
/*   91 */  } )();
/*   92 */  
/*   93 */  dust.isEmpty = function(value) {
/*   94 */    if (dust.isArray(value) && !value.length) return true;
/*   95 */    if (value === 0) return false;
/*   96 */    return (!value);
/*   97 */  };
/*   98 */  
/*   99 */  dust.filter = function(string, auto, filters) {
/*  100 */    if (filters) {
/*  101 */      for (var i=0, len=filters.length; i<len; i++) {
/*  102 */        var name = filters[i];
/*  103 */        if (name === "s") {
/*  104 */          auto = null;
/*  105 */        } else {
/*  106 */          string = dust.filters[name](string);
/*  107 */        }
/*  108 */      }
/*  109 */    }
/*  110 */    if (auto) {
/*  111 */      string = dust.filters[auto](string);
/*  112 */    }
/*  113 */    return string;
/*  114 */  };
/*  115 */  
/*  116 */  dust.filters = {
/*  117 */    h: function(value) { return dust.escapeHtml(value); },
/*  118 */    j: function(value) { return dust.escapeJs(value); },
/*  119 */    u: encodeURI,
/*  120 */    uc: encodeURIComponent,
/*  121 */    js: function(value) { if (!JSON) { return value; } return JSON.stringify(value); },
/*  122 */    jp: function(value) { if (!JSON) { return value; } return JSON.parse(value); }
/*  123 */  };
/*  124 */  
/*  125 */  function Context(stack, global, blocks) {
/*  126 */    this.stack  = stack;
/*  127 */    this.global = global;
/*  128 */    this.blocks = blocks;
/*  129 */  }
/*  130 */  
/*  131 */  dust.makeBase = function(global) {
/*  132 */    return new Context(new Stack(), global);
/*  133 */  };
/*  134 */  
/*  135 */  Context.wrap = function(context) {
/*  136 */    if (context instanceof Context) {
/*  137 */      return context;
/*  138 */    }
/*  139 */    return new Context(new Stack(context));
/*  140 */  };
/*  141 */  
/*  142 */  Context.prototype.get = function(key) {
/*  143 */    var ctx = this.stack, value;
/*  144 */  
/*  145 */    while(ctx) {
/*  146 */      if (ctx.isObject) {
/*  147 */        value = ctx.head[key];
/*  148 */        if (!(value === undefined)) {
/*  149 */          return value;
/*  150 */        }
/*  151 */      }
/*  152 */      ctx = ctx.tail;
/*  153 */    }
/*  154 */    return this.global ? this.global[key] : undefined;
/*  155 */  };
/*  156 */  
/*  157 */  Context.prototype.getPath = function(cur, down) {
/*  158 */    var ctx = this.stack,
/*  159 */        len = down.length;
/*  160 */  
/*  161 */    if (cur && len === 0) return ctx.head;
/*  162 */    if (!ctx.isObject) return undefined;
/*  163 */    ctx = ctx.head;
/*  164 */    var i = 0;
/*  165 */    while(ctx && i < len) {
/*  166 */      ctx = ctx[down[i]];
/*  167 */      i++;
/*  168 */    }
/*  169 */    return ctx;
/*  170 */  };
/*  171 */  
/*  172 */  Context.prototype.push = function(head, idx, len) {
/*  173 */    if( head ){
/*  174 */     // loop index for a block section
/*  175 */     head['$idx'] = idx;
/*  176 */     // loop size for a block section
/*  177 */     head['$len'] = len;
/*  178 */    }
/*  179 */    return new Context(new Stack(head, this.stack, idx, len), this.global, this.blocks);
/*  180 */  };
/*  181 */  
/*  182 */  Context.prototype.rebase = function(head) {
/*  183 */    return new Context(new Stack(head), this.global, this.blocks);
/*  184 */  };
/*  185 */  
/*  186 */  Context.prototype.current = function() {
/*  187 */    return this.stack.head;
/*  188 */  };
/*  189 */  
/*  190 */  Context.prototype.getBlock = function(key, chk, ctx) {
/*  191 */    if (typeof key === "function") {
/*  192 */      key = key(chk, ctx).data;
/*  193 */      chk.data = "";
/*  194 */    }
/*  195 */  
/*  196 */    var blocks = this.blocks;
/*  197 */  
/*  198 */    if (!blocks) return;
/*  199 */    var len = blocks.length, fn;
/*  200 */    while (len--) {
/*  201 */      fn = blocks[len][key];
/*  202 */      if (fn) return fn;
/*  203 */    }
/*  204 */  };
/*  205 */  
/*  206 */  Context.prototype.shiftBlocks = function(locals) {
/*  207 */    var blocks = this.blocks;
/*  208 */  
/*  209 */    if (locals) {
/*  210 */      if (!blocks) {
/*  211 */        newBlocks = [locals];
/*  212 */      } else {
/*  213 */        newBlocks = blocks.concat([locals]);
/*  214 */      }
/*  215 */      return new Context(this.stack, this.global, newBlocks);
/*  216 */    }
/*  217 */    return this;
/*  218 */  };
/*  219 */  
/*  220 */  function Stack(head, tail, idx, len) {
/*  221 */    this.tail = tail;
/*  222 */    this.isObject = !dust.isArray(head) && head && typeof head === "object";
/*  223 */    this.head = head;
/*  224 */    this.index = idx;
/*  225 */    this.of = len;
/*  226 */  }
/*  227 */  
/*  228 */  function Stub(callback) {
/*  229 */    this.head = new Chunk(this);
/*  230 */    this.callback = callback;
/*  231 */    this.out = '';
/*  232 */  }
/*  233 */  
/*  234 */  Stub.prototype.flush = function() {
/*  235 */    var chunk = this.head;
/*  236 */  
/*  237 */    while (chunk) {
/*  238 */      if (chunk.flushable) {
/*  239 */        this.out += chunk.data;
/*  240 */      } else if (chunk.error) {
/*  241 */        this.callback(chunk.error);
/*  242 */        this.flush = function() {};
/*  243 */        return;
/*  244 */      } else {
/*  245 */        return;
/*  246 */      }
/*  247 */      chunk = chunk.next;
/*  248 */      this.head = chunk;
/*  249 */    }
/*  250 */    this.callback(null, this.out);
/*  251 */  };
/*  252 */  
/*  253 */  function Stream() {
/*  254 */    this.head = new Chunk(this);
/*  255 */  }
/*  256 */  
/*  257 */  Stream.prototype.flush = function() {
/*  258 */    var chunk = this.head;
/*  259 */  
/*  260 */    while(chunk) {
/*  261 */      if (chunk.flushable) {
/*  262 */        this.emit('data', chunk.data);
/*  263 */      } else if (chunk.error) {
/*  264 */        this.emit('error', chunk.error);
/*  265 */        this.flush = function() {};
/*  266 */        return;
/*  267 */      } else {
/*  268 */        return;
/*  269 */      }
/*  270 */      chunk = chunk.next;
/*  271 */      this.head = chunk;
/*  272 */    }
/*  273 */    this.emit('end');
/*  274 */  };
/*  275 */  
/*  276 */  Stream.prototype.emit = function(type, data) {
/*  277 */    var events = this.events;
/*  278 */  
/*  279 */    if (events && events[type]) {
/*  280 */      events[type](data);
/*  281 */    }
/*  282 */  };
/*  283 */  
/*  284 */  Stream.prototype.on = function(type, callback) {
/*  285 */    if (!this.events) {
/*  286 */      this.events = {};
/*  287 */    }
/*  288 */    this.events[type] = callback;
/*  289 */    return this;
/*  290 */  };
/*  291 */  
/*  292 */  Stream.prototype.pipe = function(stream) {
/*  293 */    this.on("data", function(data) {
/*  294 */      stream.write(data, "utf8");
/*  295 */    }).on("end", function() {
/*  296 */      stream.end();
/*  297 */    }).on("error", function(err) {
/*  298 */      stream.error(err);
/*  299 */    });
/*  300 */    return this;
/*  301 */  };
/*  302 */  
/*  303 */  function Chunk(root, next, taps) {
/*  304 */    this.root = root;
/*  305 */    this.next = next;
/*  306 */    this.data = '';
/*  307 */    this.flushable = false;
/*  308 */    this.taps = taps;
/*  309 */  }
/*  310 */  
/*  311 */  Chunk.prototype.write = function(data) {
/*  312 */    var taps  = this.taps;
/*  313 */  
/*  314 */    if (taps) {
/*  315 */      data = taps.go(data);
/*  316 */    }
/*  317 */    this.data += data;
/*  318 */    return this;
/*  319 */  };
/*  320 */  
/*  321 */  Chunk.prototype.end = function(data) {
/*  322 */    if (data) {
/*  323 */      this.write(data);
/*  324 */    }
/*  325 */    this.flushable = true;
/*  326 */    this.root.flush();
/*  327 */    return this;
/*  328 */  };
/*  329 */  
/*  330 */  Chunk.prototype.map = function(callback) {
/*  331 */    var cursor = new Chunk(this.root, this.next, this.taps),
/*  332 */        branch = new Chunk(this.root, cursor, this.taps);
/*  333 */  
/*  334 */    this.next = branch;
/*  335 */    this.flushable = true;
/*  336 */    callback(branch);
/*  337 */    return cursor;
/*  338 */  };
/*  339 */  
/*  340 */  Chunk.prototype.tap = function(tap) {
/*  341 */    var taps = this.taps;
/*  342 */  
/*  343 */    if (taps) {
/*  344 */      this.taps = taps.push(tap);
/*  345 */    } else {
/*  346 */      this.taps = new Tap(tap);
/*  347 */    }
/*  348 */    return this;
/*  349 */  };
/*  350 */  
/*  351 */  Chunk.prototype.untap = function() {
/*  352 */    this.taps = this.taps.tail;
/*  353 */    return this;
/*  354 */  };
/*  355 */  
/*  356 */  Chunk.prototype.render = function(body, context) {
/*  357 */    return body(this, context);
/*  358 */  };
/*  359 */  
/*  360 */  Chunk.prototype.reference = function(elem, context, auto, filters) {
/*  361 */    if (typeof elem === "function") {
/*  362 */      elem = elem(this, context, null, {auto: auto, filters: filters});
/*  363 */      if (elem instanceof Chunk) {
/*  364 */        return elem;
/*  365 */      }
/*  366 */    }
/*  367 */    if (!dust.isEmpty(elem)) {
/*  368 */      return this.write(dust.filter(elem, auto, filters));
/*  369 */    } else {
/*  370 */      return this;
/*  371 */    }
/*  372 */  };
/*  373 */  
/*  374 */  Chunk.prototype.section = function(elem, context, bodies, params) {
/*  375 */    if (typeof elem === "function") {
/*  376 */      elem = elem(this, context, bodies, params);
/*  377 */      if (elem instanceof Chunk) {
/*  378 */        return elem;
/*  379 */      }
/*  380 */    }
/*  381 */  
/*  382 */    var body = bodies.block,
/*  383 */        skip = bodies['else'];
/*  384 */  
/*  385 */    if (params) {
/*  386 */      context = context.push(params);
/*  387 */    }
/*  388 */  
/*  389 */    if (dust.isArray(elem)) {
/*  390 */      if (body) {
/*  391 */        var len = elem.length, chunk = this;
/*  392 */        for (var i=0; i<len; i++) {
/*  393 */          chunk = body(chunk, context.push(elem[i], i, len));
/*  394 */        }
/*  395 */        return chunk;
/*  396 */      }
/*  397 */    } else if (elem === true) {
/*  398 */      if (body) return body(this, context);
/*  399 */    } else if (elem || elem === 0) {
/*  400 */      if (body) return body(this, context.push(elem));
/*  401 */    } else if (skip) {
/*  402 */      return skip(this, context);
/*  403 */    }
/*  404 */    return this;
/*  405 */  };
/*  406 */  
/*  407 */  Chunk.prototype.exists = function(elem, context, bodies) {
/*  408 */    var body = bodies.block,
/*  409 */        skip = bodies['else'];
/*  410 */  
/*  411 */    if (!dust.isEmpty(elem)) {
/*  412 */      if (body) return body(this, context);
/*  413 */    } else if (skip) {
/*  414 */      return skip(this, context);
/*  415 */    }
/*  416 */    return this;
/*  417 */  };
/*  418 */  
/*  419 */  Chunk.prototype.notexists = function(elem, context, bodies) {
/*  420 */    var body = bodies.block,
/*  421 */        skip = bodies['else'];
/*  422 */  
/*  423 */    if (dust.isEmpty(elem)) {
/*  424 */      if (body) return body(this, context);
/*  425 */    } else if (skip) {
/*  426 */      return skip(this, context);
/*  427 */    }
/*  428 */    return this;
/*  429 */  };
/*  430 */  
/*  431 */  Chunk.prototype.block = function(elem, context, bodies) {
/*  432 */    var body = bodies.block;
/*  433 */  
/*  434 */    if (elem) {
/*  435 */      body = elem;
/*  436 */    }
/*  437 */  
/*  438 */    if (body) {
/*  439 */      return body(this, context);
/*  440 */    }
/*  441 */    return this;
/*  442 */  };
/*  443 */  
/*  444 */  Chunk.prototype.partial = function(elem, context, params) {
/*  445 */    var ctx = context.stack, tempHead = ctx.head;
/*  446 */    if (params){
/*  447 */      //put the params context second to match what section does. {.} matches the current context without parameters
/*  448 */      //remove head
/*  449 */      context = context.rebase(ctx.tail);
/*  450 */      //put params on
/*  451 */      context = context.push(params);
/*  452 */      //reattach the head
/*  453 */      context = context.push(tempHead);
/*  454 */    }
/*  455 */    if (typeof elem === "function") {
/*  456 */      return this.capture(elem, context, function(name, chunk) {
/*  457 */        dust.load(name, chunk, context).end();
/*  458 */      });
/*  459 */    }
/*  460 */    return dust.load(elem, this, context);
/*  461 */  };
/*  462 */  
/*  463 */  Chunk.prototype.helper = function(name, context, bodies, params) {
/*  464 */    return dust.helpers[name](this, context, bodies, params);
/*  465 */  };
/*  466 */  
/*  467 */  Chunk.prototype.capture = function(body, context, callback) {
/*  468 */    return this.map(function(chunk) {
/*  469 */      var stub = new Stub(function(err, out) {
/*  470 */        if (err) {
/*  471 */          chunk.setError(err);
/*  472 */        } else {
/*  473 */          callback(out, chunk);
/*  474 */        }
/*  475 */      });
/*  476 */      body(stub.head, context).end();
/*  477 */    });
/*  478 */  };
/*  479 */  
/*  480 */  Chunk.prototype.setError = function(err) {
/*  481 */    this.error = err;
/*  482 */    this.root.flush();
/*  483 */    return this;
/*  484 */  };
/*  485 */  
/*  486 */  function Tap(head, tail) {
/*  487 */    this.head = head;
/*  488 */    this.tail = tail;
/*  489 */  }
/*  490 */  
/*  491 */  Tap.prototype.push = function(tap) {
/*  492 */    return new Tap(tap, this);
/*  493 */  };
/*  494 */  
/*  495 */  Tap.prototype.go = function(value) {
/*  496 */    var tap = this;
/*  497 */  
/*  498 */    while(tap) {
/*  499 */      value = tap.head(value);
/*  500 */      tap = tap.tail;
/*  501 */    }
/*  502 */    return value;
/*  503 */  };
/*  504 */  
/*  505 */  var HCHARS = new RegExp(/[&<>\"\']/),
/*  506 */      AMP    = /&/g,
/*  507 */      LT     = /</g,
/*  508 */      GT     = />/g,
/*  509 */      QUOT   = /\"/g,
/*  510 */      SQUOT  = /\'/g;
/*  511 */  
/*  512 */  dust.escapeHtml = function(s) {
/*  513 */    if (typeof s === "string") {
/*  514 */      if (!HCHARS.test(s)) {
/*  515 */        return s;
/*  516 */      }
/*  517 */      return s.replace(AMP,'&amp;').replace(LT,'&lt;').replace(GT,'&gt;').replace(QUOT,'&quot;').replace(SQUOT, '&#39;');
/*  518 */    }
/*  519 */    return s;
/*  520 */  };
/*  521 */  
/*  522 */  var BS = /\\/g,
/*  523 */      CR = /\r/g,
/*  524 */      LS = /\u2028/g,
/*  525 */      PS = /\u2029/g,
/*  526 */      NL = /\n/g,
/*  527 */      LF = /\f/g,
/*  528 */      SQ = /'/g,
/*  529 */      DQ = /"/g,
/*  530 */      TB = /\t/g;
/*  531 */  
/*  532 */  dust.escapeJs = function(s) {
/*  533 */    if (typeof s === "string") {
/*  534 */      return s
/*  535 */        .replace(BS, '\\\\')
/*  536 */        .replace(DQ, '\\"')
/*  537 */        .replace(SQ, "\\'")
/*  538 */        .replace(CR, '\\r')
/*  539 */        .replace(LS, '\\u2028')
/*  540 */        .replace(PS, '\\u2029')
/*  541 */        .replace(NL, '\\n')
/*  542 */        .replace(LF, '\\f')
/*  543 */        .replace(TB, "\\t");
/*  544 */    }
/*  545 */    return s;
/*  546 */  };
/*  547 */  
/*  548 */  })(dust);
/*  549 */  
/*  550 */  if (typeof exports !== "undefined") {
/*  551 */    dust.helpers = require("./dust-helpers").helpers;
/*  552 */    if (typeof process !== "undefined") {
/*  553 */        require('./server')(dust);
/*  554 */    }
/*  555 */    module.exports = dust;
/*  556 */  }
/*  557 */  (function(dust){
/*  558 */  
/*  559 */  /* make a safe version of console if it is not available
    560      * currently supporting:
    561      *   _console.log 
    562      * */
/*  563 */  var _console = (typeof console !== 'undefined')? console: {
/*  564 */    log: function(){
/*  565 */       /* a noop*/
/*  566 */     }
/*  567 */  };
/*  568 */  
/*  569 */  function isSelect(context) {
/*  570 */    var value = context.current();
/*  571 */    return typeof value === "object" && value.isSelect === true;    
/*  572 */  }
/*  573 */  
/*  574 */  function filter(chunk, context, bodies, params, filter) {
/*  575 */    var params = params || {},
/*  576 */        actual, expected;
/*  577 */    if (params.key) {
/*  578 */      actual = context.get(params.key);
/*  579 */    } else if (isSelect(context)) {
/*  580 */      actual = context.current().value;
/*  581 */      if (context.current().isResolved) {
/*  582 */        filter = function() { return false; };
/*  583 */      }
/*  584 */    } else {
/*  585 */      throw "No key specified for filter and no key found in context from select statement";
/*  586 */    }
/*  587 */    expected = helpers.tap(params.value, chunk, context);
/*  588 */    if (filter(expected, coerce(actual, params.type, context))) {
/*  589 */      if (isSelect(context)) {
/*  590 */        context.current().isResolved = true;
/*  591 */      }
/*  592 */      return chunk.render(bodies.block, context);
/*  593 */    } else if (bodies['else']) {
/*  594 */      return chunk.render(bodies['else'], context);
/*  595 */    }
/*  596 */  
/*  597 */    return chunk.write('');
/*  598 */  }
/*  599 */  
/*  600 */  function coerce (value, type, context) {
/*  601 */    if (value) {
/*  602 */      switch (type || typeof(value)) {
/*  603 */        case 'number': return +value;
/*  604 */        case 'string': return String(value);
/*  605 */        case 'boolean': return Boolean(value);
/*  606 */        case 'date': return new Date(value);
/*  607 */        case 'context': return context.get(value);
/*  608 */      }
/*  609 */    }
/*  610 */  
/*  611 */    return value;
/*  612 */  }
/*  613 */  
/*  614 */  var helpers = {
/*  615 */    
/*  616 */    sep: function(chunk, context, bodies) {
/*  617 */      if (context.stack.index === context.stack.of - 1) {
/*  618 */        return chunk;
/*  619 */      }
/*  620 */      return bodies.block(chunk, context);
/*  621 */    },
/*  622 */  
/*  623 */    idx: function(chunk, context, bodies) {
/*  624 */      return bodies.block(chunk, context.push(context.stack.index));
/*  625 */    },
/*  626 */    contextDump: function(chunk, context, bodies) {
/*  627 */      _console.log(JSON.stringify(context.stack));
/*  628 */      return chunk;
/*  629 */    },
/*  630 */    
/*  631 */    // Utility helping to resolve dust references in the given chunk
/*  632 */    tap: function( input, chunk, context ){
/*  633 */      // return given input if there is no dust reference to resolve
/*  634 */      var output = input;
/*  635 */      // dust compiles a string to function, if there are references
/*  636 */      if( typeof input === "function"){
/*  637 */        output = '';
/*  638 */        chunk.tap(function(data){
/*  639 */          output += data;
/*  640 */          return '';
/*  641 */        }).render(input, context).untap();
/*  642 */        if( output === '' ){
/*  643 */          output = false;
/*  644 */        }
/*  645 */      } 
/*  646 */      return output;
/*  647 */    },
/*  648 */  
/*  649 */    "if": function( chunk, context, bodies, params ){
/*  650 */      if( params && params.cond ){
/*  651 */        var cond = params.cond;
/*  652 */        cond = this.tap(cond, chunk, context);
/*  653 */        // eval expressions with given dust references
/*  654 */        if( eval( cond ) ){
/*  655 */         return chunk.render( bodies.block, context );
/*  656 */        }
/*  657 */        if( bodies['else'] ){
/*  658 */         return chunk.render( bodies['else'], context );
/*  659 */        }
/*  660 */      }
/*  661 */      // no condition
/*  662 */      else {
/*  663 */        _console.log( "NO condition given in the if helper!" );
/*  664 */      }
/*  665 */      return chunk;
/*  666 */    },
/*  667 */    select: function(chunk, context, bodies, params) {
/*  668 */      if( params && params.key){
/*  669 */        var key = params.key;
/*  670 */        key = this.tap(key, chunk, context);
/*  671 */        return chunk.render(bodies.block, context.push({ isSelect: true, isResolved: false, value: context.get(key) }));
/*  672 */      }
/*  673 */      // no key
/*  674 */      else {
/*  675 */        _console.log( "No key given for the select tag!" );
/*  676 */      }
/*  677 */      return chunk;
/*  678 */    },
/*  679 */  
/*  680 */    eq: function(chunk, context, bodies, params) {
/*  681 */      return filter(chunk, context, bodies, params, function(expected, actual) { return actual === expected; });
/*  682 */    },
/*  683 */  
/*  684 */    lt: function(chunk, context, bodies, params) {
/*  685 */      return filter(chunk, context, bodies, params, function(expected, actual) { return actual < expected; });
/*  686 */    },
/*  687 */  
/*  688 */    lte: function(chunk, context, bodies, params) {
/*  689 */      return filter(chunk, context, bodies, params, function(expected, actual) { return actual <= expected; });
/*  690 */    },
/*  691 */  
/*  692 */    gt: function(chunk, context, bodies, params) {
/*  693 */      return filter(chunk, context, bodies, params, function(expected, actual) { return actual > expected; });
/*  694 */    },
/*  695 */  
/*  696 */    gte: function(chunk, context, bodies, params) {
/*  697 */      return filter(chunk, context, bodies, params, function(expected, actual) { return actual >= expected; });
/*  698 */    },
/*  699 */  
/*  700 */    "else": function(chunk, context, bodies, params) {
/*  701 */      return filter(chunk, context, bodies, params, function(expected, actual) { return true; });
/*  702 */    }
/*  703 */  };
/*  704 */  
/*  705 */  dust.helpers = helpers;
/*  706 */  
/*  707 */  })(typeof exports !== 'undefined' ? exports : getGlobal());
/*  708 */  

/**
 * js/libs/jquery.tweenlite.js
 */

/*    0 */  /*!
      1      * TweenLite jQuery plugin v0.0.1
      2      *
      3      * Copyright (c) 2011 Kilian Ciuffolo, me@nailik.org
      4      *
      5      * Licensed under the MIT license.
      6      * Permission is hereby granted, free of charge, to any person
      7      * obtaining a copy of this software and associated documentation
      8      * files (the "Software"), to deal in the Software without
      9      * restriction, including without limitation the rights to use,
     10      * copy, modify, merge, publish, distribute, sublicense, and/or sell
     11      * copies of the Software, and to permit persons to whom the
     12      * Software is furnished to do so, subject to the following
     13      * conditions:
     14      *
     15      * The above copyright notice and this permission notice shall be
     16      * included in all copies or substantial portions of the Software.
     17      *
     18      * Date: Wed Jul 4 16:00:34 2012 -0700
     19      */
/*   20 */  
/*   21 */  /*global TweenLite*/
/*   22 */  
/*   23 */  ;(function () {
/*   24 */    "use strict";
/*   25 */  
/*   26 */    ['to', 'from', 'fromTo', 'set'].forEach(function (methodName) {
/*   27 */      $.fn[methodName] = function (css, time, options, callback) {
/*   28 */        if (typeof options === 'function') {
/*   29 */          callback = options
/*   30 */          options = {}
/*   31 */        }
/*   32 */  
/*   33 */        options = options || {}
/*   34 */        options.css = css
/*   35 */        options.onComplete = options.onComplete || callback
/*   36 */  
/*   37 */        TweenLite[methodName](this[0], time, options)
/*   38 */        return this
/*   39 */      }
/*   40 */    })
/*   41 */  })()

/**
 * js/libs/tools_map.js
 */

/*    0 */  ;(function (exports) {
/*    1 */    "use strict";
/*    2 */  
/*    3 */    exports.toolsMap = {
/*    4 */      'arrow': 'moveTool',
/*    5 */      'marquee': 'marqueeRectTool',
/*    6 */      'lasso': 'lassoTool',
/*    7 */      'wand': 'magicWandTool',
/*    8 */      'crop': 'cropTool',
/*    9 */      'eyedropper': 'eyedropperTool',
/*   10 */      'heal': 'spotHealingBrushTool',
/*   11 */      'brush': 'paintbrushTool',
/*   12 */      'stamp': 'cloneStampTool',
/*   13 */      'eraser': 'eraserTool',
/*   14 */      'fill': 'bucketTool',
/*   15 */      'blur': 'blurTool',
/*   16 */      'dodge': 'dodgeTool',
/*   17 */      'type': 'typeCreateOrEditTool',
/*   18 */      'pen': 'penTool',
/*   19 */      'shape': 'ellipseTool'
/*   20 */    }
/*   21 */  
/*   22 */    exports.toolsMapReverse = {}
/*   23 */    Object.keys(toolsMap).forEach(function (toolId) {
/*   24 */      exports.toolsMapReverse[toolsMap[toolId]] = toolId
/*   25 */    })
/*   26 */  })(window)

/**
 * js/libs/load_template.js
 */

/*    0 */  /*global dust:true*/
/*    1 */  
/*    2 */  ;(function (exports) {
/*    3 */    "use strict";
/*    4 */  
/*    5 */    function compileTemplate(name, tag, data) {
/*    6 */      var el
/*    7 */      // sync function written with async pattern, awesome :|
/*    8 */      dust.render(name, data || {}, function (err, html) {
/*    9 */        if (err) throw err
/*   10 */        el = $('<' + tag + '>' + html + '</' + tag + '>')[0].firstChild
/*   11 */      })
/*   12 */      return el
/*   13 */    }
/*   14 */  
/*   15 */    exports.loadTemplate = function loadTemplate(name, callback) {
/*   16 */      $.get('views/' + name + '.js', function (template) {
/*   17 */        var tag = template.match(/<tr[\s\S]*?<\/tr>/g) ? 'tbody' : 'div'
/*   18 */        dust.loadSource(template)
/*   19 */        callback(null, compileTemplate.bind(null, name, tag))
/*   20 */      })
/*   21 */    }
/*   22 */  })(window)
/*   23 */  
/*   24 */  // var layerRows = {
/*   25 */  //   'LayerKind.GROUP': '<li id="{id}" class="{focus}"><a class="handle" href=""></a><input type="checkbox" {isVisible}><a class="preview group"></a>{name}<a class="disclosure" href=""></a></li>',
/*   26 */  //   'LayerKind.TEXT': '<li id="{id}" class="{focus}"><a class="handle" href=""></a><input type="checkbox" {isVisible}><a class="preview type"></a>{name}<a class="disclosure" href=""></a></li>',
/*   27 */  //   'LayerKind.NORMAL': '<li id="{id}" class="{focus}"><a class="handle" href=""></a><input type="checkbox" {isVisible}><a class="preview thumb" style="background-image: url(\'images/layers/{name}.png\')"></a>{name}<a class="disclosure" href=""></a></li>',
/*   28 */  //   'LayerKind.SOLIDFILL': '<li id="{id}" class="{focus}"><a class="handle" href=""></a><input type="checkbox" {isVisible}><a class="preview shape"></a>{name}<a class="disclosure" href=""></a></li>'
/*   29 */  // }
/*   30 */  

/**
 * js/main.js
 */

/*    0 */  /*global io loadTemplate async*/
/*    1 */  $().ready(function () {
/*    2 */    "use strict";
/*    3 */  
/*    4 */    window.document.title = 'motherlover'
/*    5 */  
/*    6 */    var elements = {}
/*    7 */    var layers = {}
/*    8 */    var layersArray = []
/*    9 */    var selectedLayer = null
/*   10 */    var socket = io.connect()
/*   11 */    var canvasElement = $('#canvas')
/*   12 */  
/*   13 */    socket.on('currentDocumentChanged', function (data) {
/*   14 */      window.document.title = 'motherlover / ' + data.split('/').pop()
/*   15 */      document.location.hash = data
/*   16 */    })
/*   17 */  
/*   18 */    socket.on('toolChanged', function (data) {})
/*   19 */    socket.on('fontList', function (fontList) {})
/*   20 */  
/*   21 */    socket.on('layers', function (layers) {
/*   22 */      purgeLayers(layers)
/*   23 */      layersArray = layers
/*   24 */      layers.forEach(configureLayer)
/*   25 */    })
/*   26 */  
/*   27 */    socket.on('layerPngReady', function (layerId) {
/*   28 */      elements[layerId].to({
/*   29 */        'background-color': 'transparent',
/*   30 */        'background-image': 'url("images/layers/' + layers[layerId].name + '")'
/*   31 */      }).to({ opacity: 1 }, 1)
/*   32 */    })
/*   33 */  
/*   34 */    socket.emit('ready')
/*   35 */  
/*   36 */    function isFormatChanged(layer) {
/*   37 */      var element = elements[layer.id]
/*   38 */      var className = layer.kind.replace('LayerKind.').toLowerCase()
/*   39 */      return (element !== undefined && !element.hasClass(className))
/*   40 */    }
/*   41 */  
/*   42 */    function purgeLayers(newLayerSet) {
/*   43 */      var ids = newLayerSet.map(function (layer) { return layer.id })
/*   44 */  
/*   45 */      layersArray.forEach(function (layer) {
/*   46 */        var layerId = layer.id
/*   47 */        if (ids.indexOf(layerId) === -1 || isFormatChanged(layer)) {
/*   48 */          elements[layerId].remove()
/*   49 */          ;delete elements[layerId]
/*   50 */        }
/*   51 */      })
/*   52 */    }
/*   53 */  
/*   54 */    function configureLayer(layer) {
/*   55 */      var element = elements[layer.id]
/*   56 */  
/*   57 */      if (element === undefined) {
/*   58 */        elements[layer.id] = createLayer(layer).appendTo(canvasElement)
/*   59 */      } else {
/*   60 */        element.css(getStyle(layer))
/*   61 */        if (layer.kind === 'LayerKind.TEXT') {
/*   62 */          element.text(layer.textContent)
/*   63 */        }
/*   64 */      }
/*   65 */  
/*   66 */      layers[layer.id] = layer
/*   67 */  
/*   68 */      if (layer.isSelected) {
/*   69 */        selectedLayer = layer
/*   70 */      }
/*   71 */    }
/*   72 */  
/*   73 */    function createLayer(layer) {
/*   74 */      var element
/*   75 */      var styles = getStyle(layer)
/*   76 */      switch (layer.kind) {
/*   77 */        case 'LayerKind.TEXT':
/*   78 */          element = $('<p id="ml-' + layer.id + '" class="text">' + layer.textContent + '</p>').css(styles)
/*   79 */          break
/*   80 */        case 'LayerKind.SOLIDFILL':
/*   81 */          element = $('<div id="ml-' + layer.id + '" class="solidfill"></div>').css(styles)
/*   82 */          break
/*   83 */        case 'LayerKind.NORMAL':
/*   84 */          element = $('<div id="ml-' + layer.id + '" class="normal"></div>').css(styles)
/*   85 */          break
/*   86 */      }
/*   87 */      element.css('position', 'absolute')
/*   88 */      element.draggable().on('dragstop', function (e, data) {
/*   89 */        var x = data.position.left - data.originalPosition.left
/*   90 */        var y = data.position.top - data.originalPosition.top
/*   91 */        socket.emit('move', layer.id, x, y)
/*   92 */      })
/*   93 */      return element
/*   94 */    }
/*   95 */  
/*   96 */    function getStyle(layer) {
/*   97 */      var styles = {
/*   98 */        'left': layer.bounds[0] + 'px',
/*   99 */        'top': layer.bounds[1] + 'px',
/*  100 */        'width': (layer.bounds[2] - layer.bounds[0])  + 'px',
/*  101 */        'height': (layer.bounds[3] - layer.bounds[1])  + 'px',
/*  102 */        'display': layer.isVisible ? 'block' : 'none',
/*  103 */        'z-index': layer.index
/*  104 */      }
/*  105 */  
/*  106 */      switch (layer.kind) {
/*  107 */        case 'LayerKind.TEXT':
/*  108 */          styles.color = '#' + layer.textColor
/*  109 */          styles['font-family'] = layer.textFont
/*  110 */          styles['font-size'] = layer.textSize
/*  111 */        break
/*  112 */        case 'LayerKind.SOLIDFILL':
/*  113 */          styles['background-color'] = '#' + layer.fillColor
/*  114 */        break
/*  115 */        case 'LayerKind.NORMAL':
/*  116 */          styles.opacity = 1
/*  117 */          styles['background-color'] = 'transparent'
/*  118 */          styles['background-image'] = 'url("images/layers/' + layer.name + '")'
/*  119 */        break
/*  120 */      }
/*  121 */  
/*  122 */      return styles
/*  123 */    }
/*  124 */  })

